2023-12-17 10:24:39.310 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-17 10:24:47.500 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO orgs (p_id, type, name)
    VALUES (
        null,
        '01',
        '〇〇株式会社'
    )
    RETURNING id;
    
2023-12-17 10:24:47.505 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO roles (type, name)
    VALUES (
        '01',
        '本社管理者'
    )
    RETURNING id;
    
2023-12-17 10:24:47.509 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_org_rels (user_id, org_id, type)
    VALUES (
        '54de1c37-9e8b-49e4-a968-d126623275e6',
        '6586e024-6190-446d-a1e0-ad7d518afd8a',
        '01'
    )
    
2023-12-17 10:24:47.513 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_role_rels (user_id, role_id)
    VALUES (
        '54de1c37-9e8b-49e4-a968-d126623275e6',
        '73f1c114-1d2d-4b70-91c0-5511fe6cc540'
    )
    
2023-12-17 10:24:47.516 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO org_role_rels (org_id, role_id)
    VALUES (
        '6586e024-6190-446d-a1e0-ad7d518afd8a',
        '73f1c114-1d2d-4b70-91c0-5511fe6cc540'
    )
    
2023-12-17 10:24:47.519 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '73f1c114-1d2d-4b70-91c0-5511fe6cc540',
            '8f63e587-b802-4cfd-8ead-d3423237b054'
        )
        
2023-12-17 10:24:47.521 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '73f1c114-1d2d-4b70-91c0-5511fe6cc540',
            '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
        )
        
2023-12-17 10:24:47.522 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '73f1c114-1d2d-4b70-91c0-5511fe6cc540',
            '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
        )
        
2023-12-17 10:24:47.526 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '73f1c114-1d2d-4b70-91c0-5511fe6cc540',
            '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
        )
        
2023-12-17 10:24:47.527 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '73f1c114-1d2d-4b70-91c0-5511fe6cc540',
            'dd96b563-2476-4904-a880-a2cffe1ea0ac'
        )
        
2023-12-17 10:24:47.531 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '73f1c114-1d2d-4b70-91c0-5511fe6cc540',
            '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
        )
        
2023-12-17 10:24:47.534 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '73f1c114-1d2d-4b70-91c0-5511fe6cc540',
            '2ca11194-6079-41e8-8b26-275aa42848fa'
        )
        
2023-12-17 10:24:47.535 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '73f1c114-1d2d-4b70-91c0-5511fe6cc540',
            '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
        )
        
2023-12-17 10:24:47.540 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '73f1c114-1d2d-4b70-91c0-5511fe6cc540',
            '58289de8-b6b7-4629-9016-58e5d30e89ee'
        )
        
2023-12-17 10:24:47.541 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '73f1c114-1d2d-4b70-91c0-5511fe6cc540',
            '2065f63f-5e95-432e-9545-eed26715dc49'
        )
        
2023-12-17 10:24:47.543 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '73f1c114-1d2d-4b70-91c0-5511fe6cc540',
            '55762da2-4d17-418e-b09f-e6249645ec18'
        )
        
2023-12-17 10:24:47.544 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '73f1c114-1d2d-4b70-91c0-5511fe6cc540',
            'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
        )
        
2023-12-17 10:24:47.545 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '73f1c114-1d2d-4b70-91c0-5511fe6cc540',
            'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
        )
        
2023-12-17 10:24:47.548 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '73f1c114-1d2d-4b70-91c0-5511fe6cc540',
            'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7'
        )
        
2023-12-17 10:24:47.551 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62176 - "POST /org HTTP/1.1" 200
2023-12-17 10:24:48.441 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62176 - "OPTIONS /org/6586e024-6190-446d-a1e0-ad7d518afd8a HTTP/1.1" 200
2023-12-17 10:24:48.441 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62184 - "OPTIONS /layouts/org/users?org_id=6586e024-6190-446d-a1e0-ad7d518afd8a&role_id=null HTTP/1.1" 200
2023-12-17 10:24:48.442 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62185 - "OPTIONS /org/6586e024-6190-446d-a1e0-ad7d518afd8a HTTP/1.1" 200
2023-12-17 10:24:48.442 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62186 - "OPTIONS /layouts/org/users?org_id=6586e024-6190-446d-a1e0-ad7d518afd8a&role_id=null HTTP/1.1" 200
2023-12-17 10:24:48.449 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '6586e024-6190-446d-a1e0-ad7d518afd8a'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 10:24:48.449 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '6586e024-6190-446d-a1e0-ad7d518afd8a'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 10:24:48.451 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '6586e024-6190-446d-a1e0-ad7d518afd8a';
    
2023-12-17 10:24:48.456 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62185 - "GET /org/6586e024-6190-446d-a1e0-ad7d518afd8a HTTP/1.1" 200
2023-12-17 10:24:48.458 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-17 10:24:48.460 | ERROR    | app.endpoints.layouts:get_orgs:77 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007af430>
           └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007a3a60>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a42a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    └ <function subprocess_started at 0x102f111f0>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a42bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102efb790>
           │       │   └ <uvicorn.server.Server object at 0x100a42bb0>
           │       └ <function run at 0x100a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102ee0ac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd670>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd6...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10302f760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd670>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd6...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd670>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd6...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
          └ <fastapi.applications.FastAPI object at 0x10302f760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103032280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103032280>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd6...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10266baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103032af0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103032af0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10302f880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103032af0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd6...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1025c1af0>
          └ APIRoute(path='/layouts/org/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103032af0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103163940>
          └ APIRoute(path='/layouts/org/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x103199760>
                     └ <function get_request_handler.<locals>.app at 0x103163af0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1025b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102f17bb0>, 'org_id': '6586e024-6190-446d-a1e0-ad7d518afd8a', 'role_id': 'null'}
                 │         └ <function get_orgs at 0x102d73e50>
                 └ <fastapi.dependencies.models.Dependant object at 0x103178fd0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 70, in get_orgs
    users = await layouts_crud.query_layouts_org_users(db, org_id, role_id)
                  │            │                       │   │       └ 'null'
                  │            │                       │   └ '6586e024-6190-446d-a1e0-ad7d518afd8a'
                  │            │                       └ <providers.psql_provider.DB object at 0x102f17bb0>
                  │            └ <function query_layouts_org_users at 0x102db2040>
                  └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 123, in query_layouts_org_users
    main_org_id = await db.fetch_value(sql)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x102a71f70>
                        └ <providers.psql_provider.DB object at 0x102f17bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x1027cb1f0>
                   └ <PoolConnectionProxy [released] 0x103199e20>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1027b81f0>
                 └ <asyncpg.connection.Connection object at 0x1031c6220>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1031c6220>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1027b85e0>
                         └ <asyncpg.connection.Connection object at 0x1031c6220>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1027b6700>
                 └ <asyncpg.connection.Connection object at 0x1031c6220>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1031c6220>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:24:48.473 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62186 - "GET /layouts/org/users?org_id=6586e024-6190-446d-a1e0-ad7d518afd8a&role_id=null HTTP/1.1" 500
2023-12-17 10:24:48.473 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '6586e024-6190-446d-a1e0-ad7d518afd8a'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 10:24:48.481 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '6586e024-6190-446d-a1e0-ad7d518afd8a'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 10:24:48.483 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '6586e024-6190-446d-a1e0-ad7d518afd8a';
    
2023-12-17 10:24:48.489 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62184 - "GET /org/6586e024-6190-446d-a1e0-ad7d518afd8a HTTP/1.1" 200
2023-12-17 10:24:48.490 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-17 10:24:48.491 | ERROR    | app.endpoints.layouts:get_orgs:77 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007af430>
           └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007a3a60>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a42a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    └ <function subprocess_started at 0x102f111f0>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a42bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102efb790>
           │       │   └ <uvicorn.server.Server object at 0x100a42bb0>
           │       └ <function run at 0x100a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102ee0ac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bde80>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bde...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10302f760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bde80>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bde...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bde80>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bde...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
          └ <fastapi.applications.FastAPI object at 0x10302f760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103029dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bde...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103029dc0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bde...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10266baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bde...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103163310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bde...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103163310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bde...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10302f880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103163310>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bde...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1025c1af0>
          └ APIRoute(path='/layouts/org/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103163310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bde...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103163940>
          └ APIRoute(path='/layouts/org/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x103199bb0>
                     └ <function get_request_handler.<locals>.app at 0x103163af0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1025b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102f17bb0>, 'org_id': '6586e024-6190-446d-a1e0-ad7d518afd8a', 'role_id': 'null'}
                 │         └ <function get_orgs at 0x102d73e50>
                 └ <fastapi.dependencies.models.Dependant object at 0x103178fd0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 70, in get_orgs
    users = await layouts_crud.query_layouts_org_users(db, org_id, role_id)
                  │            │                       │   │       └ 'null'
                  │            │                       │   └ '6586e024-6190-446d-a1e0-ad7d518afd8a'
                  │            │                       └ <providers.psql_provider.DB object at 0x102f17bb0>
                  │            └ <function query_layouts_org_users at 0x102db2040>
                  └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 123, in query_layouts_org_users
    main_org_id = await db.fetch_value(sql)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x102a71f70>
                        └ <providers.psql_provider.DB object at 0x102f17bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x1027cb1f0>
                   └ <PoolConnectionProxy [released] 0x103166430>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1027b81f0>
                 └ <asyncpg.connection.Connection object at 0x1032c5a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1032c5a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1027b85e0>
                         └ <asyncpg.connection.Connection object at 0x1032c5a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1027b6700>
                 └ <asyncpg.connection.Connection object at 0x1032c5a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1032c5a90>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:24:48.496 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62185 - "GET /layouts/org/users?org_id=6586e024-6190-446d-a1e0-ad7d518afd8a&role_id=null HTTP/1.1" 500
2023-12-17 10:29:47.015 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63402 - "OPTIONS /orgs?role_id=null HTTP/1.1" 200
2023-12-17 10:29:47.015 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63403 - "OPTIONS /orgs?role_id=null HTTP/1.1" 200
2023-12-17 10:29:47.028 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-17 10:29:47.032 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63403 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-17 10:29:47.043 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-17 10:29:47.048 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63402 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-17 10:31:22.932 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63802 - "OPTIONS /layouts/orgs?role_id=null HTTP/1.1" 200
2023-12-17 10:31:22.932 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63803 - "OPTIONS /layouts/users?role_id=null HTTP/1.1" 200
2023-12-17 10:31:22.932 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63804 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-17 10:31:22.933 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63805 - "OPTIONS /layouts/orgs?role_id=null HTTP/1.1" 200
2023-12-17 10:31:22.933 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63806 - "OPTIONS /layouts/users?role_id=null HTTP/1.1" 200
2023-12-17 10:31:22.934 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63803 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-17 10:31:22.940 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '6586e024-6190-446d-a1e0-ad7d518afd8a'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 10:31:22.942 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-17 10:31:22.944 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 10:31:22.945 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-17 10:31:22.946 | ERROR    | app.endpoints.layouts:get_orgs:41 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007af430>
           └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007a3a60>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a42a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    └ <function subprocess_started at 0x102f111f0>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a42bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102efb790>
           │       │   └ <uvicorn.server.Server object at 0x100a42bb0>
           │       └ <function run at 0x100a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102ee0ac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103166400>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031664...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10302f760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103166400>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031664...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103166400>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031664...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
          └ <fastapi.applications.FastAPI object at 0x10302f760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103352d30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031664...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103352d30>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031664...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10266baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031664...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1033529d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031664...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1033529d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031664...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10302f880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1033529d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031664...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1025c1af0>
          └ APIRoute(path='/layouts/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1033529d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031664...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103032700>
          └ APIRoute(path='/layouts/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x103396310>
                     └ <function get_request_handler.<locals>.app at 0x1030325e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1025b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102f17bb0>, 'role_id': 'null'}
                 │         └ <function get_orgs at 0x102db2820>
                 └ <fastapi.dependencies.models.Dependant object at 0x103166e50>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 34, in get_orgs
    users = await layouts_crud.query_layouts_users(db, role_id)
                  │            │                   │   └ 'null'
                  │            │                   └ <providers.psql_provider.DB object at 0x102f17bb0>
                  │            └ <function query_layouts_users at 0x102da1f70>
                  └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 50, in query_layouts_users
    main_org_id = await db.fetch_value(sql)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x102a71f70>
                        └ <providers.psql_provider.DB object at 0x102f17bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x1027cb1f0>
                   └ <PoolConnectionProxy [released] 0x1033961c0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1027b81f0>
                 └ <asyncpg.connection.Connection object at 0x1032c5a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1032c5a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1027b85e0>
                         └ <asyncpg.connection.Connection object at 0x1032c5a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1027b6700>
                 └ <asyncpg.connection.Connection object at 0x1032c5a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1032c5a90>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:31:22.952 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63806 - "GET /layouts/users?role_id=null HTTP/1.1" 500
2023-12-17 10:31:22.954 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63804 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 10:31:22.955 | ERROR    | app.endpoints.layouts:get_orgs:23 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007af430>
           └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007a3a60>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a42a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    └ <function subprocess_started at 0x102f111f0>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a42bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102efb790>
           │       │   └ <uvicorn.server.Server object at 0x100a42bb0>
           │       └ <function run at 0x100a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102ee0ac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396f40>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396f...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10302f760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396f40>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396f...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396f40>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396f...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
          └ <fastapi.applications.FastAPI object at 0x10302f760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103352ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103352ca0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396f...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10266baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103352a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103352a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10302f880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103352a60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396f...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1025c1af0>
          └ APIRoute(path='/layouts/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103352a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103033280>
          └ APIRoute(path='/layouts/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1031c9850>
                     └ <function get_request_handler.<locals>.app at 0x103033550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1025b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102f17bb0>, 'role_id': 'null'}
                 │         └ <function get_orgs at 0x102db20d0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10315ceb0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 16, in get_orgs
    orgs = await layouts_crud.query_layouts_orgs(db, role_id)
                 │            │                  │   └ 'null'
                 │            │                  └ <providers.psql_provider.DB object at 0x102f17bb0>
                 │            └ <function query_layouts_orgs at 0x102da1ee0>
                 └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 18, in query_layouts_orgs
    main_org_id = await db.fetch_value(sql_main)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x102a71f70>
                        └ <providers.psql_provider.DB object at 0x102f17bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x1027cb1f0>
                   └ <PoolConnectionProxy [released] 0x1031c9df0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1027b81f0>
                 └ <asyncpg.connection.Connection object at 0x1032c5b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1032c5b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1027b85e0>
                         └ <asyncpg.connection.Connection object at 0x1032c5b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1027b6700>
                 └ <asyncpg.connection.Connection object at 0x1032c5b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1032c5b80>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:31:22.961 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63805 - "GET /layouts/orgs?role_id=null HTTP/1.1" 500
2023-12-17 10:31:22.964 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-17 10:31:22.965 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '6586e024-6190-446d-a1e0-ad7d518afd8a';
    
2023-12-17 10:31:22.966 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 10:31:22.972 | ERROR    | app.endpoints.layouts:get_orgs:41 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007af430>
           └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007a3a60>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a42a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    └ <function subprocess_started at 0x102f111f0>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a42bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102efb790>
           │       │   └ <uvicorn.server.Server object at 0x100a42bb0>
           │       └ <function run at 0x100a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102ee0ac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd670>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd6...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10302f760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd670>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd6...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd670>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd6...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
          └ <fastapi.applications.FastAPI object at 0x10302f760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103352b80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103352b80>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd6...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10266baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103032940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103032940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10302f880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103032940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd6...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1025c1af0>
          └ APIRoute(path='/layouts/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103032940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103032700>
          └ APIRoute(path='/layouts/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x103396580>
                     └ <function get_request_handler.<locals>.app at 0x1030325e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1025b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102f17bb0>, 'role_id': 'null'}
                 │         └ <function get_orgs at 0x102db2820>
                 └ <fastapi.dependencies.models.Dependant object at 0x103166e50>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 34, in get_orgs
    users = await layouts_crud.query_layouts_users(db, role_id)
                  │            │                   │   └ 'null'
                  │            │                   └ <providers.psql_provider.DB object at 0x102f17bb0>
                  │            └ <function query_layouts_users at 0x102da1f70>
                  └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 50, in query_layouts_users
    main_org_id = await db.fetch_value(sql)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x102a71f70>
                        └ <providers.psql_provider.DB object at 0x102f17bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x1027cb1f0>
                   └ <PoolConnectionProxy [released] 0x1031bd400>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1027b81f0>
                 └ <asyncpg.connection.Connection object at 0x1032c5e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1032c5e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1027b85e0>
                         └ <asyncpg.connection.Connection object at 0x1032c5e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1027b6700>
                 └ <asyncpg.connection.Connection object at 0x1032c5e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1032c5e50>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:31:22.977 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63803 - "GET /layouts/users?role_id=null HTTP/1.1" 500
2023-12-17 10:31:22.978 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-17 10:31:22.981 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63801 - "GET /org/6586e024-6190-446d-a1e0-ad7d518afd8a HTTP/1.1" 200
2023-12-17 10:31:22.986 | ERROR    | app.endpoints.layouts:get_orgs:23 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007af430>
           └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007a3a60>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a42a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    └ <function subprocess_started at 0x102f111f0>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a42bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102efb790>
           │       │   └ <uvicorn.server.Server object at 0x100a42bb0>
           │       └ <function run at 0x100a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102ee0ac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c9850>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c98...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10302f760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c9850>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c98...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c9850>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c98...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
          └ <fastapi.applications.FastAPI object at 0x10302f760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1033525e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c98...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1033525e0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c98...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10266baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c98...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103352ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c98...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103352ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c98...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10302f880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103352ca0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c98...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1025c1af0>
          └ APIRoute(path='/layouts/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103352ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c98...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103033280>
          └ APIRoute(path='/layouts/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1031c9d30>
                     └ <function get_request_handler.<locals>.app at 0x103033550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1025b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102f17bb0>, 'role_id': 'null'}
                 │         └ <function get_orgs at 0x102db20d0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10315ceb0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 16, in get_orgs
    orgs = await layouts_crud.query_layouts_orgs(db, role_id)
                 │            │                  │   └ 'null'
                 │            │                  └ <providers.psql_provider.DB object at 0x102f17bb0>
                 │            └ <function query_layouts_orgs at 0x102da1ee0>
                 └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 18, in query_layouts_orgs
    main_org_id = await db.fetch_value(sql_main)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x102a71f70>
                        └ <providers.psql_provider.DB object at 0x102f17bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x1027cb1f0>
                   └ <PoolConnectionProxy [released] 0x1031c91f0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1027b81f0>
                 └ <asyncpg.connection.Connection object at 0x1033a6220>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1033a6220>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1027b85e0>
                         └ <asyncpg.connection.Connection object at 0x1033a6220>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1027b6700>
                 └ <asyncpg.connection.Connection object at 0x1033a6220>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1033a6220>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:31:22.992 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63804 - "GET /layouts/orgs?role_id=null HTTP/1.1" 500
2023-12-17 10:31:22.992 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63806 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 10:31:23.002 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '6586e024-6190-446d-a1e0-ad7d518afd8a'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 10:31:23.006 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '6586e024-6190-446d-a1e0-ad7d518afd8a';
    
2023-12-17 10:31:23.011 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63803 - "GET /org/6586e024-6190-446d-a1e0-ad7d518afd8a HTTP/1.1" 200
2023-12-17 10:31:28.824 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-17 10:31:28.829 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63840 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-17 10:31:28.844 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-17 10:31:28.851 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63842 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-17 10:31:31.449 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-17 10:31:31.454 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-17 10:31:31.460 | ERROR    | app.endpoints.layouts:get_orgs:23 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007af430>
           └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007a3a60>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a42a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    └ <function subprocess_started at 0x102f111f0>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a42bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102efb790>
           │       │   └ <uvicorn.server.Server object at 0x100a42bb0>
           │       └ <function run at 0x100a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102ee0ac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c98e0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c98...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10302f760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c98e0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c98...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c98e0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c98...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
          └ <fastapi.applications.FastAPI object at 0x10302f760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103029dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c98...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103029dc0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c98...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10266baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c98...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103163700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c98...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103163700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c98...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10302f880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103163700>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c98...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1025c1af0>
          └ APIRoute(path='/layouts/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103163700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c98...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103033280>
          └ APIRoute(path='/layouts/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10317d610>
                     └ <function get_request_handler.<locals>.app at 0x103033550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1025b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102f17bb0>, 'role_id': 'null'}
                 │         └ <function get_orgs at 0x102db20d0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10315ceb0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 16, in get_orgs
    orgs = await layouts_crud.query_layouts_orgs(db, role_id)
                 │            │                  │   └ 'null'
                 │            │                  └ <providers.psql_provider.DB object at 0x102f17bb0>
                 │            └ <function query_layouts_orgs at 0x102da1ee0>
                 └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 18, in query_layouts_orgs
    main_org_id = await db.fetch_value(sql_main)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x102a71f70>
                        └ <providers.psql_provider.DB object at 0x102f17bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x1027cb1f0>
                   └ <PoolConnectionProxy [released] 0x1031c9f10>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1027b81f0>
                 └ <asyncpg.connection.Connection object at 0x1032c5d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1032c5d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1027b85e0>
                         └ <asyncpg.connection.Connection object at 0x1032c5d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1027b6700>
                 └ <asyncpg.connection.Connection object at 0x1032c5d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1032c5d60>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:31:31.482 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63842 - "GET /layouts/orgs?role_id=null HTTP/1.1" 500
2023-12-17 10:31:31.483 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 10:31:31.485 | ERROR    | app.endpoints.layouts:get_orgs:41 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007af430>
           └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007a3a60>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a42a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    └ <function subprocess_started at 0x102f111f0>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a42bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102efb790>
           │       │   └ <uvicorn.server.Server object at 0x100a42bb0>
           │       └ <function run at 0x100a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102ee0ac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c9280>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c92...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10302f760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c9280>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c92...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c9280>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c92...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
          └ <fastapi.applications.FastAPI object at 0x10302f760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103398310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c92...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103398310>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c92...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10266baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c92...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1033984c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c92...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1033984c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c92...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10302f880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1033984c0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c92...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1025c1af0>
          └ APIRoute(path='/layouts/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1033984c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c92...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103032700>
          └ APIRoute(path='/layouts/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x103199eb0>
                     └ <function get_request_handler.<locals>.app at 0x1030325e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1025b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102f17bb0>, 'role_id': 'null'}
                 │         └ <function get_orgs at 0x102db2820>
                 └ <fastapi.dependencies.models.Dependant object at 0x103166e50>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 34, in get_orgs
    users = await layouts_crud.query_layouts_users(db, role_id)
                  │            │                   │   └ 'null'
                  │            │                   └ <providers.psql_provider.DB object at 0x102f17bb0>
                  │            └ <function query_layouts_users at 0x102da1f70>
                  └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 50, in query_layouts_users
    main_org_id = await db.fetch_value(sql)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x102a71f70>
                        └ <providers.psql_provider.DB object at 0x102f17bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x1027cb1f0>
                   └ <PoolConnectionProxy [released] 0x103199220>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1027b81f0>
                 └ <asyncpg.connection.Connection object at 0x1032c5c70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1032c5c70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1027b85e0>
                         └ <asyncpg.connection.Connection object at 0x1032c5c70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1027b6700>
                 └ <asyncpg.connection.Connection object at 0x1032c5c70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1032c5c70>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:31:31.491 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63840 - "GET /layouts/users?role_id=null HTTP/1.1" 500
2023-12-17 10:31:31.491 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63853 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 10:31:31.496 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-17 10:31:31.498 | ERROR    | app.endpoints.layouts:get_orgs:23 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007af430>
           └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007a3a60>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a42a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    └ <function subprocess_started at 0x102f111f0>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a42bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102efb790>
           │       │   └ <uvicorn.server.Server object at 0x100a42bb0>
           │       └ <function run at 0x100a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102ee0ac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396dc0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396d...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10302f760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396dc0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396d...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396dc0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396d...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
          └ <fastapi.applications.FastAPI object at 0x10302f760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1033525e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1033525e0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396d...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10266baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103352670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103352670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10302f880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103352670>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396d...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1025c1af0>
          └ APIRoute(path='/layouts/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103352670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103033280>
          └ APIRoute(path='/layouts/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1033967c0>
                     └ <function get_request_handler.<locals>.app at 0x103033550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1025b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102f17bb0>, 'role_id': 'null'}
                 │         └ <function get_orgs at 0x102db20d0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10315ceb0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 16, in get_orgs
    orgs = await layouts_crud.query_layouts_orgs(db, role_id)
                 │            │                  │   └ 'null'
                 │            │                  └ <providers.psql_provider.DB object at 0x102f17bb0>
                 │            └ <function query_layouts_orgs at 0x102da1ee0>
                 └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 18, in query_layouts_orgs
    main_org_id = await db.fetch_value(sql_main)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x102a71f70>
                        └ <providers.psql_provider.DB object at 0x102f17bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x1027cb1f0>
                   └ <PoolConnectionProxy [released] 0x103396820>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1027b81f0>
                 └ <asyncpg.connection.Connection object at 0x1033a68b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1033a68b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1027b85e0>
                         └ <asyncpg.connection.Connection object at 0x1033a68b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1027b6700>
                 └ <asyncpg.connection.Connection object at 0x1033a68b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1033a68b0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:31:31.504 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63857 - "GET /layouts/orgs?role_id=null HTTP/1.1" 500
2023-12-17 10:31:31.504 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-17 10:31:31.504 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 10:31:31.510 | ERROR    | app.endpoints.layouts:get_orgs:41 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007af430>
           └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007a3a60>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a42a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    └ <function subprocess_started at 0x102f111f0>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a42bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102efb790>
           │       │   └ <uvicorn.server.Server object at 0x100a42bb0>
           │       └ <function run at 0x100a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102ee0ac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103199670>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031996...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10302f760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103199670>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031996...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103199670>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031996...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
          └ <fastapi.applications.FastAPI object at 0x10302f760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103029dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031996...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103029dc0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031996...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10266baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031996...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103032af0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031996...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103032af0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031996...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10302f880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103032af0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031996...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1025c1af0>
          └ APIRoute(path='/layouts/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103032af0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031996...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103032700>
          └ APIRoute(path='/layouts/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1031c9d30>
                     └ <function get_request_handler.<locals>.app at 0x1030325e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1025b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102f17bb0>, 'role_id': 'null'}
                 │         └ <function get_orgs at 0x102db2820>
                 └ <fastapi.dependencies.models.Dependant object at 0x103166e50>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 34, in get_orgs
    users = await layouts_crud.query_layouts_users(db, role_id)
                  │            │                   │   └ 'null'
                  │            │                   └ <providers.psql_provider.DB object at 0x102f17bb0>
                  │            └ <function query_layouts_users at 0x102da1f70>
                  └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 50, in query_layouts_users
    main_org_id = await db.fetch_value(sql)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x102a71f70>
                        └ <providers.psql_provider.DB object at 0x102f17bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x1027cb1f0>
                   └ <PoolConnectionProxy [released] 0x1031992b0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1027b81f0>
                 └ <asyncpg.connection.Connection object at 0x1033a69a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1033a69a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1027b85e0>
                         └ <asyncpg.connection.Connection object at 0x1033a69a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1027b6700>
                 └ <asyncpg.connection.Connection object at 0x1033a69a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1033a69a0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:31:31.517 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63842 - "GET /layouts/users?role_id=null HTTP/1.1" 500
2023-12-17 10:31:31.518 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63853 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 10:34:50.017 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-17 10:34:50.021 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64660 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-17 10:34:50.027 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-17 10:34:50.032 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64662 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-17 10:34:51.832 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-17 10:34:51.834 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-17 10:34:51.836 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 10:34:51.841 | ERROR    | app.endpoints.layouts:get_orgs:23 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007af430>
           └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007a3a60>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a42a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    └ <function subprocess_started at 0x102f111f0>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a42bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102efb790>
           │       │   └ <uvicorn.server.Server object at 0x100a42bb0>
           │       └ <function run at 0x100a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102ee0ac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396520>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033965...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10302f760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396520>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033965...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396520>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033965...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
          └ <fastapi.applications.FastAPI object at 0x10302f760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103029dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033965...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103029dc0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033965...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10266baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033965...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103352a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033965...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103352a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033965...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10302f880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103352a60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033965...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1025c1af0>
          └ APIRoute(path='/layouts/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103352a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033965...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103033280>
          └ APIRoute(path='/layouts/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1031bd7f0>
                     └ <function get_request_handler.<locals>.app at 0x103033550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1025b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102f17bb0>, 'role_id': 'null'}
                 │         └ <function get_orgs at 0x102db20d0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10315ceb0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 16, in get_orgs
    orgs = await layouts_crud.query_layouts_orgs(db, role_id)
                 │            │                  │   └ 'null'
                 │            │                  └ <providers.psql_provider.DB object at 0x102f17bb0>
                 │            └ <function query_layouts_orgs at 0x102da1ee0>
                 └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 18, in query_layouts_orgs
    main_org_id = await db.fetch_value(sql_main)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x102a71f70>
                        └ <providers.psql_provider.DB object at 0x102f17bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x1027cb1f0>
                   └ <PoolConnectionProxy [released] 0x103199670>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1027b81f0>
                 └ <asyncpg.connection.Connection object at 0x1033a67c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1033a67c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1027b85e0>
                         └ <asyncpg.connection.Connection object at 0x1033a67c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1027b6700>
                 └ <asyncpg.connection.Connection object at 0x1033a67c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1033a67c0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:34:51.861 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64662 - "GET /layouts/orgs?role_id=null HTTP/1.1" 500
2023-12-17 10:34:51.864 | ERROR    | app.endpoints.layouts:get_orgs:41 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007af430>
           └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007a3a60>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a42a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    └ <function subprocess_started at 0x102f111f0>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a42bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102efb790>
           │       │   └ <uvicorn.server.Server object at 0x100a42bb0>
           │       └ <function run at 0x100a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102ee0ac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339d9a0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339d9...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10302f760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339d9a0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339d9...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339d9a0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339d9...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
          └ <fastapi.applications.FastAPI object at 0x10302f760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103163700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339d9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103163700>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339d9...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10266baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339d9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103398040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339d9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103398040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339d9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10302f880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103398040>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339d9...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1025c1af0>
          └ APIRoute(path='/layouts/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103398040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339d9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103032700>
          └ APIRoute(path='/layouts/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x103174e20>
                     └ <function get_request_handler.<locals>.app at 0x1030325e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1025b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102f17bb0>, 'role_id': 'null'}
                 │         └ <function get_orgs at 0x102db2820>
                 └ <fastapi.dependencies.models.Dependant object at 0x103166e50>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 34, in get_orgs
    users = await layouts_crud.query_layouts_users(db, role_id)
                  │            │                   │   └ 'null'
                  │            │                   └ <providers.psql_provider.DB object at 0x102f17bb0>
                  │            └ <function query_layouts_users at 0x102da1f70>
                  └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 50, in query_layouts_users
    main_org_id = await db.fetch_value(sql)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x102a71f70>
                        └ <providers.psql_provider.DB object at 0x102f17bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x1027cb1f0>
                   └ <PoolConnectionProxy [released] 0x1033966a0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1027b81f0>
                 └ <asyncpg.connection.Connection object at 0x1033a66d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1033a66d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1027b85e0>
                         └ <asyncpg.connection.Connection object at 0x1033a66d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1027b6700>
                 └ <asyncpg.connection.Connection object at 0x1033a66d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1033a66d0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:34:51.870 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64660 - "GET /layouts/users?role_id=null HTTP/1.1" 500
2023-12-17 10:34:51.870 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64673 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 10:34:51.875 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-17 10:34:51.875 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 10:34:51.876 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-17 10:34:51.880 | ERROR    | app.endpoints.layouts:get_orgs:23 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007af430>
           └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007a3a60>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a42a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    └ <function subprocess_started at 0x102f111f0>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a42bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102efb790>
           │       │   └ <uvicorn.server.Server object at 0x100a42bb0>
           │       └ <function run at 0x100a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102ee0ac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339dbe0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339db...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10302f760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339dbe0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339db...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339dbe0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339db...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
          └ <fastapi.applications.FastAPI object at 0x10302f760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103032af0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339db...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103032af0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339db...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10266baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339db...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103032280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339db...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103032280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339db...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10302f880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103032280>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339db...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1025c1af0>
          └ APIRoute(path='/layouts/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103032280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339db...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103033280>
          └ APIRoute(path='/layouts/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1031bd3d0>
                     └ <function get_request_handler.<locals>.app at 0x103033550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1025b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102f17bb0>, 'role_id': 'null'}
                 │         └ <function get_orgs at 0x102db20d0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10315ceb0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 16, in get_orgs
    orgs = await layouts_crud.query_layouts_orgs(db, role_id)
                 │            │                  │   └ 'null'
                 │            │                  └ <providers.psql_provider.DB object at 0x102f17bb0>
                 │            └ <function query_layouts_orgs at 0x102da1ee0>
                 └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 18, in query_layouts_orgs
    main_org_id = await db.fetch_value(sql_main)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x102a71f70>
                        └ <providers.psql_provider.DB object at 0x102f17bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x1027cb1f0>
                   └ <PoolConnectionProxy [released] 0x1031bdf10>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1027b81f0>
                 └ <asyncpg.connection.Connection object at 0x1033c8310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1033c8310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1027b85e0>
                         └ <asyncpg.connection.Connection object at 0x1033c8310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1027b6700>
                 └ <asyncpg.connection.Connection object at 0x1033c8310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1033c8310>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:34:51.885 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64677 - "GET /layouts/orgs?role_id=null HTTP/1.1" 500
2023-12-17 10:34:51.886 | ERROR    | app.endpoints.layouts:get_orgs:41 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007af430>
           └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007a3a60>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a42a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    └ <function subprocess_started at 0x102f111f0>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a42bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102efb790>
           │       │   └ <uvicorn.server.Server object at 0x100a42bb0>
           │       └ <function run at 0x100a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102ee0ac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103199520>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031995...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10302f760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103199520>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031995...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103199520>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031995...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
          └ <fastapi.applications.FastAPI object at 0x10302f760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103029dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031995...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103029dc0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031995...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10266baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031995...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103352670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031995...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103352670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031995...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10302f880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103352670>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031995...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1025c1af0>
          └ APIRoute(path='/layouts/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103352670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031995...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103032700>
          └ APIRoute(path='/layouts/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1031c9820>
                     └ <function get_request_handler.<locals>.app at 0x1030325e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1025b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102f17bb0>, 'role_id': 'null'}
                 │         └ <function get_orgs at 0x102db2820>
                 └ <fastapi.dependencies.models.Dependant object at 0x103166e50>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 34, in get_orgs
    users = await layouts_crud.query_layouts_users(db, role_id)
                  │            │                   │   └ 'null'
                  │            │                   └ <providers.psql_provider.DB object at 0x102f17bb0>
                  │            └ <function query_layouts_users at 0x102da1f70>
                  └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 50, in query_layouts_users
    main_org_id = await db.fetch_value(sql)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x102a71f70>
                        └ <providers.psql_provider.DB object at 0x102f17bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x1027cb1f0>
                   └ <PoolConnectionProxy [released] 0x103174fd0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1027b81f0>
                 └ <asyncpg.connection.Connection object at 0x1033c8130>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1033c8130>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1027b85e0>
                         └ <asyncpg.connection.Connection object at 0x1033c8130>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1027b6700>
                 └ <asyncpg.connection.Connection object at 0x1033c8130>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1033c8130>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:34:51.892 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64662 - "GET /layouts/users?role_id=null HTTP/1.1" 500
2023-12-17 10:34:51.892 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64673 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 10:35:30.171 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64836 - "OPTIONS /user HTTP/1.1" 200
2023-12-17 10:35:30.185 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id
    FROM
        users
    WHERE
        users.email = '001@demo.com';
    
2023-12-17 10:35:30.188 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64836 - "POST /user HTTP/1.1" 400
2023-12-17 10:36:08.258 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id
    FROM
        users
    WHERE
        users.email = '001@demo.com';
    
2023-12-17 10:36:08.266 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO users
        (
            last_name,
            first_name,
            email,
            password
        )
    VALUES
        (
            '山田',
            '一郎',
            '001@demo.com',
            '12345678'
        )
    RETURNING id;
    
2023-12-17 10:36:08.270 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64991 - "POST /user HTTP/1.1" 200
2023-12-17 10:36:08.282 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-17 10:36:08.286 | ERROR    | app.endpoints.layouts:get_orgs:41 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007af430>
           └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007a3a60>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a42a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    └ <function subprocess_started at 0x102f111f0>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a42bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102efb790>
           │       │   └ <uvicorn.server.Server object at 0x100a42bb0>
           │       └ <function run at 0x100a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102ee0ac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339d1f0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339d1...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10302f760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339d1f0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339d1...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339d1f0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339d1...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
          └ <fastapi.applications.FastAPI object at 0x10302f760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103029dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339d1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103029dc0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339d1...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10266baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339d1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103163700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339d1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103163700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339d1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10302f880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103163700>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339d1...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1025c1af0>
          └ APIRoute(path='/layouts/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103163700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339d1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103032700>
          └ APIRoute(path='/layouts/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x103199610>
                     └ <function get_request_handler.<locals>.app at 0x1030325e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1025b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102f17bb0>, 'role_id': 'null'}
                 │         └ <function get_orgs at 0x102db2820>
                 └ <fastapi.dependencies.models.Dependant object at 0x103166e50>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 34, in get_orgs
    users = await layouts_crud.query_layouts_users(db, role_id)
                  │            │                   │   └ 'null'
                  │            │                   └ <providers.psql_provider.DB object at 0x102f17bb0>
                  │            └ <function query_layouts_users at 0x102da1f70>
                  └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 50, in query_layouts_users
    main_org_id = await db.fetch_value(sql)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x102a71f70>
                        └ <providers.psql_provider.DB object at 0x102f17bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x1027cb1f0>
                   └ <PoolConnectionProxy [released] 0x10339d520>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1027b81f0>
                 └ <asyncpg.connection.Connection object at 0x1033c8400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1033c8400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1027b85e0>
                         └ <asyncpg.connection.Connection object at 0x1033c8400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1027b6700>
                 └ <asyncpg.connection.Connection object at 0x1033c8400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1033c8400>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:36:08.309 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64991 - "GET /layouts/users?role_id=null HTTP/1.1" 500
2023-12-17 10:36:14.981 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-17 10:36:14.987 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-17 10:36:14.988 | ERROR    | app.endpoints.layouts:get_orgs:23 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007af430>
           └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007a3a60>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a42a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    └ <function subprocess_started at 0x102f111f0>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a42bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102efb790>
           │       │   └ <uvicorn.server.Server object at 0x100a42bb0>
           │       └ <function run at 0x100a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102ee0ac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033962b0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033962...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10302f760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033962b0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033962...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033962b0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033962...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
          └ <fastapi.applications.FastAPI object at 0x10302f760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103029dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033962...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103029dc0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033962...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10266baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033962...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103163700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033962...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103163700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033962...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10302f880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103163700>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033962...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1025c1af0>
          └ APIRoute(path='/layouts/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103163700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033962...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103033280>
          └ APIRoute(path='/layouts/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1031bd790>
                     └ <function get_request_handler.<locals>.app at 0x103033550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1025b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102f17bb0>, 'role_id': 'null'}
                 │         └ <function get_orgs at 0x102db20d0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10315ceb0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 16, in get_orgs
    orgs = await layouts_crud.query_layouts_orgs(db, role_id)
                 │            │                  │   └ 'null'
                 │            │                  └ <providers.psql_provider.DB object at 0x102f17bb0>
                 │            └ <function query_layouts_orgs at 0x102da1ee0>
                 └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 18, in query_layouts_orgs
    main_org_id = await db.fetch_value(sql_main)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x102a71f70>
                        └ <providers.psql_provider.DB object at 0x102f17bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x1027cb1f0>
                   └ <PoolConnectionProxy [released] 0x1031bd070>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1027b81f0>
                 └ <asyncpg.connection.Connection object at 0x1033a6e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1033a6e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1027b85e0>
                         └ <asyncpg.connection.Connection object at 0x1033a6e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1027b6700>
                 └ <asyncpg.connection.Connection object at 0x1033a6e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1033a6e50>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:36:15.010 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65030 - "GET /layouts/orgs?role_id=null HTTP/1.1" 500
2023-12-17 10:36:15.010 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 10:36:15.010 | ERROR    | app.endpoints.layouts:get_orgs:41 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007af430>
           └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007a3a60>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a42a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    └ <function subprocess_started at 0x102f111f0>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a42bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102efb790>
           │       │   └ <uvicorn.server.Server object at 0x100a42bb0>
           │       └ <function run at 0x100a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102ee0ac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033bbfd0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033bbf...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10302f760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033bbfd0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033bbf...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033bbfd0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033bbf...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
          └ <fastapi.applications.FastAPI object at 0x10302f760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103352670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033bbf...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103352670>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033bbf...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10266baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033bbf...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103352a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033bbf...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103352a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033bbf...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10302f880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103352a60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033bbf...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1025c1af0>
          └ APIRoute(path='/layouts/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103352a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033bbf...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103032700>
          └ APIRoute(path='/layouts/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1031bd400>
                     └ <function get_request_handler.<locals>.app at 0x1030325e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1025b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102f17bb0>, 'role_id': 'null'}
                 │         └ <function get_orgs at 0x102db2820>
                 └ <fastapi.dependencies.models.Dependant object at 0x103166e50>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 34, in get_orgs
    users = await layouts_crud.query_layouts_users(db, role_id)
                  │            │                   │   └ 'null'
                  │            │                   └ <providers.psql_provider.DB object at 0x102f17bb0>
                  │            └ <function query_layouts_users at 0x102da1f70>
                  └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 50, in query_layouts_users
    main_org_id = await db.fetch_value(sql)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x102a71f70>
                        └ <providers.psql_provider.DB object at 0x102f17bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x1027cb1f0>
                   └ <PoolConnectionProxy [released] 0x10339dc40>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1027b81f0>
                 └ <asyncpg.connection.Connection object at 0x1033c8040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1033c8040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1027b85e0>
                         └ <asyncpg.connection.Connection object at 0x1033c8040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1027b6700>
                 └ <asyncpg.connection.Connection object at 0x1033c8040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1033c8040>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:36:15.015 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65031 - "GET /layouts/users?role_id=null HTTP/1.1" 500
2023-12-17 10:36:15.019 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65032 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 10:36:15.023 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-17 10:36:15.023 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-17 10:36:15.026 | ERROR    | app.endpoints.layouts:get_orgs:23 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007af430>
           └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007a3a60>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a42a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    └ <function subprocess_started at 0x102f111f0>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a42bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102efb790>
           │       │   └ <uvicorn.server.Server object at 0x100a42bb0>
           │       └ <function run at 0x100a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102ee0ac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd0a0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd0...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10302f760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd0a0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd0...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd0a0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd0...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
          └ <fastapi.applications.FastAPI object at 0x10302f760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1033984c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1033984c0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd0...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10266baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103398040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103398040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10302f880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103398040>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd0...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1025c1af0>
          └ APIRoute(path='/layouts/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103398040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031bd0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103033280>
          └ APIRoute(path='/layouts/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1033cdaf0>
                     └ <function get_request_handler.<locals>.app at 0x103033550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1025b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102f17bb0>, 'role_id': 'null'}
                 │         └ <function get_orgs at 0x102db20d0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10315ceb0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 16, in get_orgs
    orgs = await layouts_crud.query_layouts_orgs(db, role_id)
                 │            │                  │   └ 'null'
                 │            │                  └ <providers.psql_provider.DB object at 0x102f17bb0>
                 │            └ <function query_layouts_orgs at 0x102da1ee0>
                 └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 18, in query_layouts_orgs
    main_org_id = await db.fetch_value(sql_main)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x102a71f70>
                        └ <providers.psql_provider.DB object at 0x102f17bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x1027cb1f0>
                   └ <PoolConnectionProxy [released] 0x1033cddc0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1027b81f0>
                 └ <asyncpg.connection.Connection object at 0x1033c8b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1033c8b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1027b85e0>
                         └ <asyncpg.connection.Connection object at 0x1033c8b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1027b6700>
                 └ <asyncpg.connection.Connection object at 0x1033c8b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1033c8b80>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:36:15.033 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65036 - "GET /layouts/orgs?role_id=null HTTP/1.1" 500
2023-12-17 10:36:15.036 | ERROR    | app.endpoints.layouts:get_orgs:41 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007af430>
           └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007a3a60>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a42a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    └ <function subprocess_started at 0x102f111f0>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a42bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102efb790>
           │       │   └ <uvicorn.server.Server object at 0x100a42bb0>
           │       └ <function run at 0x100a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102ee0ac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e1460>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e14...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10302f760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e1460>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e14...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e1460>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e14...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
          └ <fastapi.applications.FastAPI object at 0x10302f760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103029dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e14...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103029dc0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e14...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10266baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e14...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1033983a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e14...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1033983a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e14...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10302f880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1033983a0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e14...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1025c1af0>
          └ APIRoute(path='/layouts/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1033983a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e14...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103032700>
          └ APIRoute(path='/layouts/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10339dbe0>
                     └ <function get_request_handler.<locals>.app at 0x1030325e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1025b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102f17bb0>, 'role_id': 'null'}
                 │         └ <function get_orgs at 0x102db2820>
                 └ <fastapi.dependencies.models.Dependant object at 0x103166e50>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 34, in get_orgs
    users = await layouts_crud.query_layouts_users(db, role_id)
                  │            │                   │   └ 'null'
                  │            │                   └ <providers.psql_provider.DB object at 0x102f17bb0>
                  │            └ <function query_layouts_users at 0x102da1f70>
                  └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 50, in query_layouts_users
    main_org_id = await db.fetch_value(sql)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x102a71f70>
                        └ <providers.psql_provider.DB object at 0x102f17bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x1027cb1f0>
                   └ <PoolConnectionProxy [released] 0x1033e1520>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1027b81f0>
                 └ <asyncpg.connection.Connection object at 0x1033c8c70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1033c8c70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1027b85e0>
                         └ <asyncpg.connection.Connection object at 0x1033c8c70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1027b6700>
                 └ <asyncpg.connection.Connection object at 0x1033c8c70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1033c8c70>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:36:15.041 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65030 - "GET /layouts/users?role_id=null HTTP/1.1" 500
2023-12-17 10:36:15.042 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 10:36:15.044 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65031 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 10:37:19.884 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-17 10:37:19.887 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65298 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-17 10:37:19.893 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-17 10:37:19.900 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65300 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-17 10:37:22.813 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-17 10:37:22.819 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65300 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-17 10:37:22.834 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-17 10:37:22.840 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65298 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-17 10:38:07.139 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-17 10:38:07.150 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65505 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-17 10:38:07.162 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-17 10:38:07.166 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65507 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-17 10:38:09.610 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-17 10:38:09.611 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-17 10:38:09.613 | ERROR    | app.endpoints.layouts:get_orgs:23 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007af430>
           └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007a3a60>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a42a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    └ <function subprocess_started at 0x102f111f0>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a42bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102efb790>
           │       │   └ <uvicorn.server.Server object at 0x100a42bb0>
           │       └ <function run at 0x100a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102ee0ac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033cde50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033cde...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10302f760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033cde50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033cde...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033cde50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033cde...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
          └ <fastapi.applications.FastAPI object at 0x10302f760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103029dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033cde...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103029dc0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033cde...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10266baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033cde...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103398160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033cde...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103398160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033cde...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10302f880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103398160>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033cde...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1025c1af0>
          └ APIRoute(path='/layouts/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103398160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033cde...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103033280>
          └ APIRoute(path='/layouts/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1031c9c70>
                     └ <function get_request_handler.<locals>.app at 0x103033550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1025b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102f17bb0>, 'role_id': 'null'}
                 │         └ <function get_orgs at 0x102db20d0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10315ceb0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 16, in get_orgs
    orgs = await layouts_crud.query_layouts_orgs(db, role_id)
                 │            │                  │   └ 'null'
                 │            │                  └ <providers.psql_provider.DB object at 0x102f17bb0>
                 │            └ <function query_layouts_orgs at 0x102da1ee0>
                 └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 18, in query_layouts_orgs
    main_org_id = await db.fetch_value(sql_main)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x102a71f70>
                        └ <providers.psql_provider.DB object at 0x102f17bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x1027cb1f0>
                   └ <PoolConnectionProxy [released] 0x1031744f0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1027b81f0>
                 └ <asyncpg.connection.Connection object at 0x1033a6220>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1033a6220>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1027b85e0>
                         └ <asyncpg.connection.Connection object at 0x1033a6220>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1027b6700>
                 └ <asyncpg.connection.Connection object at 0x1033a6220>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1033a6220>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:38:09.625 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65507 - "GET /layouts/orgs?role_id=null HTTP/1.1" 500
2023-12-17 10:38:09.628 | ERROR    | app.endpoints.layouts:get_orgs:41 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007af430>
           └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007a3a60>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a42a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    └ <function subprocess_started at 0x102f111f0>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a42bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102efb790>
           │       │   └ <uvicorn.server.Server object at 0x100a42bb0>
           │       └ <function run at 0x100a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102ee0ac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339da30>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339da...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10302f760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339da30>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339da...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339da30>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339da...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
          └ <fastapi.applications.FastAPI object at 0x10302f760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103163700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339da...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103163700>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339da...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10266baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339da...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103398430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339da...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103398430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339da...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10302f880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103398430>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339da...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1025c1af0>
          └ APIRoute(path='/layouts/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103398430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339da...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103032700>
          └ APIRoute(path='/layouts/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x103199af0>
                     └ <function get_request_handler.<locals>.app at 0x1030325e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1025b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102f17bb0>, 'role_id': 'null'}
                 │         └ <function get_orgs at 0x102db2820>
                 └ <fastapi.dependencies.models.Dependant object at 0x103166e50>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 34, in get_orgs
    users = await layouts_crud.query_layouts_users(db, role_id)
                  │            │                   │   └ 'null'
                  │            │                   └ <providers.psql_provider.DB object at 0x102f17bb0>
                  │            └ <function query_layouts_users at 0x102da1f70>
                  └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 50, in query_layouts_users
    main_org_id = await db.fetch_value(sql)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x102a71f70>
                        └ <providers.psql_provider.DB object at 0x102f17bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x1027cb1f0>
                   └ <PoolConnectionProxy [released] 0x10317d700>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1027b81f0>
                 └ <asyncpg.connection.Connection object at 0x1033a6040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1033a6040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1027b85e0>
                         └ <asyncpg.connection.Connection object at 0x1033a6040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1027b6700>
                 └ <asyncpg.connection.Connection object at 0x1033a6040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1033a6040>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:38:09.633 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65505 - "GET /layouts/users?role_id=null HTTP/1.1" 500
2023-12-17 10:38:09.633 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 10:38:09.635 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65521 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 10:38:09.636 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-17 10:38:09.640 | ERROR    | app.endpoints.layouts:get_orgs:23 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007af430>
           └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007a3a60>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a42a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    └ <function subprocess_started at 0x102f111f0>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a42bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102efb790>
           │       │   └ <uvicorn.server.Server object at 0x100a42bb0>
           │       └ <function run at 0x100a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102ee0ac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396bb0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396b...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10302f760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396bb0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396b...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396bb0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396b...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
          └ <fastapi.applications.FastAPI object at 0x10302f760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103398c10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103398c10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396b...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10266baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103398dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103398dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10302f880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103398dc0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396b...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1025c1af0>
          └ APIRoute(path='/layouts/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103398dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103033280>
          └ APIRoute(path='/layouts/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10339da00>
                     └ <function get_request_handler.<locals>.app at 0x103033550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1025b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102f17bb0>, 'role_id': 'null'}
                 │         └ <function get_orgs at 0x102db20d0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10315ceb0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 16, in get_orgs
    orgs = await layouts_crud.query_layouts_orgs(db, role_id)
                 │            │                  │   └ 'null'
                 │            │                  └ <providers.psql_provider.DB object at 0x102f17bb0>
                 │            └ <function query_layouts_orgs at 0x102da1ee0>
                 └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 18, in query_layouts_orgs
    main_org_id = await db.fetch_value(sql_main)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x102a71f70>
                        └ <providers.psql_provider.DB object at 0x102f17bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x1027cb1f0>
                   └ <PoolConnectionProxy [released] 0x1033e1190>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1027b81f0>
                 └ <asyncpg.connection.Connection object at 0x1033c8d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1033c8d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1027b85e0>
                         └ <asyncpg.connection.Connection object at 0x1033c8d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1027b6700>
                 └ <asyncpg.connection.Connection object at 0x1033c8d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1033c8d60>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:38:09.645 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65525 - "GET /layouts/orgs?role_id=null HTTP/1.1" 500
2023-12-17 10:38:09.645 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-17 10:38:09.649 | ERROR    | app.endpoints.layouts:get_orgs:41 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007af430>
           └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007a3a60>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a42a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    └ <function subprocess_started at 0x102f111f0>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a42bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102efb790>
           │       │   └ <uvicorn.server.Server object at 0x100a42bb0>
           │       └ <function run at 0x100a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102ee0ac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e1d60>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e1d...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10302f760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e1d60>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e1d...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e1d60>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e1d...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
          └ <fastapi.applications.FastAPI object at 0x10302f760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103029dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e1d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103029dc0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e1d...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10266baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e1d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103398430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e1d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103398430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e1d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10302f880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103398430>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e1d...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1025c1af0>
          └ APIRoute(path='/layouts/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103398430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e1d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103032700>
          └ APIRoute(path='/layouts/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1033cda00>
                     └ <function get_request_handler.<locals>.app at 0x1030325e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1025b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102f17bb0>, 'role_id': 'null'}
                 │         └ <function get_orgs at 0x102db2820>
                 └ <fastapi.dependencies.models.Dependant object at 0x103166e50>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 34, in get_orgs
    users = await layouts_crud.query_layouts_users(db, role_id)
                  │            │                   │   └ 'null'
                  │            │                   └ <providers.psql_provider.DB object at 0x102f17bb0>
                  │            └ <function query_layouts_users at 0x102da1f70>
                  └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 50, in query_layouts_users
    main_org_id = await db.fetch_value(sql)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x102a71f70>
                        └ <providers.psql_provider.DB object at 0x102f17bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x1027cb1f0>
                   └ <PoolConnectionProxy [released] 0x10339df40>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1027b81f0>
                 └ <asyncpg.connection.Connection object at 0x1033c8e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1033c8e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1027b85e0>
                         └ <asyncpg.connection.Connection object at 0x1033c8e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1027b6700>
                 └ <asyncpg.connection.Connection object at 0x1033c8e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1033c8e50>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:38:09.654 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65507 - "GET /layouts/users?role_id=null HTTP/1.1" 500
2023-12-17 10:38:09.654 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 10:38:09.656 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65505 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 10:39:05.285 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id
    FROM
        users
    WHERE
        users.email = '001@demo.com';
    
2023-12-17 10:39:05.290 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO users
        (
            last_name,
            first_name,
            email,
            password
        )
    VALUES
        (
            '山田',
            '一郎',
            '001@demo.com',
            '12345678'
        )
    RETURNING id;
    
2023-12-17 10:39:05.294 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49365 - "POST /user HTTP/1.1" 200
2023-12-17 10:39:05.309 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-17 10:39:05.312 | ERROR    | app.endpoints.layouts:get_orgs:41 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007af430>
           └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007a3a60>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a42a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    └ <function subprocess_started at 0x102f111f0>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a42bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102efb790>
           │       │   └ <uvicorn.server.Server object at 0x100a42bb0>
           │       └ <function run at 0x100a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102ee0ac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c90a0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c90...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10302f760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c90a0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c90...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c90a0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c90...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
          └ <fastapi.applications.FastAPI object at 0x10302f760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103163700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c90...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103163700>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c90...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10266baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c90...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103029dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c90...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103029dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c90...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10302f880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103029dc0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c90...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1025c1af0>
          └ APIRoute(path='/layouts/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103029dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1031c90...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103032700>
          └ APIRoute(path='/layouts/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1031742b0>
                     └ <function get_request_handler.<locals>.app at 0x1030325e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1025b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102f17bb0>, 'role_id': 'null'}
                 │         └ <function get_orgs at 0x102db2820>
                 └ <fastapi.dependencies.models.Dependant object at 0x103166e50>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 34, in get_orgs
    users = await layouts_crud.query_layouts_users(db, role_id)
                  │            │                   │   └ 'null'
                  │            │                   └ <providers.psql_provider.DB object at 0x102f17bb0>
                  │            └ <function query_layouts_users at 0x102da1f70>
                  └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 50, in query_layouts_users
    main_org_id = await db.fetch_value(sql)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x102a71f70>
                        └ <providers.psql_provider.DB object at 0x102f17bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x1027cb1f0>
                   └ <PoolConnectionProxy [released] 0x1031c9460>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1027b81f0>
                 └ <asyncpg.connection.Connection object at 0x1033a6310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1033a6310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1027b85e0>
                         └ <asyncpg.connection.Connection object at 0x1033a6310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1027b6700>
                 └ <asyncpg.connection.Connection object at 0x1033a6310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1033a6310>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:39:05.331 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49365 - "GET /layouts/users?role_id=null HTTP/1.1" 500
2023-12-17 10:39:53.911 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49565 - "OPTIONS /org HTTP/1.1" 200
2023-12-17 10:39:53.937 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO orgs (p_id, type, name)
    VALUES (
        null,
        '01',
        '〇〇株式会社'
    )
    RETURNING id;
    
2023-12-17 10:39:53.940 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO roles (type, name)
    VALUES (
        '01',
        '本社管理者'
    )
    RETURNING id;
    
2023-12-17 10:39:53.942 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_org_rels (user_id, org_id, type)
    VALUES (
        'dd655737-7bf8-458b-9a9a-d23a7871bb3e',
        '0ccba4ff-3473-48bd-ae98-b0518066f548',
        '01'
    )
    
2023-12-17 10:39:53.946 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_role_rels (user_id, role_id)
    VALUES (
        'dd655737-7bf8-458b-9a9a-d23a7871bb3e',
        'a82ebab4-2976-40cb-acbe-b8122a5d6c3c'
    )
    
2023-12-17 10:39:53.948 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO org_role_rels (org_id, role_id)
    VALUES (
        '0ccba4ff-3473-48bd-ae98-b0518066f548',
        'a82ebab4-2976-40cb-acbe-b8122a5d6c3c'
    )
    
2023-12-17 10:39:53.950 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'a82ebab4-2976-40cb-acbe-b8122a5d6c3c',
            '8f63e587-b802-4cfd-8ead-d3423237b054'
        )
        
2023-12-17 10:39:53.952 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'a82ebab4-2976-40cb-acbe-b8122a5d6c3c',
            '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
        )
        
2023-12-17 10:39:53.955 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'a82ebab4-2976-40cb-acbe-b8122a5d6c3c',
            '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
        )
        
2023-12-17 10:39:53.956 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'a82ebab4-2976-40cb-acbe-b8122a5d6c3c',
            '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
        )
        
2023-12-17 10:39:53.957 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'a82ebab4-2976-40cb-acbe-b8122a5d6c3c',
            'dd96b563-2476-4904-a880-a2cffe1ea0ac'
        )
        
2023-12-17 10:39:53.958 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'a82ebab4-2976-40cb-acbe-b8122a5d6c3c',
            '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
        )
        
2023-12-17 10:39:53.961 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'a82ebab4-2976-40cb-acbe-b8122a5d6c3c',
            '2ca11194-6079-41e8-8b26-275aa42848fa'
        )
        
2023-12-17 10:39:53.962 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'a82ebab4-2976-40cb-acbe-b8122a5d6c3c',
            '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
        )
        
2023-12-17 10:39:53.963 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'a82ebab4-2976-40cb-acbe-b8122a5d6c3c',
            '55762da2-4d17-418e-b09f-e6249645ec18'
        )
        
2023-12-17 10:39:53.964 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'a82ebab4-2976-40cb-acbe-b8122a5d6c3c',
            '2065f63f-5e95-432e-9545-eed26715dc49'
        )
        
2023-12-17 10:39:53.968 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'a82ebab4-2976-40cb-acbe-b8122a5d6c3c',
            '58289de8-b6b7-4629-9016-58e5d30e89ee'
        )
        
2023-12-17 10:39:53.970 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'a82ebab4-2976-40cb-acbe-b8122a5d6c3c',
            'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7'
        )
        
2023-12-17 10:39:53.971 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'a82ebab4-2976-40cb-acbe-b8122a5d6c3c',
            'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
        )
        
2023-12-17 10:39:53.972 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'a82ebab4-2976-40cb-acbe-b8122a5d6c3c',
            'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
        )
        
2023-12-17 10:39:53.973 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49565 - "POST /org HTTP/1.1" 200
2023-12-17 10:39:54.259 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49565 - "OPTIONS /org/null HTTP/1.1" 200
2023-12-17 10:39:54.259 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49568 - "OPTIONS /layouts/org/users?org_id=null&role_id=null HTTP/1.1" 200
2023-12-17 10:39:54.260 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49569 - "OPTIONS /org/null HTTP/1.1" 200
2023-12-17 10:39:54.261 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49570 - "OPTIONS /layouts/org/users?org_id=null&role_id=null HTTP/1.1" 200
2023-12-17 10:39:54.266 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'null'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 10:39:54.267 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = 'null'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 10:39:54.267 | ERROR    | app.endpoints.orgs:get_org:57 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007af430>
           └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007a3a60>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a42a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    └ <function subprocess_started at 0x102f111f0>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a42bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102efb790>
           │       │   └ <uvicorn.server.Server object at 0x100a42bb0>
           │       └ <function run at 0x100a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102ee0ac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396eb0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396e...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10302f760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396eb0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396e...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396eb0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396e...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
          └ <fastapi.applications.FastAPI object at 0x10302f760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103163700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103163700>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396e...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10266baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1033fc1f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1033fc1f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10302f880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1033fc1f0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396e...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1025c1af0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1033fc1f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103396e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103032a60>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1033cd310>
                     └ <function get_request_handler.<locals>.app at 0x1030329d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1025b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102f17bb0>, 'org_id': 'null'}
                 │         └ <function get_org at 0x102d70e50>
                 └ <fastapi.dependencies.models.Dependant object at 0x10303e640>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ 'null'
                │         │         └ <providers.psql_provider.DB object at 0x102f17bb0>
                │         └ <function query_org at 0x102d79d30>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 158, in query_org
    org_basic = await db.fetch_one(sql)
                      │  │         └ "\n    SELECT\n        orgs.p_id,\n        orgs.name,\n        orgs.remark,\n        orgs.type,\n        user_org_rels.user_i...
                      │  └ <function DB.fetch_one at 0x102a71af0>
                      └ <providers.psql_provider.DB object at 0x102f17bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 31, in fetch_one
    result = await con.fetchrow(query)
                   │   │        └ "\n    SELECT\n        orgs.p_id,\n        orgs.name,\n        orgs.remark,\n        orgs.type,\n        user_org_rels.user_i...
                   │   └ <function Connection.fetchrow at 0x1027cb160>
                   └ <PoolConnectionProxy [released] 0x1031bd970>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 749, in fetchrow
    data = await self._execute(
                 │    └ <function Connection._execute at 0x1027b81f0>
                 └ <asyncpg.connection.Connection object at 0x1033c85e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1033c85e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1027b85e0>
                         └ <asyncpg.connection.Connection object at 0x1033c85e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1027b6700>
                 └ <asyncpg.connection.Connection object at 0x1033c85e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1033c85e0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:39:54.273 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49565 - "GET /org/null HTTP/1.1" 500
2023-12-17 10:39:54.274 | ERROR    | app.endpoints.layouts:get_orgs:77 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007af430>
           └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007a3a60>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a42a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    └ <function subprocess_started at 0x102f111f0>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a42bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102efb790>
           │       │   └ <uvicorn.server.Server object at 0x100a42bb0>
           │       └ <function run at 0x100a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102ee0ac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033f5820>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033f58...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10302f760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033f5820>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033f58...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033f5820>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033f58...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
          └ <fastapi.applications.FastAPI object at 0x10302f760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103029dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033f58...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103029dc0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033f58...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10266baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033f58...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1033fc550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033f58...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1033fc550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033f58...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10302f880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1033fc550>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033f58...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1025c1af0>
          └ APIRoute(path='/layouts/org/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1033fc550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033f58...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103163940>
          └ APIRoute(path='/layouts/org/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1033f5a30>
                     └ <function get_request_handler.<locals>.app at 0x103163af0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1025b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102f17bb0>, 'org_id': 'null', 'role_id': 'null'}
                 │         └ <function get_orgs at 0x102d73e50>
                 └ <fastapi.dependencies.models.Dependant object at 0x103178fd0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 70, in get_orgs
    users = await layouts_crud.query_layouts_org_users(db, org_id, role_id)
                  │            │                       │   │       └ 'null'
                  │            │                       │   └ 'null'
                  │            │                       └ <providers.psql_provider.DB object at 0x102f17bb0>
                  │            └ <function query_layouts_org_users at 0x102db2040>
                  └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 109, in query_layouts_org_users
    org_users = await db.fetch_all(sql)
                      │  │         └ "\n    SELECT\n        users.id,\n        users.last_name,\n        users.first_name,\n        users.email,\n        user_org...
                      │  └ <function DB.fetch_all at 0x102a71c10>
                      └ <providers.psql_provider.DB object at 0x102f17bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        users.id,\n        users.last_name,\n        users.first_name,\n        users.email,\n        user_org...
                   │   └ <function Connection.fetch at 0x1027cb0d0>
                   └ <PoolConnectionProxy [released] 0x1031c9c10>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x1027b81f0>
                 └ <asyncpg.connection.Connection object at 0x1033c84f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1033c84f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1027b85e0>
                         └ <asyncpg.connection.Connection object at 0x1033c84f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1027b6700>
                 └ <asyncpg.connection.Connection object at 0x1033c84f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1033c84f0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:39:54.280 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49568 - "GET /layouts/org/users?org_id=null&role_id=null HTTP/1.1" 500
2023-12-17 10:39:54.286 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'null'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 10:39:54.287 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = 'null'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 10:39:54.288 | ERROR    | app.endpoints.orgs:get_org:57 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007af430>
           └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007a3a60>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a42a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    └ <function subprocess_started at 0x102f111f0>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a42bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102efb790>
           │       │   └ <uvicorn.server.Server object at 0x100a42bb0>
           │       └ <function run at 0x100a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102ee0ac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e1130>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e11...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10302f760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e1130>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e11...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e1130>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e11...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
          └ <fastapi.applications.FastAPI object at 0x10302f760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103398dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e11...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103398dc0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e11...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10266baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e11...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103398040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e11...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103398040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e11...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10302f880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103398040>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e11...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1025c1af0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103398040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033e11...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103032a60>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x103199520>
                     └ <function get_request_handler.<locals>.app at 0x1030329d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1025b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102f17bb0>, 'org_id': 'null'}
                 │         └ <function get_org at 0x102d70e50>
                 └ <fastapi.dependencies.models.Dependant object at 0x10303e640>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ 'null'
                │         │         └ <providers.psql_provider.DB object at 0x102f17bb0>
                │         └ <function query_org at 0x102d79d30>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 158, in query_org
    org_basic = await db.fetch_one(sql)
                      │  │         └ "\n    SELECT\n        orgs.p_id,\n        orgs.name,\n        orgs.remark,\n        orgs.type,\n        user_org_rels.user_i...
                      │  └ <function DB.fetch_one at 0x102a71af0>
                      └ <providers.psql_provider.DB object at 0x102f17bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 31, in fetch_one
    result = await con.fetchrow(query)
                   │   │        └ "\n    SELECT\n        orgs.p_id,\n        orgs.name,\n        orgs.remark,\n        orgs.type,\n        user_org_rels.user_i...
                   │   └ <function Connection.fetchrow at 0x1027cb160>
                   └ <PoolConnectionProxy [released] 0x1033e1730>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 749, in fetchrow
    data = await self._execute(
                 │    └ <function Connection._execute at 0x1027b81f0>
                 └ <asyncpg.connection.Connection object at 0x1033a65e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1033a65e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1027b85e0>
                         └ <asyncpg.connection.Connection object at 0x1033a65e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1027b6700>
                 └ <asyncpg.connection.Connection object at 0x1033a65e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1033a65e0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:39:54.294 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49570 - "GET /org/null HTTP/1.1" 500
2023-12-17 10:39:54.295 | ERROR    | app.endpoints.layouts:get_orgs:77 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007af430>
           └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007a3a60>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a42a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>
    │    └ <function subprocess_started at 0x102f111f0>
    └ <SpawnProcess name='SpawnProcess-8' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a42bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102efb790>
           │       │   └ <uvicorn.server.Server object at 0x100a42bb0>
           │       └ <function run at 0x100a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102ee0ac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339dc10>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339dc...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10302f760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f50dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339dc10>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339dc...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339dc10>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339dc...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
          └ <fastapi.applications.FastAPI object at 0x10302f760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103163700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339dc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10317fa90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103163700>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339dc...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10266baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339dc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10317fa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103033820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339dc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10317f0d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103033820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339dc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10302f880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10317f400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103033820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339dc...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1025c1af0>
          └ APIRoute(path='/layouts/org/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103033820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10339dc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103163940>
          └ APIRoute(path='/layouts/org/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x103396c70>
                     └ <function get_request_handler.<locals>.app at 0x103163af0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1025b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102f17bb0>, 'org_id': 'null', 'role_id': 'null'}
                 │         └ <function get_orgs at 0x102d73e50>
                 └ <fastapi.dependencies.models.Dependant object at 0x103178fd0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 70, in get_orgs
    users = await layouts_crud.query_layouts_org_users(db, org_id, role_id)
                  │            │                       │   │       └ 'null'
                  │            │                       │   └ 'null'
                  │            │                       └ <providers.psql_provider.DB object at 0x102f17bb0>
                  │            └ <function query_layouts_org_users at 0x102db2040>
                  └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 109, in query_layouts_org_users
    org_users = await db.fetch_all(sql)
                      │  │         └ "\n    SELECT\n        users.id,\n        users.last_name,\n        users.first_name,\n        users.email,\n        user_org...
                      │  └ <function DB.fetch_all at 0x102a71c10>
                      └ <providers.psql_provider.DB object at 0x102f17bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        users.id,\n        users.last_name,\n        users.first_name,\n        users.email,\n        user_org...
                   │   └ <function Connection.fetch at 0x1027cb0d0>
                   └ <PoolConnectionProxy [released] 0x1033cdaf0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x1027b81f0>
                 └ <asyncpg.connection.Connection object at 0x1033a6130>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1033a6130>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1027b85e0>
                         └ <asyncpg.connection.Connection object at 0x1033a6130>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1027b6700>
                 └ <asyncpg.connection.Connection object at 0x1033a6130>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1033a6130>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:39:54.310 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49565 - "GET /layouts/org/users?org_id=null&role_id=null HTTP/1.1" 500
2023-12-17 10:40:03.782 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49619 - "OPTIONS /orgs?role_id=null HTTP/1.1" 200
2023-12-17 10:40:03.783 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49620 - "OPTIONS /orgs?role_id=null HTTP/1.1" 200
2023-12-17 10:40:03.794 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-17 10:40:03.798 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49619 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-17 10:40:03.809 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-17 10:40:03.815 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49620 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-17 10:40:36.331 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49757 - "OPTIONS /token HTTP/1.1" 200
2023-12-17 10:40:36.342 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '001@demo.com';
    
2023-12-17 10:40:36.347 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
    
2023-12-17 10:40:36.351 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
    
2023-12-17 10:40:36.359 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            id
        FROM
            roles
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
        
2023-12-17 10:40:36.361 | INFO     | providers.psql_provider:execute:57 - 
        UPDATE users SET curr_role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c' WHERE users.id = 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
        
2023-12-17 10:40:36.363 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            id,
            email,
            last_name,
            first_name,
            curr_role_id,
            is_super
        FROM
            users
        WHERE
            users.id = 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
        
2023-12-17 10:40:36.366 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'dd655737-7bf8-458b-9a9a-d23a7871bb3e'
        AND
        roles.id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 10:40:36.375 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 10:40:36.378 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49757 - "POST /token HTTP/1.1" 200
2023-12-17 10:40:36.896 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49757 - "OPTIONS /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:40:36.896 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49766 - "OPTIONS /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:40:36.905 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 10:40:36.909 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 10:40:36.914 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49757 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:40:36.923 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 10:40:36.925 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 10:40:36.931 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49766 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:40:43.212 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49795 - "OPTIONS /users?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&is_super=false HTTP/1.1" 200
2023-12-17 10:40:43.212 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49796 - "OPTIONS /users?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&is_super=false HTTP/1.1" 200
2023-12-17 10:40:43.218 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
        
2023-12-17 10:40:43.221 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
        
2023-12-17 10:40:43.223 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49796 - "GET /users?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&is_super=false HTTP/1.1" 200
2023-12-17 10:40:43.228 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
        
2023-12-17 10:40:43.231 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
        
2023-12-17 10:40:43.233 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49795 - "GET /users?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&is_super=false HTTP/1.1" 200
2023-12-17 10:40:44.250 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49795 - "OPTIONS /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:40:44.250 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49796 - "OPTIONS /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:40:44.257 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 10:40:44.259 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-17 10:40:44.263 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49796 - "GET /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:40:44.269 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 10:40:44.271 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-17 10:40:44.273 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49795 - "GET /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:40:49.809 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49827 - "OPTIONS /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:40:49.810 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49828 - "OPTIONS /layouts/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:40:49.812 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49827 - "OPTIONS /layouts/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:40:49.812 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49830 - "OPTIONS /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:40:49.821 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 10:40:49.822 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 10:40:49.825 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 10:40:49.826 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49829 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 10:40:49.836 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 10:40:49.838 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-17 10:40:49.841 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49827 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 10:40:49.842 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 10:40:49.845 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49828 - "GET /layouts/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:40:49.846 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49831 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:40:49.850 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 10:40:49.850 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 10:40:49.851 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-17 10:40:49.853 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49827 - "GET /layouts/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:40:49.855 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 10:40:49.857 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49828 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:41:26.862 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id
    FROM
        users
    WHERE
        users.email = '002@demo.com';
    
2023-12-17 10:41:26.866 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO users
        (
            last_name,
            first_name,
            email,
            password
        )
    VALUES
        (
            '山田',
            '二郎',
            '002@demo.com',
            '12345678'
        )
    RETURNING id;
    
2023-12-17 10:41:26.872 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49991 - "POST /user HTTP/1.1" 200
2023-12-17 10:41:26.884 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 10:41:26.888 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-17 10:41:26.897 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49991 - "GET /layouts/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:45:07.840 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id
    FROM
        users
    WHERE
        users.email = '003@demo.com';
    
2023-12-17 10:45:07.843 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO users
        (
            last_name,
            first_name,
            email,
            password
        )
    VALUES
        (
            '山田',
            '三郎',
            '003@demo.com',
            '12345678'
        )
    RETURNING id;
    
2023-12-17 10:45:07.850 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50893 - "POST /user HTTP/1.1" 200
2023-12-17 10:45:07.868 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 10:45:07.877 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-17 10:45:07.883 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50893 - "GET /layouts/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:45:07.915 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50901 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-17 10:45:07.922 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 10:45:07.929 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 10:45:07.931 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 10:45:07.936 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50901 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 10:45:07.939 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-17 10:45:07.942 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50900 - "GET /layouts/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:45:07.943 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 10:45:07.950 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50893 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:46:54.672 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51343 - "OPTIONS /user HTTP/1.1" 200
2023-12-17 10:46:54.686 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-17 10:46:54.690 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO users
        (
            last_name,
            first_name,
            email,
            password
        )
    VALUES
        (
            '山田',
            '四郎',
            '004@demo.com',
            '12345678'
        )
    RETURNING id;
    
2023-12-17 10:46:54.696 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51343 - "POST /user HTTP/1.1" 200
2023-12-17 10:46:54.711 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 10:46:54.717 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-17 10:46:54.725 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51343 - "GET /layouts/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:47:53.906 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 10:47:53.909 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 10:47:53.913 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 10:47:53.924 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51595 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 10:47:53.933 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 10:47:53.934 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-17 10:47:53.943 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 10:47:53.944 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51594 - "GET /layouts/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:47:53.945 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51593 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:47:53.951 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51601 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 10:47:53.955 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 10:47:53.959 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 10:47:53.961 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-17 10:47:53.967 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51595 - "GET /layouts/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:47:53.970 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 10:47:53.973 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51594 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:52:14.059 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-17 10:52:14.161 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-17 10:52:14.161 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-17 10:52:14.161 | INFO     | uvicorn.server:serve:86 - Finished server process [77146]
2023-12-17 10:52:14.585 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-17 10:56:17.128 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-17 10:56:17.231 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-17 10:56:17.231 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-17 10:56:17.231 | INFO     | uvicorn.server:serve:86 - Finished server process [77554]
2023-12-17 10:56:17.667 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-17 10:56:48.386 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53769 - "OPTIONS /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:56:48.387 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53770 - "OPTIONS /layouts/users-all HTTP/1.1" 200
2023-12-17 10:56:48.396 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53771 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-17 10:56:48.398 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53772 - "OPTIONS /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:56:48.399 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53773 - "OPTIONS /layouts/users-all HTTP/1.1" 200
2023-12-17 10:56:48.399 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53774 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-17 10:56:48.410 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 10:56:48.411 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users;
    
2023-12-17 10:56:48.412 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 10:56:48.419 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53770 - "GET /layouts/users-all HTTP/1.1" 200
2023-12-17 10:56:48.424 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53771 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 10:56:48.433 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users;
    
2023-12-17 10:56:48.435 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 10:56:48.437 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 10:56:48.443 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53774 - "GET /layouts/users-all HTTP/1.1" 200
2023-12-17 10:56:48.444 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53769 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:56:48.444 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53770 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 10:56:48.454 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 10:56:48.461 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 10:56:48.462 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53774 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:57:53.432 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-17 10:57:53.534 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-17 10:57:53.534 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-17 10:57:53.535 | INFO     | uvicorn.server:serve:86 - Finished server process [77594]
2023-12-17 10:57:53.974 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-17 10:57:58.363 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 10:57:58.372 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 10:57:58.376 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 10:57:58.378 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54073 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 10:57:58.384 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54072 - "GET /layouts/users-all HTTP/1.1" 200
2023-12-17 10:57:58.389 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 10:57:58.401 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 10:57:58.404 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 10:57:58.405 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54071 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:57:58.413 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54078 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 10:57:58.414 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54073 - "GET /layouts/users-all HTTP/1.1" 200
2023-12-17 10:57:58.417 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 10:57:58.421 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 10:57:58.422 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54072 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:59:02.773 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54338 - "OPTIONS /org HTTP/1.1" 200
2023-12-17 10:59:02.797 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO orgs (p_id, type, name)
    VALUES (
        '0ccba4ff-3473-48bd-ae98-b0518066f548',
        '02',
        '東京（エリア）'
    )
    RETURNING id;
    
2023-12-17 10:59:02.804 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO roles (type, name)
    VALUES (
        '02',
        'エリア管理者'
    )
    RETURNING id;
    
2023-12-17 10:59:02.807 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_org_rels (user_id, org_id, type)
    VALUES (
        '86fa87ef-0514-40f6-a4f9-a1e3a285f8ff',
        '46276f74-eddb-48c2-a00e-10f0032385cf',
        '02'
    )
    
2023-12-17 10:59:02.813 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_role_rels (user_id, role_id)
    VALUES (
        '86fa87ef-0514-40f6-a4f9-a1e3a285f8ff',
        '5ee88520-89a9-4828-9dda-c83802772965'
    )
    
2023-12-17 10:59:02.815 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO org_role_rels (org_id, role_id)
    VALUES (
        '46276f74-eddb-48c2-a00e-10f0032385cf',
        '5ee88520-89a9-4828-9dda-c83802772965'
    )
    
2023-12-17 10:59:02.820 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '5ee88520-89a9-4828-9dda-c83802772965',
            '8f63e587-b802-4cfd-8ead-d3423237b054'
        )
        
2023-12-17 10:59:02.822 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '5ee88520-89a9-4828-9dda-c83802772965',
            '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
        )
        
2023-12-17 10:59:02.824 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '5ee88520-89a9-4828-9dda-c83802772965',
            '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
        )
        
2023-12-17 10:59:02.825 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '5ee88520-89a9-4828-9dda-c83802772965',
            '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
        )
        
2023-12-17 10:59:02.830 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '5ee88520-89a9-4828-9dda-c83802772965',
            'dd96b563-2476-4904-a880-a2cffe1ea0ac'
        )
        
2023-12-17 10:59:02.831 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '5ee88520-89a9-4828-9dda-c83802772965',
            '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
        )
        
2023-12-17 10:59:02.838 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '5ee88520-89a9-4828-9dda-c83802772965',
            '2ca11194-6079-41e8-8b26-275aa42848fa'
        )
        
2023-12-17 10:59:02.839 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '5ee88520-89a9-4828-9dda-c83802772965',
            '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
        )
        
2023-12-17 10:59:02.841 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '5ee88520-89a9-4828-9dda-c83802772965',
            '58289de8-b6b7-4629-9016-58e5d30e89ee'
        )
        
2023-12-17 10:59:02.846 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '5ee88520-89a9-4828-9dda-c83802772965',
            '2065f63f-5e95-432e-9545-eed26715dc49'
        )
        
2023-12-17 10:59:02.850 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '5ee88520-89a9-4828-9dda-c83802772965',
            '55762da2-4d17-418e-b09f-e6249645ec18'
        )
        
2023-12-17 10:59:02.852 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '5ee88520-89a9-4828-9dda-c83802772965',
            'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
        )
        
2023-12-17 10:59:02.854 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '5ee88520-89a9-4828-9dda-c83802772965',
            'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
        )
        
2023-12-17 10:59:02.856 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '5ee88520-89a9-4828-9dda-c83802772965',
            'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7'
        )
        
2023-12-17 10:59:02.857 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54338 - "POST /org HTTP/1.1" 200
2023-12-17 10:59:03.718 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54338 - "OPTIONS /org/null HTTP/1.1" 200
2023-12-17 10:59:03.719 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54346 - "OPTIONS /layouts/org/users?org_id=null&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:59:03.719 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54347 - "OPTIONS /org/null HTTP/1.1" 200
2023-12-17 10:59:03.719 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54348 - "OPTIONS /layouts/org/users?org_id=null&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 10:59:03.727 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'null'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 10:59:03.727 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = 'null'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 10:59:03.730 | ERROR    | app.endpoints.orgs:get_org:57 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1008619d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1005df430>
           └ <SpawnProcess name='SpawnProcess-11' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1005d3a60>
    └ <SpawnProcess name='SpawnProcess-11' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100872a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-11' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-11' parent=63449 started>
    │    └ <function subprocess_started at 0x10307f5e0>
    └ <SpawnProcess name='SpawnProcess-11' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100872bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x103075b80>
           │       │   └ <uvicorn.server.Server object at 0x100872bb0>
           │       └ <function run at 0x10089e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10305cac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1030ca850>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103346970>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033469...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1031a71f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1030ca850>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103346970>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033469...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103346970>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033469...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x103307100>
          └ <fastapi.applications.FastAPI object at 0x1031a71f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1031aa310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033469...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1033070a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x103307100>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1031aa310>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033469...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x1026b7af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1033070a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1033070a0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033469...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x103307070>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1033070a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1031b2700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033469...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1032fefd0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x103307070>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1031b2700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033469...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1031a7310>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1032fefd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1031b2700>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033469...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10260daf0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1031b2700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033469...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1031bc1f0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1032fee20>
                     └ <function get_request_handler.<locals>.app at 0x1031bc160>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1024fc790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x103096640>, 'org_id': 'null'}
                 │         └ <function get_org at 0x102dbbe50>
                 └ <fastapi.dependencies.models.Dependant object at 0x1031b8340>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ 'null'
                │         │         └ <providers.psql_provider.DB object at 0x103096640>
                │         └ <function query_org at 0x102dc4d30>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 158, in query_org
    org_basic = await db.fetch_one(sql)
                      │  │         └ "\n    SELECT\n        orgs.p_id,\n        orgs.name,\n        orgs.remark,\n        orgs.type,\n        user_org_rels.user_i...
                      │  └ <function DB.fetch_one at 0x102abdaf0>
                      └ <providers.psql_provider.DB object at 0x103096640>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 31, in fetch_one
    result = await con.fetchrow(query)
                   │   │        └ "\n    SELECT\n        orgs.p_id,\n        orgs.name,\n        orgs.remark,\n        orgs.type,\n        user_org_rels.user_i...
                   │   └ <function Connection.fetchrow at 0x102817160>
                   └ <PoolConnectionProxy [released] 0x1031a4460>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 749, in fetchrow
    data = await self._execute(
                 │    └ <function Connection._execute at 0x1028041f0>
                 └ <asyncpg.connection.Connection object at 0x1033455e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1033455e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1028045e0>
                         └ <asyncpg.connection.Connection object at 0x1033455e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x102802700>
                 └ <asyncpg.connection.Connection object at 0x1033455e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1033455e0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:59:03.738 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54338 - "GET /org/null HTTP/1.1" 500
2023-12-17 10:59:03.738 | ERROR    | app.endpoints.layouts:get_orgs:77 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1008619d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1005df430>
           └ <SpawnProcess name='SpawnProcess-11' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1005d3a60>
    └ <SpawnProcess name='SpawnProcess-11' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100872a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-11' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-11' parent=63449 started>
    │    └ <function subprocess_started at 0x10307f5e0>
    └ <SpawnProcess name='SpawnProcess-11' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100872bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x103075b80>
           │       │   └ <uvicorn.server.Server object at 0x100872bb0>
           │       └ <function run at 0x10089e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10305cac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1030ca850>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033073d0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033073...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1031a71f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1030ca850>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033073d0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033073...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033073d0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033073...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x103307100>
          └ <fastapi.applications.FastAPI object at 0x1031a71f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1031b2040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033073...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1033070a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x103307100>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1031b2040>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033073...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x1026b7af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1033070a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1033070a0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033073...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x103307070>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1033070a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1031b2ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033073...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1032fefd0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x103307070>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1031b2ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033073...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1031a7310>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1032fefd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1031b2ee0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033073...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10260daf0>
          └ APIRoute(path='/layouts/org/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1031b2ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033073...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1032ea9d0>
          └ APIRoute(path='/layouts/org/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x103330400>
                     └ <function get_request_handler.<locals>.app at 0x1032ea3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1024fc790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x103096640>, 'org_id': 'null', 'role_id': 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c'}
                 │         └ <function get_orgs at 0x102dc1e50>
                 └ <fastapi.dependencies.models.Dependant object at 0x1032fa040>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 70, in get_orgs
    users = await layouts_crud.query_layouts_org_users(db, org_id, role_id)
                  │            │                       │   │       └ 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c'
                  │            │                       │   └ 'null'
                  │            │                       └ <providers.psql_provider.DB object at 0x103096640>
                  │            └ <function query_layouts_org_users at 0x102f27160>
                  └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 123, in query_layouts_org_users
    org_users = await db.fetch_all(sql)
                      │  │         └ "\n    SELECT\n        users.id,\n        users.last_name,\n        users.first_name,\n        users.email,\n        user_org...
                      │  └ <function DB.fetch_all at 0x102abdc10>
                      └ <providers.psql_provider.DB object at 0x103096640>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        users.id,\n        users.last_name,\n        users.first_name,\n        users.email,\n        user_org...
                   │   └ <function Connection.fetch at 0x1028170d0>
                   └ <PoolConnectionProxy [released] 0x103307430>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x1028041f0>
                 └ <asyncpg.connection.Connection object at 0x1033456d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1033456d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1028045e0>
                         └ <asyncpg.connection.Connection object at 0x1033456d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x102802700>
                 └ <asyncpg.connection.Connection object at 0x1033456d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1033456d0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:59:03.745 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54346 - "GET /layouts/org/users?org_id=null&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 500
2023-12-17 10:59:03.754 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'null'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 10:59:03.754 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = 'null'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 10:59:03.755 | ERROR    | app.endpoints.orgs:get_org:57 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1008619d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1005df430>
           └ <SpawnProcess name='SpawnProcess-11' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1005d3a60>
    └ <SpawnProcess name='SpawnProcess-11' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100872a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-11' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-11' parent=63449 started>
    │    └ <function subprocess_started at 0x10307f5e0>
    └ <SpawnProcess name='SpawnProcess-11' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100872bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x103075b80>
           │       │   └ <uvicorn.server.Server object at 0x100872bb0>
           │       └ <function run at 0x10089e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10305cac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1030ca850>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103330400>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033304...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1031a71f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1030ca850>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103330400>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033304...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103330400>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033304...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x103307100>
          └ <fastapi.applications.FastAPI object at 0x1031a71f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1031b2040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033304...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1033070a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x103307100>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1031b2040>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033304...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x1026b7af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1033070a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1033070a0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033304...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x103307070>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1033070a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1031b2ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033304...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1032fefd0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x103307070>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1031b2ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033304...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1031a7310>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1032fefd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1031b2ee0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033304...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10260daf0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1031b2ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1033304...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1031bc1f0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x103307520>
                     └ <function get_request_handler.<locals>.app at 0x1031bc160>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1024fc790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x103096640>, 'org_id': 'null'}
                 │         └ <function get_org at 0x102dbbe50>
                 └ <fastapi.dependencies.models.Dependant object at 0x1031b8340>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ 'null'
                │         │         └ <providers.psql_provider.DB object at 0x103096640>
                │         └ <function query_org at 0x102dc4d30>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 158, in query_org
    org_basic = await db.fetch_one(sql)
                      │  │         └ "\n    SELECT\n        orgs.p_id,\n        orgs.name,\n        orgs.remark,\n        orgs.type,\n        user_org_rels.user_i...
                      │  └ <function DB.fetch_one at 0x102abdaf0>
                      └ <providers.psql_provider.DB object at 0x103096640>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 31, in fetch_one
    result = await con.fetchrow(query)
                   │   │        └ "\n    SELECT\n        orgs.p_id,\n        orgs.name,\n        orgs.remark,\n        orgs.type,\n        user_org_rels.user_i...
                   │   └ <function Connection.fetchrow at 0x102817160>
                   └ <PoolConnectionProxy [released] 0x1032d8cd0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 749, in fetchrow
    data = await self._execute(
                 │    └ <function Connection._execute at 0x1028041f0>
                 └ <asyncpg.connection.Connection object at 0x10361fb80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x10361fb80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1028045e0>
                         └ <asyncpg.connection.Connection object at 0x10361fb80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x102802700>
                 └ <asyncpg.connection.Connection object at 0x10361fb80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x10361fb80>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:59:03.761 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54346 - "GET /org/null HTTP/1.1" 500
2023-12-17 10:59:03.761 | ERROR    | app.endpoints.layouts:get_orgs:77 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1008619d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1005df430>
           └ <SpawnProcess name='SpawnProcess-11' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1005d3a60>
    └ <SpawnProcess name='SpawnProcess-11' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100872a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-11' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-11' parent=63449 started>
    │    └ <function subprocess_started at 0x10307f5e0>
    └ <SpawnProcess name='SpawnProcess-11' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100872bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x103075b80>
           │       │   └ <uvicorn.server.Server object at 0x100872bb0>
           │       └ <function run at 0x10089e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10305cac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1030ca850>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103346a30>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103346a...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1031a71f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1030ca850>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103346a30>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103346a...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103346a30>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103346a...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x103307100>
          └ <fastapi.applications.FastAPI object at 0x1031a71f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1031b2700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103346a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1033070a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x103307100>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1031b2700>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103346a...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x1026b7af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1033070a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1033070a0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103346a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x103307070>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1033070a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1039580d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103346a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1032fefd0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x103307070>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1039580d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103346a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1031a7310>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1032fefd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1039580d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103346a...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10260daf0>
          └ APIRoute(path='/layouts/org/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1039580d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103346a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1032ea9d0>
          └ APIRoute(path='/layouts/org/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1032f5940>
                     └ <function get_request_handler.<locals>.app at 0x1032ea3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1024fc790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x103096640>, 'org_id': 'null', 'role_id': 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c'}
                 │         └ <function get_orgs at 0x102dc1e50>
                 └ <fastapi.dependencies.models.Dependant object at 0x1032fa040>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 70, in get_orgs
    users = await layouts_crud.query_layouts_org_users(db, org_id, role_id)
                  │            │                       │   │       └ 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c'
                  │            │                       │   └ 'null'
                  │            │                       └ <providers.psql_provider.DB object at 0x103096640>
                  │            └ <function query_layouts_org_users at 0x102f27160>
                  └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 123, in query_layouts_org_users
    org_users = await db.fetch_all(sql)
                      │  │         └ "\n    SELECT\n        users.id,\n        users.last_name,\n        users.first_name,\n        users.email,\n        user_org...
                      │  └ <function DB.fetch_all at 0x102abdc10>
                      └ <providers.psql_provider.DB object at 0x103096640>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        users.id,\n        users.last_name,\n        users.first_name,\n        users.email,\n        user_org...
                   │   └ <function Connection.fetch at 0x1028170d0>
                   └ <PoolConnectionProxy [released] 0x103346670>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x1028041f0>
                 └ <asyncpg.connection.Connection object at 0x10361fc70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x10361fc70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1028045e0>
                         └ <asyncpg.connection.Connection object at 0x10361fc70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x102802700>
                 └ <asyncpg.connection.Connection object at 0x10361fc70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x10361fc70>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 10:59:03.766 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54338 - "GET /layouts/org/users?org_id=null&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 500
2023-12-17 11:00:00.027 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54581 - "OPTIONS /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:00:00.027 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54582 - "OPTIONS /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:00:00.034 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:00:00.037 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-17 11:00:00.039 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54582 - "GET /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:00:00.044 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:00:00.046 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-17 11:00:00.049 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54581 - "GET /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:00:02.322 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54581 - "OPTIONS /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:00:02.322 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54582 - "OPTIONS /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:00:02.322 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54593 - "OPTIONS /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:00:02.323 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54594 - "OPTIONS /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:00:02.335 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:00:02.336 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:00:02.339 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:00:02.340 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:00:02.342 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54593 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:00:02.343 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:00:02.358 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:00:02.359 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54582 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:00:02.368 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:00:02.370 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:00:02.380 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:00:02.383 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54594 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:00:02.384 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:00:02.389 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54593 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:00:11.720 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:00:11.724 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-17 11:00:11.731 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54645 - "GET /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:00:11.745 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:00:11.749 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-17 11:00:11.753 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54647 - "GET /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:00:15.787 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54667 - "OPTIONS /layouts/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:00:15.789 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54669 - "OPTIONS /layouts/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:00:15.793 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:00:15.794 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:00:15.794 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 11:00:15.801 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:00:15.802 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54668 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 11:00:15.808 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:00:15.815 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 11:00:15.817 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54647 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:00:15.817 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 11:00:15.818 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-17 11:00:15.819 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54645 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:00:15.819 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54669 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 11:00:15.821 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54667 - "GET /layouts/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:00:15.823 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:00:15.824 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:00:15.825 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:00:15.825 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:00:15.826 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54668 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:00:15.827 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-17 11:00:15.828 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54669 - "GET /layouts/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:00:15.829 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 11:00:15.831 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54647 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:00:19.101 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:00:19.107 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-17 11:00:19.114 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54647 - "GET /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:00:19.126 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:00:19.131 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-17 11:00:19.138 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54669 - "GET /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:00:21.093 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:00:21.094 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:00:21.099 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:00:21.106 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:00:21.108 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:00:21.110 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54647 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:00:21.114 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54669 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:00:21.120 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:00:21.123 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:00:21.132 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:00:21.136 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54647 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:00:21.138 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:00:21.141 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:00:21.144 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54707 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:04:19.907 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-17 11:04:20.009 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-17 11:04:20.010 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-17 11:04:20.010 | INFO     | uvicorn.server:serve:86 - Finished server process [77624]
2023-12-17 11:04:20.440 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-17 11:04:31.137 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:04:31.148 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:04:31.153 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:04:31.159 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    JOIN
        user_org_rels
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        users.is_super = false;
    
2023-12-17 11:04:31.164 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:04:31.166 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55722 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:04:31.175 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55721 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:04:31.179 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:04:31.188 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:04:31.192 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    JOIN
        user_org_rels
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        users.is_super = false;
    
2023-12-17 11:04:31.193 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:04:31.194 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55726 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:04:31.197 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:04:31.201 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55722 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:06:42.283 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:06:42.284 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:06:42.300 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:06:42.307 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:06:42.309 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56268 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:06:42.325 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:06:42.328 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    JOIN
        user_org_rels
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        users.is_super = false;
    
2023-12-17 11:06:42.335 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56269 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:06:42.336 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:06:42.346 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56273 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:06:42.346 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:06:42.349 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:06:42.350 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    JOIN
        user_org_rels
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        users.is_super = false;
    
2023-12-17 11:06:42.351 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56268 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:08:08.067 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-17 11:08:08.169 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-17 11:08:08.169 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-17 11:08:08.170 | INFO     | uvicorn.server:serve:86 - Finished server process [77736]
2023-12-17 11:08:08.600 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-17 11:08:28.728 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-17 11:08:28.830 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-17 11:08:28.831 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-17 11:08:28.832 | INFO     | uvicorn.server:serve:86 - Finished server process [77790]
2023-12-17 11:08:29.274 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-17 11:08:33.499 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:08:33.500 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:08:33.511 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:08:33.520 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56728 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:08:33.523 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:08:33.536 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:08:33.540 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:08:33.546 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 11:08:33.548 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56733 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:08:33.550 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56729 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:08:33.558 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:08:33.562 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:08:33.565 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 11:08:33.567 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56733 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:09:23.574 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-17 11:09:23.676 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-17 11:09:23.676 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-17 11:09:23.677 | INFO     | uvicorn.server:serve:86 - Finished server process [77801]
2023-12-17 11:09:24.090 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-17 11:09:58.875 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-17 11:09:58.976 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-17 11:09:58.976 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-17 11:09:58.977 | INFO     | uvicorn.server:serve:86 - Finished server process [77819]
2023-12-17 11:09:59.377 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-17 11:10:06.803 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57119 - "OPTIONS /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:10:06.805 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57120 - "OPTIONS /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:10:06.809 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57121 - "OPTIONS /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:10:06.819 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57122 - "OPTIONS /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:10:06.827 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:10:06.831 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:10:06.841 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:10:06.843 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    JOIN
        user_org_rels
        ON
        users.id = user_org_rels.user_id
        ON
        user_org_rels.org_id != '46276f74-eddb-48c2-a00e-10f0032385cf'
    WHERE
        users.is_super = false;
    
2023-12-17 11:10:06.845 | ERROR    | app.endpoints.layouts:get_orgs:77 - syntax error at or near "ON"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1026d59d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102453430>
           └ <SpawnProcess name='SpawnProcess-16' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102447a60>
    └ <SpawnProcess name='SpawnProcess-16' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1026e6a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=63449 started>
    │    └ <function subprocess_started at 0x104baa5e0>
    └ <SpawnProcess name='SpawnProcess-16' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1026e6bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x104ba1b80>
           │       │   └ <uvicorn.server.Server object at 0x1026e6bb0>
           │       └ <function run at 0x102712820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x104b88ac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104bf67f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104e5b2e0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104e5b2...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x104cd5fd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104bf67f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104e5b2e0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104e5b2...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104e5b2e0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104e5b2...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104e330a0>
          └ <fastapi.applications.FastAPI object at 0x104cd5fd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x104cdfc10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104e5b2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x104e33040>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104e330a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x104cdfc10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104e5b2...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10430faf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x104e33040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x104e33040>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104e5b2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104e2afd0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x104e33040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104cdfee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104e5b2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x104e2af70>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104e2afd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104cdfee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104e5b2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x104cd59a0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x104e2af70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104cdfee0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104e5b2...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x104265af0>
          └ APIRoute(path='/layouts/org/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104cdfee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104e5b2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x104e179d0>
          └ APIRoute(path='/layouts/org/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x104e5b4f0>
                     └ <function get_request_handler.<locals>.app at 0x104e173a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104254790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x104bc25e0>, 'org_id': '46276f74-eddb-48c2-a00e-10f0032385cf', 'role_id': 'a82e...
                 │         └ <function get_orgs at 0x104a19e50>
                 └ <fastapi.dependencies.models.Dependant object at 0x104e21fa0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 70, in get_orgs
    users = await layouts_crud.query_layouts_org_users(db, org_id, role_id)
                  │            │                       │   │       └ 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c'
                  │            │                       │   └ '46276f74-eddb-48c2-a00e-10f0032385cf'
                  │            │                       └ <providers.psql_provider.DB object at 0x104bc25e0>
                  │            └ <function query_layouts_org_users at 0x104a3d160>
                  └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 155, in query_layouts_org_users
    all_users = await db.fetch_all(sql)
                      │  │         └ "\n    SELECT\n        users.id,\n        users.last_name,\n        users.first_name\n    FROM\n        users\n    JOIN\n    ...
                      │  └ <function DB.fetch_all at 0x104715c10>
                      └ <providers.psql_provider.DB object at 0x104bc25e0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        users.id,\n        users.last_name,\n        users.first_name\n    FROM\n        users\n    JOIN\n    ...
                   │   └ <function Connection.fetch at 0x10446f0d0>
                   └ <PoolConnectionProxy [released] 0x104e5ba90>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x10445c1f0>
                 └ <asyncpg.connection.Connection object at 0x104cb8c70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x104cb8c70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x10445c5e0>
                         └ <asyncpg.connection.Connection object at 0x104cb8c70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x10445a700>
                 └ <asyncpg.connection.Connection object at 0x104cb8c70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x104cb8c70>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.PostgresSyntaxError: syntax error at or near "ON"

2023-12-17 11:10:06.865 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57120 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 500
2023-12-17 11:10:06.865 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:10:06.872 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:10:06.872 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57119 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:10:06.879 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:10:06.882 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:10:06.885 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    JOIN
        user_org_rels
        ON
        users.id = user_org_rels.user_id
        ON
        user_org_rels.org_id != '46276f74-eddb-48c2-a00e-10f0032385cf'
    WHERE
        users.is_super = false;
    
2023-12-17 11:10:06.887 | ERROR    | app.endpoints.layouts:get_orgs:77 - syntax error at or near "ON"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1026d59d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102453430>
           └ <SpawnProcess name='SpawnProcess-16' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102447a60>
    └ <SpawnProcess name='SpawnProcess-16' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1026e6a90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=63449 started>
    │    └ <function subprocess_started at 0x104baa5e0>
    └ <SpawnProcess name='SpawnProcess-16' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1026e6bb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x104ba1b80>
           │       │   └ <uvicorn.server.Server object at 0x1026e6bb0>
           │       └ <function run at 0x102712820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x104b88ac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104bf67f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104e0ba30>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104e0ba...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x104cd5fd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104bf67f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104e0ba30>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104e0ba...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104e0ba30>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104e0ba...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104e330a0>
          └ <fastapi.applications.FastAPI object at 0x104cd5fd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x104cd4e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104e0ba...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x104e33040>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104e330a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x104cd4e50>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104e0ba...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10430faf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x104e33040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x104e33040>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104e0ba...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104e2afd0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x104e33040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104cdfb80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104e0ba...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x104e2af70>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104e2afd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104cdfb80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104e0ba...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x104cd59a0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x104e2af70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104cdfb80>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104e0ba...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x104265af0>
          └ APIRoute(path='/layouts/org/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104cdfb80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104e0ba...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x104e179d0>
          └ APIRoute(path='/layouts/org/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x104e2adc0>
                     └ <function get_request_handler.<locals>.app at 0x104e173a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104254790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x104bc25e0>, 'org_id': '46276f74-eddb-48c2-a00e-10f0032385cf', 'role_id': 'a82e...
                 │         └ <function get_orgs at 0x104a19e50>
                 └ <fastapi.dependencies.models.Dependant object at 0x104e21fa0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 70, in get_orgs
    users = await layouts_crud.query_layouts_org_users(db, org_id, role_id)
                  │            │                       │   │       └ 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c'
                  │            │                       │   └ '46276f74-eddb-48c2-a00e-10f0032385cf'
                  │            │                       └ <providers.psql_provider.DB object at 0x104bc25e0>
                  │            └ <function query_layouts_org_users at 0x104a3d160>
                  └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 155, in query_layouts_org_users
    all_users = await db.fetch_all(sql)
                      │  │         └ "\n    SELECT\n        users.id,\n        users.last_name,\n        users.first_name\n    FROM\n        users\n    JOIN\n    ...
                      │  └ <function DB.fetch_all at 0x104715c10>
                      └ <providers.psql_provider.DB object at 0x104bc25e0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        users.id,\n        users.last_name,\n        users.first_name\n    FROM\n        users\n    JOIN\n    ...
                   │   └ <function Connection.fetch at 0x10446f0d0>
                   └ <PoolConnectionProxy [released] 0x104e33c70>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x10445c1f0>
                 └ <asyncpg.connection.Connection object at 0x104f7d6d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x104f7d6d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x10445c5e0>
                         └ <asyncpg.connection.Connection object at 0x104f7d6d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x10445a700>
                 └ <asyncpg.connection.Connection object at 0x104f7d6d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x104f7d6d0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.PostgresSyntaxError: syntax error at or near "ON"

2023-12-17 11:10:06.893 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57122 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 500
2023-12-17 11:10:06.893 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:10:06.897 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57120 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:10:39.174 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-17 11:10:39.276 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-17 11:10:39.277 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-17 11:10:39.277 | INFO     | uvicorn.server:serve:86 - Finished server process [77830]
2023-12-17 11:10:39.721 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-17 11:10:47.251 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:10:47.251 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:10:47.260 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:10:47.275 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    JOIN
        user_org_rels
        ON
        users.id = user_org_rels.user_id
        AND
        user_org_rels.org_id != '46276f74-eddb-48c2-a00e-10f0032385cf'
    WHERE
        users.is_super = false;
    
2023-12-17 11:10:47.277 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57305 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:10:47.281 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:10:47.287 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57304 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:10:47.290 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:10:47.294 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:10:47.298 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    JOIN
        user_org_rels
        ON
        users.id = user_org_rels.user_id
        AND
        user_org_rels.org_id != '46276f74-eddb-48c2-a00e-10f0032385cf'
    WHERE
        users.is_super = false;
    
2023-12-17 11:10:47.299 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:10:47.301 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57309 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:10:47.302 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:10:47.306 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57305 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:12:44.682 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-17 11:12:44.783 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-17 11:12:44.784 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-17 11:12:44.784 | INFO     | uvicorn.server:serve:86 - Finished server process [77851]
2023-12-17 11:12:45.227 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-17 11:19:22.532 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-17 11:19:22.634 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-17 11:19:22.635 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-17 11:19:22.635 | INFO     | uvicorn.server:serve:86 - Finished server process [77877]
2023-12-17 11:19:23.051 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-17 11:19:31.578 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:19:31.579 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:19:31.585 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:19:31.598 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59430 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:19:31.599 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:19:31.609 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:19:31.613 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:19:31.614 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    JOIN
        user_org_rels
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:19:31.619 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59431 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:19:31.624 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59435 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:19:31.629 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:19:31.633 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:19:31.637 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    JOIN
        user_org_rels
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:19:31.639 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59430 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:21:45.575 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-17 11:21:45.676 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-17 11:21:45.677 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-17 11:21:45.677 | INFO     | uvicorn.server:serve:86 - Finished server process [77936]
2023-12-17 11:21:46.098 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-17 11:21:54.189 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-17 11:21:54.290 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-17 11:21:54.291 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-17 11:21:54.291 | INFO     | uvicorn.server:serve:86 - Finished server process [77986]
2023-12-17 11:21:54.700 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-17 11:21:59.918 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60045 - "OPTIONS /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:21:59.919 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60046 - "OPTIONS /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:21:59.921 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60047 - "OPTIONS /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:21:59.925 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60048 - "OPTIONS /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:21:59.940 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:21:59.942 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:21:59.948 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:21:59.951 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    JOIN
        user_org_rels
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.is_super = false;
    
2023-12-17 11:21:59.953 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60046 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:21:59.958 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:21:59.965 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:21:59.970 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60045 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:21:59.977 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:21:59.978 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:21:59.979 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:21:59.983 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60046 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:21:59.988 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    JOIN
        user_org_rels
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.is_super = false;
    
2023-12-17 11:21:59.992 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60048 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:22:04.523 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:22:04.526 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:22:04.539 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:22:04.548 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60048 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:22:04.551 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:22:04.555 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:22:04.557 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:22:04.558 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    JOIN
        user_org_rels
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.is_super = false;
    
2023-12-17 11:22:04.560 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60045 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:22:04.561 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60046 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:22:04.566 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:22:04.568 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:22:04.570 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    JOIN
        user_org_rels
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.is_super = false;
    
2023-12-17 11:22:04.571 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60045 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:22:47.362 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:22:47.368 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:22:47.380 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:22:47.388 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60262 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:22:47.395 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:22:47.399 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:22:47.410 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:22:47.416 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    JOIN
        user_org_rels
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.is_super = false;
    
2023-12-17 11:22:47.419 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60267 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:22:47.422 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60263 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:22:47.433 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:22:47.436 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:22:47.437 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    JOIN
        user_org_rels
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.is_super = false;
    
2023-12-17 11:22:47.441 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60267 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:22:50.857 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60267 - "OPTIONS /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:22:50.857 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60263 - "OPTIONS /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:22:50.866 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:22:50.868 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-17 11:22:50.872 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60267 - "GET /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:22:50.879 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:22:50.882 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-17 11:22:50.885 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60263 - "GET /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:22:57.000 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60310 - "OPTIONS /users?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&is_super=false HTTP/1.1" 200
2023-12-17 11:22:57.002 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60310 - "OPTIONS /users?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&is_super=false HTTP/1.1" 200
2023-12-17 11:22:57.007 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
        
2023-12-17 11:22:57.011 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
        
2023-12-17 11:22:57.014 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '86fa87ef-0514-40f6-a4f9-a1e3a285f8ff';
        
2023-12-17 11:22:57.016 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60311 - "GET /users?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&is_super=false HTTP/1.1" 200
2023-12-17 11:22:57.023 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
        
2023-12-17 11:22:57.026 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
        
2023-12-17 11:22:57.027 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '86fa87ef-0514-40f6-a4f9-a1e3a285f8ff';
        
2023-12-17 11:22:57.030 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60310 - "GET /users?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&is_super=false HTTP/1.1" 200
2023-12-17 11:23:04.538 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:23:04.543 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-17 11:23:04.551 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60346 - "GET /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:23:04.564 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:23:04.567 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-17 11:23:04.573 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60348 - "GET /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:23:12.502 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:23:12.502 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:23:12.504 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:23:12.508 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60383 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:23:12.511 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:23:12.516 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:23:12.520 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    JOIN
        user_org_rels
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.is_super = false;
    
2023-12-17 11:23:12.525 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60384 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:23:12.528 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:23:12.531 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:23:12.533 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60388 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:23:12.534 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:23:12.535 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    JOIN
        user_org_rels
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.is_super = false;
    
2023-12-17 11:23:12.536 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60383 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:23:33.012 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:23:33.017 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-17 11:23:33.022 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60474 - "GET /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:23:33.031 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:23:33.034 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-17 11:23:33.039 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60476 - "GET /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:24:15.560 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-17 11:24:15.661 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-17 11:24:15.661 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-17 11:24:15.662 | INFO     | uvicorn.server:serve:86 - Finished server process [77996]
2023-12-17 11:24:16.080 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-17 11:24:25.601 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:24:25.603 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:24:25.611 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:24:25.613 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 11:24:25.616 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60697 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:24:25.622 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:24:25.635 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:24:25.637 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60696 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:24:25.643 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:24:25.645 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:24:25.648 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 11:24:25.650 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:24:25.652 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60701 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:24:25.655 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60697 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:26:06.102 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-17 11:26:06.204 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-17 11:26:06.205 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-17 11:26:06.205 | INFO     | uvicorn.server:serve:86 - Finished server process [78070]
2023-12-17 11:26:06.657 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-17 11:26:10.070 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:26:10.074 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:26:10.084 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:26:10.094 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61136 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:26:10.102 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:26:10.117 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:26:10.119 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    LEFT JOIN
        user_org_rels
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.is_super = false

        AND
        user_org_rels.org_id != '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:26:10.125 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61138 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:26:10.128 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:26:10.136 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:26:10.138 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61145 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:26:10.140 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:26:10.141 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    LEFT JOIN
        user_org_rels
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.is_super = false

        AND
        user_org_rels.org_id != '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:26:10.143 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61136 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:27:00.595 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-17 11:27:00.697 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-17 11:27:00.697 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-17 11:27:00.698 | INFO     | uvicorn.server:serve:86 - Finished server process [78101]
2023-12-17 11:27:01.110 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-17 11:28:03.295 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-17 11:28:03.397 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-17 11:28:03.398 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-17 11:28:03.398 | INFO     | uvicorn.server:serve:86 - Finished server process [78123]
2023-12-17 11:28:03.828 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-17 11:28:31.531 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-17 11:28:31.633 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-17 11:28:31.634 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-17 11:28:31.634 | INFO     | uvicorn.server:serve:86 - Finished server process [78136]
2023-12-17 11:28:32.063 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-17 11:28:35.222 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:28:35.226 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:28:35.231 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:28:35.242 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61745 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:28:35.246 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:28:35.253 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:28:35.257 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:28:35.260 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:28:35.265 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61750 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:28:35.266 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 11:28:35.269 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61746 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:28:35.278 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:28:35.281 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:28:35.284 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:28:35.287 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 11:28:35.288 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61750 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:28:42.990 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:28:42.993 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-17 11:28:42.997 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61788 - "GET /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:28:43.002 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:28:43.007 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-17 11:28:43.010 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61790 - "GET /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:28:54.010 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:28:54.011 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:28:54.021 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:28:54.023 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:28:54.025 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 11:28:54.027 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61839 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:28:54.028 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:28:54.043 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61838 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:28:54.045 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:28:54.053 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:28:54.056 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:28:54.064 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 11:28:54.067 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:28:54.069 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61839 - "GET /org/46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 11:28:54.070 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 11:28:54.071 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61843 - "GET /layouts/org/users?org_id=46276f74-eddb-48c2-a00e-10f0032385cf&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:29:12.407 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:29:12.411 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-17 11:29:12.417 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61921 - "GET /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:29:12.425 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:29:12.430 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-17 11:29:12.435 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61923 - "GET /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:29:15.386 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61923 - "OPTIONS /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:29:15.387 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61921 - "OPTIONS /layouts/users-all HTTP/1.1" 200
2023-12-17 11:29:15.388 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61937 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-17 11:29:15.389 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61938 - "OPTIONS /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:29:15.389 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61923 - "OPTIONS /layouts/users-all HTTP/1.1" 200
2023-12-17 11:29:15.390 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61921 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-17 11:29:15.400 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:29:15.400 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 11:29:15.404 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 11:29:15.409 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61937 - "GET /layouts/users-all HTTP/1.1" 200
2023-12-17 11:29:15.409 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61938 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 11:29:15.419 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 11:29:15.419 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 11:29:15.420 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 11:29:15.422 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61938 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 11:29:15.422 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61923 - "GET /layouts/users-all HTTP/1.1" 200
2023-12-17 11:29:15.422 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61939 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:29:15.428 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:29:15.432 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 11:29:15.434 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61923 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:30:25.448 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62229 - "OPTIONS /user HTTP/1.1" 200
2023-12-17 11:30:25.471 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id
    FROM
        users
    WHERE
        users.email = '005@demo.com';
    
2023-12-17 11:30:25.476 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO users
        (
            last_name,
            first_name,
            email,
            password
        )
    VALUES
        (
            '山田',
            '五郎',
            '005@demo.com',
            '12345678'
        )
    RETURNING id;
    
2023-12-17 11:30:25.484 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62229 - "POST /user HTTP/1.1" 200
2023-12-17 11:30:25.502 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 11:30:25.505 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62229 - "GET /layouts/users-all HTTP/1.1" 200
2023-12-17 11:30:38.617 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62286 - "OPTIONS /org HTTP/1.1" 200
2023-12-17 11:30:38.637 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO orgs (p_id, type, name)
    VALUES (
        '46276f74-eddb-48c2-a00e-10f0032385cf',
        '03',
        '東京支店01'
    )
    RETURNING id;
    
2023-12-17 11:30:38.641 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO roles (type, name)
    VALUES (
        '03',
        '支店管理者'
    )
    RETURNING id;
    
2023-12-17 11:30:38.642 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_org_rels (user_id, org_id, type)
    VALUES (
        '09deb977-ca4a-4c75-8c7e-a84033afcbef',
        'b7a0c9b6-40f2-4c47-8701-0979ec57bb55',
        '03'
    )
    
2023-12-17 11:30:38.649 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_role_rels (user_id, role_id)
    VALUES (
        '09deb977-ca4a-4c75-8c7e-a84033afcbef',
        'ef087270-4cfd-4520-8473-435716dd9444'
    )
    
2023-12-17 11:30:38.657 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO org_role_rels (org_id, role_id)
    VALUES (
        'b7a0c9b6-40f2-4c47-8701-0979ec57bb55',
        'ef087270-4cfd-4520-8473-435716dd9444'
    )
    
2023-12-17 11:30:38.659 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'ef087270-4cfd-4520-8473-435716dd9444',
            '8f63e587-b802-4cfd-8ead-d3423237b054'
        )
        
2023-12-17 11:30:38.663 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'ef087270-4cfd-4520-8473-435716dd9444',
            '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
        )
        
2023-12-17 11:30:38.664 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'ef087270-4cfd-4520-8473-435716dd9444',
            '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
        )
        
2023-12-17 11:30:38.665 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'ef087270-4cfd-4520-8473-435716dd9444',
            '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
        )
        
2023-12-17 11:30:38.667 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'ef087270-4cfd-4520-8473-435716dd9444',
            'dd96b563-2476-4904-a880-a2cffe1ea0ac'
        )
        
2023-12-17 11:30:38.668 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'ef087270-4cfd-4520-8473-435716dd9444',
            '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
        )
        
2023-12-17 11:30:38.673 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'ef087270-4cfd-4520-8473-435716dd9444',
            '2ca11194-6079-41e8-8b26-275aa42848fa'
        )
        
2023-12-17 11:30:38.678 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'ef087270-4cfd-4520-8473-435716dd9444',
            '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
        )
        
2023-12-17 11:30:38.681 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'ef087270-4cfd-4520-8473-435716dd9444',
            '58289de8-b6b7-4629-9016-58e5d30e89ee'
        )
        
2023-12-17 11:30:38.682 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'ef087270-4cfd-4520-8473-435716dd9444',
            '2065f63f-5e95-432e-9545-eed26715dc49'
        )
        
2023-12-17 11:30:38.684 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'ef087270-4cfd-4520-8473-435716dd9444',
            '55762da2-4d17-418e-b09f-e6249645ec18'
        )
        
2023-12-17 11:30:38.690 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'ef087270-4cfd-4520-8473-435716dd9444',
            'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
        )
        
2023-12-17 11:30:38.697 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'ef087270-4cfd-4520-8473-435716dd9444',
            'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
        )
        
2023-12-17 11:30:38.699 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'ef087270-4cfd-4520-8473-435716dd9444',
            'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7'
        )
        
2023-12-17 11:30:38.702 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62286 - "POST /org HTTP/1.1" 200
2023-12-17 11:30:38.764 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62286 - "OPTIONS /org/null HTTP/1.1" 200
2023-12-17 11:30:38.765 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62289 - "OPTIONS /layouts/org/users?org_id=null&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:30:38.765 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62290 - "OPTIONS /org/null HTTP/1.1" 200
2023-12-17 11:30:38.765 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62291 - "OPTIONS /layouts/org/users?org_id=null&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:30:38.774 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'null'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:30:38.775 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = 'null'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:30:38.776 | ERROR    | app.endpoints.orgs:get_org:57 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1053d99d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x105157430>
           └ <SpawnProcess name='SpawnProcess-26' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10514ba60>
    └ <SpawnProcess name='SpawnProcess-26' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1053eaa90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-26' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-26' parent=63449 started>
    │    └ <function subprocess_started at 0x107dfe5e0>
    └ <SpawnProcess name='SpawnProcess-26' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1053eabb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x107df5b80>
           │       │   └ <uvicorn.server.Server object at 0x1053eabb0>
           │       └ <function run at 0x105416820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x107ddcac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x107e495e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11812dcd0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11812dc...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x107f2ad60>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x107e495e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11812dcd0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11812dc...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11812dcd0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11812dc...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107f6edf0>
          └ <fastapi.applications.FastAPI object at 0x107f2ad60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107f341f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11812dc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x107f6ed90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107f6edf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107f341f0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11812dc...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x107437af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107f6ed90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x107f6ed90>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11812dc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107f6ed60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107f6ed90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107f28e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11812dc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107f6ed00>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107f6ed60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107f28e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11812dc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x107f2ae80>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107f6ed00>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107f28e50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11812dc...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10728daf0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107f28e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11812dc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x107f3c1f0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x107fa03a0>
                     └ <function get_request_handler.<locals>.app at 0x107f3c160>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10727c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x107e1a370>, 'org_id': 'null'}
                 │         └ <function get_org at 0x107b3be50>
                 └ <fastapi.dependencies.models.Dependant object at 0x107f3a070>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ 'null'
                │         │         └ <providers.psql_provider.DB object at 0x107e1a370>
                │         └ <function query_org at 0x107b45d30>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 158, in query_org
    org_basic = await db.fetch_one(sql)
                      │  │         └ "\n    SELECT\n        orgs.p_id,\n        orgs.name,\n        orgs.remark,\n        orgs.type,\n        user_org_rels.user_i...
                      │  └ <function DB.fetch_one at 0x10783dca0>
                      └ <providers.psql_provider.DB object at 0x107e1a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 31, in fetch_one
    result = await con.fetchrow(query)
                   │   │        └ "\n    SELECT\n        orgs.p_id,\n        orgs.name,\n        orgs.remark,\n        orgs.type,\n        user_org_rels.user_i...
                   │   └ <function Connection.fetchrow at 0x107597160>
                   └ <PoolConnectionProxy [released] 0x11812d760>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 749, in fetchrow
    data = await self._execute(
                 │    └ <function Connection._execute at 0x1075841f0>
                 └ <asyncpg.connection.Connection object at 0x118127b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x118127b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1075845e0>
                         └ <asyncpg.connection.Connection object at 0x118127b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x107582700>
                 └ <asyncpg.connection.Connection object at 0x118127b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x118127b80>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 11:30:38.785 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62286 - "GET /org/null HTTP/1.1" 500
2023-12-17 11:30:38.786 | ERROR    | app.endpoints.layouts:get_orgs:77 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1053d99d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x105157430>
           └ <SpawnProcess name='SpawnProcess-26' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10514ba60>
    └ <SpawnProcess name='SpawnProcess-26' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1053eaa90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-26' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-26' parent=63449 started>
    │    └ <function subprocess_started at 0x107dfe5e0>
    └ <SpawnProcess name='SpawnProcess-26' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1053eabb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x107df5b80>
           │       │   └ <uvicorn.server.Server object at 0x1053eabb0>
           │       └ <function run at 0x105416820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x107ddcac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x107e495e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x118139130>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1181391...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x107f2ad60>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x107e495e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x118139130>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1181391...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x118139130>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1181391...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107f6edf0>
          └ <fastapi.applications.FastAPI object at 0x107f2ad60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107f28a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1181391...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x107f6ed90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107f6edf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107f28a60>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1181391...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x107437af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107f6ed90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x107f6ed90>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1181391...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107f6ed60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107f6ed90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107f4c280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1181391...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107f6ed00>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107f6ed60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107f4c280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1181391...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x107f2ae80>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107f6ed00>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107f4c280>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1181391...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10728daf0>
          └ APIRoute(path='/layouts/org/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107f4c280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1181391...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x107f5a9d0>
          └ APIRoute(path='/layouts/org/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x118123d00>
                     └ <function get_request_handler.<locals>.app at 0x107f5a3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10727c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x107e1a370>, 'org_id': 'null', 'role_id': 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c'}
                 │         └ <function get_orgs at 0x107b50e50>
                 └ <fastapi.dependencies.models.Dependant object at 0x107f66d30>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 70, in get_orgs
    users = await layouts_crud.query_layouts_org_users(db, org_id, role_id)
                  │            │                       │   │       └ 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c'
                  │            │                       │   └ 'null'
                  │            │                       └ <providers.psql_provider.DB object at 0x107e1a370>
                  │            └ <function query_layouts_org_users at 0x107b7c160>
                  └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 123, in query_layouts_org_users
    org_users = await db.fetch_all(sql)
                      │  │         └ "\n    SELECT\n        users.id,\n        users.last_name,\n        users.first_name,\n        users.email,\n        user_org...
                      │  └ <function DB.fetch_all at 0x10783dc10>
                      └ <providers.psql_provider.DB object at 0x107e1a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        users.id,\n        users.last_name,\n        users.first_name,\n        users.email,\n        user_org...
                   │   └ <function Connection.fetch at 0x1075970d0>
                   └ <PoolConnectionProxy [released] 0x118139a00>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x1075841f0>
                 └ <asyncpg.connection.Connection object at 0x118127c70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x118127c70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1075845e0>
                         └ <asyncpg.connection.Connection object at 0x118127c70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x107582700>
                 └ <asyncpg.connection.Connection object at 0x118127c70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x118127c70>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 11:30:38.793 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62290 - "GET /layouts/org/users?org_id=null&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 500
2023-12-17 11:30:38.798 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'null'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:30:38.798 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = 'null'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:30:38.799 | ERROR    | app.endpoints.orgs:get_org:57 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1053d99d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x105157430>
           └ <SpawnProcess name='SpawnProcess-26' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10514ba60>
    └ <SpawnProcess name='SpawnProcess-26' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1053eaa90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-26' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-26' parent=63449 started>
    │    └ <function subprocess_started at 0x107dfe5e0>
    └ <SpawnProcess name='SpawnProcess-26' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1053eabb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x107df5b80>
           │       │   └ <uvicorn.server.Server object at 0x1053eabb0>
           │       └ <function run at 0x105416820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x107ddcac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x107e495e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x118139610>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1181396...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x107f2ad60>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x107e495e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x118139610>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1181396...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x118139610>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1181396...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107f6edf0>
          └ <fastapi.applications.FastAPI object at 0x107f2ad60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107f28310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1181396...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x107f6ed90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107f6edf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107f28310>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1181396...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x107437af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107f6ed90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x107f6ed90>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1181396...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107f6ed60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107f6ed90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107f4c9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1181396...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107f6ed00>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107f6ed60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107f4c9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1181396...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x107f2ae80>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107f6ed00>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107f4c9d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1181396...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10728daf0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107f4c9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1181396...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x107f3c1f0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x107f6e550>
                     └ <function get_request_handler.<locals>.app at 0x107f3c160>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10727c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x107e1a370>, 'org_id': 'null'}
                 │         └ <function get_org at 0x107b3be50>
                 └ <fastapi.dependencies.models.Dependant object at 0x107f3a070>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ 'null'
                │         │         └ <providers.psql_provider.DB object at 0x107e1a370>
                │         └ <function query_org at 0x107b45d30>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 158, in query_org
    org_basic = await db.fetch_one(sql)
                      │  │         └ "\n    SELECT\n        orgs.p_id,\n        orgs.name,\n        orgs.remark,\n        orgs.type,\n        user_org_rels.user_i...
                      │  └ <function DB.fetch_one at 0x10783dca0>
                      └ <providers.psql_provider.DB object at 0x107e1a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 31, in fetch_one
    result = await con.fetchrow(query)
                   │   │        └ "\n    SELECT\n        orgs.p_id,\n        orgs.name,\n        orgs.remark,\n        orgs.type,\n        user_org_rels.user_i...
                   │   └ <function Connection.fetchrow at 0x107597160>
                   └ <PoolConnectionProxy [released] 0x118139e20>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 749, in fetchrow
    data = await self._execute(
                 │    └ <function Connection._execute at 0x1075841f0>
                 └ <asyncpg.connection.Connection object at 0x118777220>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x118777220>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1075845e0>
                         └ <asyncpg.connection.Connection object at 0x118777220>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x107582700>
                 └ <asyncpg.connection.Connection object at 0x118777220>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x118777220>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 11:30:38.805 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62291 - "GET /org/null HTTP/1.1" 500
2023-12-17 11:30:38.805 | ERROR    | app.endpoints.layouts:get_orgs:77 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1053d99d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x105157430>
           └ <SpawnProcess name='SpawnProcess-26' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10514ba60>
    └ <SpawnProcess name='SpawnProcess-26' parent=63449 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1053eaa90>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-26' parent=63449 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-26' parent=63449 started>
    │    └ <function subprocess_started at 0x107dfe5e0>
    └ <SpawnProcess name='SpawnProcess-26' parent=63449 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1053eabb0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x107df5b80>
           │       │   └ <uvicorn.server.Server object at 0x1053eabb0>
           │       └ <function run at 0x105416820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x107ddcac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x107e495e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x118123bb0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x118123b...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x107f2ad60>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x107e495e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x118123bb0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x118123b...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x118123bb0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x118123b...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107f6edf0>
          └ <fastapi.applications.FastAPI object at 0x107f2ad60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107f341f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x118123b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x107f6ed90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107f6edf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107f341f0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x118123b...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x107437af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107f6ed90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x107f6ed90>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x118123b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107f6ed60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107f6ed90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107f4c280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x118123b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107f6ed00>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107f6ed60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107f4c280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x118123b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x107f2ae80>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107f6ed00>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107f4c280>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x118123b...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10728daf0>
          └ APIRoute(path='/layouts/org/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107f4c280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x118123b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x107f5a9d0>
          └ APIRoute(path='/layouts/org/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x11812d3d0>
                     └ <function get_request_handler.<locals>.app at 0x107f5a3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10727c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x107e1a370>, 'org_id': 'null', 'role_id': 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c'}
                 │         └ <function get_orgs at 0x107b50e50>
                 └ <fastapi.dependencies.models.Dependant object at 0x107f66d30>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 70, in get_orgs
    users = await layouts_crud.query_layouts_org_users(db, org_id, role_id)
                  │            │                       │   │       └ 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c'
                  │            │                       │   └ 'null'
                  │            │                       └ <providers.psql_provider.DB object at 0x107e1a370>
                  │            └ <function query_layouts_org_users at 0x107b7c160>
                  └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 123, in query_layouts_org_users
    org_users = await db.fetch_all(sql)
                      │  │         └ "\n    SELECT\n        users.id,\n        users.last_name,\n        users.first_name,\n        users.email,\n        user_org...
                      │  └ <function DB.fetch_all at 0x10783dc10>
                      └ <providers.psql_provider.DB object at 0x107e1a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        users.id,\n        users.last_name,\n        users.first_name,\n        users.email,\n        user_org...
                   │   └ <function Connection.fetch at 0x1075970d0>
                   └ <PoolConnectionProxy [released] 0x107f57190>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x1075841f0>
                 └ <asyncpg.connection.Connection object at 0x118777310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x118777310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1075845e0>
                         └ <asyncpg.connection.Connection object at 0x118777310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x107582700>
                 └ <asyncpg.connection.Connection object at 0x118777310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x118777310>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-17 11:30:38.812 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62286 - "GET /layouts/org/users?org_id=null&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 500
2023-12-17 11:31:59.094 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 11:31:59.095 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 11:31:59.097 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:31:59.103 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62627 - "GET /layouts/users-all HTTP/1.1" 200
2023-12-17 11:31:59.104 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62628 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 11:31:59.104 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 11:31:59.110 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62626 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:31:59.127 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 11:31:59.127 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 11:31:59.131 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:31:59.131 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62632 - "GET /layouts/users-all HTTP/1.1" 200
2023-12-17 11:31:59.133 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62627 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 11:31:59.135 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 11:31:59.138 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62628 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:32:01.200 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:32:01.204 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-17 11:32:01.210 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62628 - "GET /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:32:01.217 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:32:01.221 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-17 11:32:01.224 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62627 - "GET /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:32:03.279 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62627 - "OPTIONS /org/b7a0c9b6-40f2-4c47-8701-0979ec57bb55 HTTP/1.1" 200
2023-12-17 11:32:03.280 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62628 - "OPTIONS /layouts/org/users?org_id=b7a0c9b6-40f2-4c47-8701-0979ec57bb55&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:32:03.281 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62632 - "OPTIONS /org/b7a0c9b6-40f2-4c47-8701-0979ec57bb55 HTTP/1.1" 200
2023-12-17 11:32:03.281 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62626 - "OPTIONS /layouts/org/users?org_id=b7a0c9b6-40f2-4c47-8701-0979ec57bb55&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:32:03.293 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:32:03.297 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:32:03.302 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55';
    
2023-12-17 11:32:03.306 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55';
    
2023-12-17 11:32:03.307 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62627 - "GET /org/b7a0c9b6-40f2-4c47-8701-0979ec57bb55 HTTP/1.1" 200
2023-12-17 11:32:03.315 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:32:03.316 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:32:03.319 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55';
    
2023-12-17 11:32:03.326 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62626 - "GET /org/b7a0c9b6-40f2-4c47-8701-0979ec57bb55 HTTP/1.1" 200
2023-12-17 11:32:03.332 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 11:32:03.336 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62628 - "GET /layouts/org/users?org_id=b7a0c9b6-40f2-4c47-8701-0979ec57bb55&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:32:03.345 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:32:03.347 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55';
    
2023-12-17 11:32:03.349 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:32:03.351 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 11:32:03.356 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62626 - "GET /layouts/org/users?org_id=b7a0c9b6-40f2-4c47-8701-0979ec57bb55&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:32:05.870 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 11:32:05.875 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62626 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 11:32:05.887 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 11:32:05.889 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62628 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 11:32:31.047 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62777 - "OPTIONS /org/users/b7a0c9b6-40f2-4c47-8701-0979ec57bb55 HTTP/1.1" 200
2023-12-17 11:32:31.065 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:32:31.076 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55';
    
2023-12-17 11:32:31.086 | INFO     | providers.psql_provider:fetch_one:30 - 
        INSERT INTO roles (type, name)
        VALUES (
            '25',
            '支店権限者'
        )
        RETURNING id;
        
2023-12-17 11:32:31.090 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_org_rels (user_id, org_id, type)
        VALUES (
            'dd655737-7bf8-458b-9a9a-d23a7871bb3e',
            'b7a0c9b6-40f2-4c47-8701-0979ec57bb55',
            '25'
        )
        
2023-12-17 11:32:31.097 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_role_rels (user_id, role_id)
        VALUES (
            'dd655737-7bf8-458b-9a9a-d23a7871bb3e',
            'f581a13a-9b09-4cc8-9118-cd0151379170'
        )
        
2023-12-17 11:32:31.102 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO org_role_rels (org_id, role_id)
        VALUES (
            'b7a0c9b6-40f2-4c47-8701-0979ec57bb55',
            'f581a13a-9b09-4cc8-9118-cd0151379170'
        )
        
2023-12-17 11:32:31.104 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'f581a13a-9b09-4cc8-9118-cd0151379170',
                '8f63e587-b802-4cfd-8ead-d3423237b054'
            )
            
2023-12-17 11:32:31.107 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'f581a13a-9b09-4cc8-9118-cd0151379170',
                '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
            )
            
2023-12-17 11:32:31.110 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'f581a13a-9b09-4cc8-9118-cd0151379170',
                '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
            )
            
2023-12-17 11:32:31.114 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'f581a13a-9b09-4cc8-9118-cd0151379170',
                '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
            )
            
2023-12-17 11:32:31.117 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'f581a13a-9b09-4cc8-9118-cd0151379170',
                'dd96b563-2476-4904-a880-a2cffe1ea0ac'
            )
            
2023-12-17 11:32:31.124 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'f581a13a-9b09-4cc8-9118-cd0151379170',
                '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
            )
            
2023-12-17 11:32:31.125 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'f581a13a-9b09-4cc8-9118-cd0151379170',
                '2ca11194-6079-41e8-8b26-275aa42848fa'
            )
            
2023-12-17 11:32:31.128 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'f581a13a-9b09-4cc8-9118-cd0151379170',
                '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
            )
            
2023-12-17 11:32:31.129 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'f581a13a-9b09-4cc8-9118-cd0151379170',
                '58289de8-b6b7-4629-9016-58e5d30e89ee'
            )
            
2023-12-17 11:32:31.131 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'f581a13a-9b09-4cc8-9118-cd0151379170',
                '2065f63f-5e95-432e-9545-eed26715dc49'
            )
            
2023-12-17 11:32:31.134 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'f581a13a-9b09-4cc8-9118-cd0151379170',
                '55762da2-4d17-418e-b09f-e6249645ec18'
            )
            
2023-12-17 11:32:31.136 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'f581a13a-9b09-4cc8-9118-cd0151379170',
                'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
            )
            
2023-12-17 11:32:31.141 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'f581a13a-9b09-4cc8-9118-cd0151379170',
                'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
            )
            
2023-12-17 11:32:31.147 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'f581a13a-9b09-4cc8-9118-cd0151379170',
                'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7'
            )
            
2023-12-17 11:32:31.149 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62777 - "POST /org/users/b7a0c9b6-40f2-4c47-8701-0979ec57bb55 HTTP/1.1" 200
2023-12-17 11:32:31.177 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:32:31.189 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55';
    
2023-12-17 11:32:31.191 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:32:31.195 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 11:32:31.204 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62777 - "GET /layouts/org/users?org_id=b7a0c9b6-40f2-4c47-8701-0979ec57bb55&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:32:31.228 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62777 - "OPTIONS /user/permissions?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&org_id=b7a0c9b6-40f2-4c47-8701-0979ec57bb55 HTTP/1.1" 200
2023-12-17 11:32:31.234 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62781 - "OPTIONS /user/permissions?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&org_id=b7a0c9b6-40f2-4c47-8701-0979ec57bb55 HTTP/1.1" 200
2023-12-17 11:32:31.247 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55'
        AND
        user_role_rels.user_id = 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
    
2023-12-17 11:32:31.251 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 11:32:31.254 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62780 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 11:32:31.269 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 11:32:31.270 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'f581a13a-9b09-4cc8-9118-cd0151379170';

    
2023-12-17 11:32:31.272 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62781 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 11:32:31.273 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62777 - "GET /user/permissions?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&org_id=b7a0c9b6-40f2-4c47-8701-0979ec57bb55 HTTP/1.1" 200
2023-12-17 11:32:31.281 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55'
        AND
        user_role_rels.user_id = 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
    
2023-12-17 11:32:31.286 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'f581a13a-9b09-4cc8-9118-cd0151379170';

    
2023-12-17 11:32:31.289 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62781 - "GET /user/permissions?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&org_id=b7a0c9b6-40f2-4c47-8701-0979ec57bb55 HTTP/1.1" 200
2023-12-17 11:33:06.495 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 11:33:06.499 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62927 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 11:33:06.510 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 11:33:06.515 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62927 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 11:33:23.655 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:33:23.660 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55';
    
2023-12-17 11:33:23.667 | INFO     | providers.psql_provider:fetch_one:30 - 
        INSERT INTO roles (type, name)
        VALUES (
            '26',
            '営業担当者'
        )
        RETURNING id;
        
2023-12-17 11:33:23.670 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_org_rels (user_id, org_id, type)
        VALUES (
            '86fa87ef-0514-40f6-a4f9-a1e3a285f8ff',
            'b7a0c9b6-40f2-4c47-8701-0979ec57bb55',
            '26'
        )
        
2023-12-17 11:33:23.673 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_role_rels (user_id, role_id)
        VALUES (
            '86fa87ef-0514-40f6-a4f9-a1e3a285f8ff',
            '04c784c8-1393-4565-81d5-420cd1a9df17'
        )
        
2023-12-17 11:33:23.675 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO org_role_rels (org_id, role_id)
        VALUES (
            'b7a0c9b6-40f2-4c47-8701-0979ec57bb55',
            '04c784c8-1393-4565-81d5-420cd1a9df17'
        )
        
2023-12-17 11:33:23.676 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '04c784c8-1393-4565-81d5-420cd1a9df17',
                '8f63e587-b802-4cfd-8ead-d3423237b054'
            )
            
2023-12-17 11:33:23.678 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '04c784c8-1393-4565-81d5-420cd1a9df17',
                '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
            )
            
2023-12-17 11:33:23.681 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '04c784c8-1393-4565-81d5-420cd1a9df17',
                '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
            )
            
2023-12-17 11:33:23.683 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '04c784c8-1393-4565-81d5-420cd1a9df17',
                '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
            )
            
2023-12-17 11:33:23.686 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '04c784c8-1393-4565-81d5-420cd1a9df17',
                'dd96b563-2476-4904-a880-a2cffe1ea0ac'
            )
            
2023-12-17 11:33:23.687 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '04c784c8-1393-4565-81d5-420cd1a9df17',
                '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
            )
            
2023-12-17 11:33:23.690 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '04c784c8-1393-4565-81d5-420cd1a9df17',
                '2ca11194-6079-41e8-8b26-275aa42848fa'
            )
            
2023-12-17 11:33:23.691 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '04c784c8-1393-4565-81d5-420cd1a9df17',
                '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
            )
            
2023-12-17 11:33:23.693 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '04c784c8-1393-4565-81d5-420cd1a9df17',
                '58289de8-b6b7-4629-9016-58e5d30e89ee'
            )
            
2023-12-17 11:33:23.696 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '04c784c8-1393-4565-81d5-420cd1a9df17',
                '2065f63f-5e95-432e-9545-eed26715dc49'
            )
            
2023-12-17 11:33:23.698 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '04c784c8-1393-4565-81d5-420cd1a9df17',
                '55762da2-4d17-418e-b09f-e6249645ec18'
            )
            
2023-12-17 11:33:23.701 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '04c784c8-1393-4565-81d5-420cd1a9df17',
                'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
            )
            
2023-12-17 11:33:23.702 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '04c784c8-1393-4565-81d5-420cd1a9df17',
                'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
            )
            
2023-12-17 11:33:23.706 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '04c784c8-1393-4565-81d5-420cd1a9df17',
                'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7'
            )
            
2023-12-17 11:33:23.710 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62929 - "POST /org/users/b7a0c9b6-40f2-4c47-8701-0979ec57bb55 HTTP/1.1" 200
2023-12-17 11:33:23.725 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:33:23.737 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55';
    
2023-12-17 11:33:23.741 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:33:23.743 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 11:33:23.768 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62929 - "GET /layouts/org/users?org_id=b7a0c9b6-40f2-4c47-8701-0979ec57bb55&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:33:23.791 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62929 - "OPTIONS /user/permissions?user_id=86fa87ef-0514-40f6-a4f9-a1e3a285f8ff&org_id=b7a0c9b6-40f2-4c47-8701-0979ec57bb55 HTTP/1.1" 200
2023-12-17 11:33:23.793 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63006 - "OPTIONS /user/permissions?user_id=86fa87ef-0514-40f6-a4f9-a1e3a285f8ff&org_id=b7a0c9b6-40f2-4c47-8701-0979ec57bb55 HTTP/1.1" 200
2023-12-17 11:33:23.799 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55'
        AND
        user_role_rels.user_id = '86fa87ef-0514-40f6-a4f9-a1e3a285f8ff';
    
2023-12-17 11:33:23.800 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 11:33:23.802 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63005 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 11:33:23.809 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 11:33:23.809 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '04c784c8-1393-4565-81d5-420cd1a9df17';

    
2023-12-17 11:33:23.812 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63006 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 11:33:23.814 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62929 - "GET /user/permissions?user_id=86fa87ef-0514-40f6-a4f9-a1e3a285f8ff&org_id=b7a0c9b6-40f2-4c47-8701-0979ec57bb55 HTTP/1.1" 200
2023-12-17 11:33:23.819 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55'
        AND
        user_role_rels.user_id = '86fa87ef-0514-40f6-a4f9-a1e3a285f8ff';
    
2023-12-17 11:33:23.824 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '04c784c8-1393-4565-81d5-420cd1a9df17';

    
2023-12-17 11:33:23.825 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63006 - "GET /user/permissions?user_id=86fa87ef-0514-40f6-a4f9-a1e3a285f8ff&org_id=b7a0c9b6-40f2-4c47-8701-0979ec57bb55 HTTP/1.1" 200
2023-12-17 11:33:26.676 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            id
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            org_role_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55'
            AND
            user_role_rels.user_id = '86fa87ef-0514-40f6-a4f9-a1e3a285f8ff';
        
2023-12-17 11:33:26.684 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55'
        AND
        user_role_rels.user_id = '86fa87ef-0514-40f6-a4f9-a1e3a285f8ff';
    
2023-12-17 11:33:26.688 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '04c784c8-1393-4565-81d5-420cd1a9df17';

    
2023-12-17 11:33:26.695 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_org_rels
        WHERE
            user_org_rels.user_id = '86fa87ef-0514-40f6-a4f9-a1e3a285f8ff'
            AND
            user_org_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55';
        
2023-12-17 11:33:26.697 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_role_rels
        WHERE
            user_role_rels.user_id = '86fa87ef-0514-40f6-a4f9-a1e3a285f8ff'
            AND
            user_role_rels.role_id = '04c784c8-1393-4565-81d5-420cd1a9df17';
        
2023-12-17 11:33:26.698 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM org_role_rels
        WHERE
            org_role_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55'
            AND
            org_role_rels.role_id = '04c784c8-1393-4565-81d5-420cd1a9df17';
        
2023-12-17 11:33:26.700 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '04c784c8-1393-4565-81d5-420cd1a9df17'
                AND
                permission_id = '8f63e587-b802-4cfd-8ead-d3423237b054';
            
2023-12-17 11:33:26.703 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '04c784c8-1393-4565-81d5-420cd1a9df17'
                AND
                permission_id = '0b25e905-64ae-42d2-98ed-2c8ebd845d66';
            
2023-12-17 11:33:26.704 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '04c784c8-1393-4565-81d5-420cd1a9df17'
                AND
                permission_id = '53dc2e89-791d-4b66-aa73-f51ea9cd4e26';
            
2023-12-17 11:33:26.706 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '04c784c8-1393-4565-81d5-420cd1a9df17'
                AND
                permission_id = '7f956b2a-65ce-463e-9ddb-6627f9b42ecf';
            
2023-12-17 11:33:26.709 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '04c784c8-1393-4565-81d5-420cd1a9df17'
                AND
                permission_id = 'dd96b563-2476-4904-a880-a2cffe1ea0ac';
            
2023-12-17 11:33:26.711 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '04c784c8-1393-4565-81d5-420cd1a9df17'
                AND
                permission_id = '55ba3199-c673-49d8-8001-9b5f3b2b33dc';
            
2023-12-17 11:33:26.717 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '04c784c8-1393-4565-81d5-420cd1a9df17'
                AND
                permission_id = '2ca11194-6079-41e8-8b26-275aa42848fa';
            
2023-12-17 11:33:26.719 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '04c784c8-1393-4565-81d5-420cd1a9df17'
                AND
                permission_id = '0a3f364b-21e6-4c0d-bf6e-67729bf899a2';
            
2023-12-17 11:33:26.720 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '04c784c8-1393-4565-81d5-420cd1a9df17'
                AND
                permission_id = '58289de8-b6b7-4629-9016-58e5d30e89ee';
            
2023-12-17 11:33:26.720 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '04c784c8-1393-4565-81d5-420cd1a9df17'
                AND
                permission_id = '2065f63f-5e95-432e-9545-eed26715dc49';
            
2023-12-17 11:33:26.721 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '04c784c8-1393-4565-81d5-420cd1a9df17'
                AND
                permission_id = '55762da2-4d17-418e-b09f-e6249645ec18';
            
2023-12-17 11:33:26.722 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '04c784c8-1393-4565-81d5-420cd1a9df17'
                AND
                permission_id = 'ee3ed4ae-43d9-4d37-92f9-a4950788d8be';
            
2023-12-17 11:33:26.726 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '04c784c8-1393-4565-81d5-420cd1a9df17'
                AND
                permission_id = 'bce2b4a4-0cad-4baa-96dd-671f2d942c7e';
            
2023-12-17 11:33:26.727 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '04c784c8-1393-4565-81d5-420cd1a9df17'
                AND
                permission_id = 'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7';
            
2023-12-17 11:33:26.728 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM roles WHERE id = '04c784c8-1393-4565-81d5-420cd1a9df17';
        
2023-12-17 11:33:26.730 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63006 - "PUT /org/users/b7a0c9b6-40f2-4c47-8701-0979ec57bb55 HTTP/1.1" 200
2023-12-17 11:33:26.745 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:33:26.750 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55';
    
2023-12-17 11:33:26.752 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:33:26.757 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 11:33:26.759 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63006 - "GET /layouts/org/users?org_id=b7a0c9b6-40f2-4c47-8701-0979ec57bb55&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:33:37.206 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 11:33:37.212 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63068 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 11:33:37.226 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 11:33:37.233 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63070 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 11:33:58.190 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63157 - "OPTIONS /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:33:58.190 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63158 - "OPTIONS /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:33:58.197 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:33:58.199 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-17 11:33:58.201 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63158 - "GET /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:33:58.206 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:33:58.209 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-17 11:33:58.211 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63157 - "GET /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:34:22.693 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:34:22.698 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 11:34:22.701 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 11:34:22.703 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63258 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:34:22.712 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 11:34:22.716 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63260 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 11:34:22.717 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63259 - "GET /layouts/users-all HTTP/1.1" 200
2023-12-17 11:34:22.730 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:34:22.733 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 11:34:22.733 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-17 11:34:22.733 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 11:34:22.735 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63264 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:34:22.739 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63258 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-17 11:34:22.740 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63260 - "GET /layouts/users-all HTTP/1.1" 200
2023-12-17 11:34:52.743 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO orgs (p_id, type, name)
    VALUES (
        '46276f74-eddb-48c2-a00e-10f0032385cf',
        '03',
        '支店02'
    )
    RETURNING id;
    
2023-12-17 11:34:52.749 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO roles (type, name)
    VALUES (
        '03',
        '支店管理者'
    )
    RETURNING id;
    
2023-12-17 11:34:52.755 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_org_rels (user_id, org_id, type)
    VALUES (
        '728ba012-0b38-4c40-b115-fd892dc09a8c',
        '2f2cef51-0ba0-41e4-bf58-f34f22415008',
        '03'
    )
    
2023-12-17 11:34:52.760 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_role_rels (user_id, role_id)
    VALUES (
        '728ba012-0b38-4c40-b115-fd892dc09a8c',
        'f63e526c-6dc8-4b3a-9408-bdddd46d269a'
    )
    
2023-12-17 11:34:52.765 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO org_role_rels (org_id, role_id)
    VALUES (
        '2f2cef51-0ba0-41e4-bf58-f34f22415008',
        'f63e526c-6dc8-4b3a-9408-bdddd46d269a'
    )
    
2023-12-17 11:34:52.768 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'f63e526c-6dc8-4b3a-9408-bdddd46d269a',
            '8f63e587-b802-4cfd-8ead-d3423237b054'
        )
        
2023-12-17 11:34:52.770 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'f63e526c-6dc8-4b3a-9408-bdddd46d269a',
            '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
        )
        
2023-12-17 11:34:52.772 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'f63e526c-6dc8-4b3a-9408-bdddd46d269a',
            '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
        )
        
2023-12-17 11:34:52.773 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'f63e526c-6dc8-4b3a-9408-bdddd46d269a',
            '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
        )
        
2023-12-17 11:34:52.776 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'f63e526c-6dc8-4b3a-9408-bdddd46d269a',
            'dd96b563-2476-4904-a880-a2cffe1ea0ac'
        )
        
2023-12-17 11:34:52.777 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'f63e526c-6dc8-4b3a-9408-bdddd46d269a',
            '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
        )
        
2023-12-17 11:34:52.778 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'f63e526c-6dc8-4b3a-9408-bdddd46d269a',
            '2ca11194-6079-41e8-8b26-275aa42848fa'
        )
        
2023-12-17 11:34:52.779 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'f63e526c-6dc8-4b3a-9408-bdddd46d269a',
            '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
        )
        
2023-12-17 11:34:52.781 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'f63e526c-6dc8-4b3a-9408-bdddd46d269a',
            '58289de8-b6b7-4629-9016-58e5d30e89ee'
        )
        
2023-12-17 11:34:52.783 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'f63e526c-6dc8-4b3a-9408-bdddd46d269a',
            '2065f63f-5e95-432e-9545-eed26715dc49'
        )
        
2023-12-17 11:34:52.785 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'f63e526c-6dc8-4b3a-9408-bdddd46d269a',
            '55762da2-4d17-418e-b09f-e6249645ec18'
        )
        
2023-12-17 11:34:52.787 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63391 - "POST /org HTTP/1.1" 200
2023-12-17 11:34:52.856 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63391 - "OPTIONS /org/2f2cef51-0ba0-41e4-bf58-f34f22415008 HTTP/1.1" 200
2023-12-17 11:34:52.858 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63394 - "OPTIONS /layouts/org/users?org_id=2f2cef51-0ba0-41e4-bf58-f34f22415008&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:34:52.861 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63395 - "OPTIONS /org/2f2cef51-0ba0-41e4-bf58-f34f22415008 HTTP/1.1" 200
2023-12-17 11:34:52.863 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63396 - "OPTIONS /layouts/org/users?org_id=2f2cef51-0ba0-41e4-bf58-f34f22415008&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:34:52.870 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '2f2cef51-0ba0-41e4-bf58-f34f22415008'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:34:52.870 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '2f2cef51-0ba0-41e4-bf58-f34f22415008'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:34:52.872 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '2f2cef51-0ba0-41e4-bf58-f34f22415008';
    
2023-12-17 11:34:52.880 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63391 - "GET /org/2f2cef51-0ba0-41e4-bf58-f34f22415008 HTTP/1.1" 200
2023-12-17 11:34:52.884 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '2f2cef51-0ba0-41e4-bf58-f34f22415008';
    
2023-12-17 11:34:52.890 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '2f2cef51-0ba0-41e4-bf58-f34f22415008'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 11:34:52.895 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '2f2cef51-0ba0-41e4-bf58-f34f22415008';
    
2023-12-17 11:34:52.897 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:34:52.902 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63396 - "GET /org/2f2cef51-0ba0-41e4-bf58-f34f22415008 HTTP/1.1" 200
2023-12-17 11:34:52.903 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 11:34:52.904 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63394 - "GET /layouts/org/users?org_id=2f2cef51-0ba0-41e4-bf58-f34f22415008&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:34:52.910 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '2f2cef51-0ba0-41e4-bf58-f34f22415008'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:34:52.912 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '2f2cef51-0ba0-41e4-bf58-f34f22415008';
    
2023-12-17 11:34:52.912 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:34:52.915 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 11:34:52.918 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63396 - "GET /layouts/org/users?org_id=2f2cef51-0ba0-41e4-bf58-f34f22415008&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:34:57.144 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63396 - "OPTIONS /users?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&is_super=false HTTP/1.1" 200
2023-12-17 11:34:57.145 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63394 - "OPTIONS /users?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&is_super=false HTTP/1.1" 200
2023-12-17 11:34:57.152 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
        
2023-12-17 11:34:57.155 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
        
2023-12-17 11:34:57.158 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '09deb977-ca4a-4c75-8c7e-a84033afcbef';
        
2023-12-17 11:34:57.162 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '728ba012-0b38-4c40-b115-fd892dc09a8c';
        
2023-12-17 11:34:57.163 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '86fa87ef-0514-40f6-a4f9-a1e3a285f8ff';
        
2023-12-17 11:34:57.164 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63396 - "GET /users?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&is_super=false HTTP/1.1" 200
2023-12-17 11:34:57.174 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
        
2023-12-17 11:34:57.177 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
        
2023-12-17 11:34:57.180 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '09deb977-ca4a-4c75-8c7e-a84033afcbef';
        
2023-12-17 11:34:57.182 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '728ba012-0b38-4c40-b115-fd892dc09a8c';
        
2023-12-17 11:34:57.184 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '86fa87ef-0514-40f6-a4f9-a1e3a285f8ff';
        
2023-12-17 11:34:57.186 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63394 - "GET /users?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&is_super=false HTTP/1.1" 200
2023-12-17 11:35:24.747 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63535 - "OPTIONS /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:35:24.747 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63536 - "OPTIONS /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:35:24.757 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:35:24.759 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 11:35:24.763 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63536 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:35:24.768 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:35:24.770 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 11:35:24.775 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63535 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:35:28.185 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63535 - "OPTIONS /banks HTTP/1.1" 200
2023-12-17 11:35:28.192 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63556 - "OPTIONS /banks HTTP/1.1" 200
2023-12-17 11:35:28.204 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:35:28.213 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 11:35:28.215 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 11:35:28.218 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63536 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:35:28.224 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63535 - "GET /banks HTTP/1.1" 200
2023-12-17 11:35:28.233 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:35:28.236 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 11:35:28.242 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63536 - "GET /banks HTTP/1.1" 200
2023-12-17 11:35:28.251 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 11:35:28.254 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63556 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:35:29.740 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:35:29.743 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 11:35:29.750 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63556 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:35:29.761 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:35:29.766 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 11:35:29.772 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63536 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:53:39.416 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:53:39.422 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 11:53:39.427 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64702 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:53:39.442 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:53:39.447 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 11:53:39.454 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64704 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:54:52.169 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:54:52.173 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 11:54:52.179 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65006 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:54:52.191 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:54:52.194 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 11:54:52.197 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65006 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:56:12.260 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65344 - "OPTIONS /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:56:12.260 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65345 - "OPTIONS /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:56:12.276 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 11:56:12.276 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:56:12.279 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65343 - "GET /banks HTTP/1.1" 200
2023-12-17 11:56:12.291 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 11:56:12.296 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65344 - "GET /banks HTTP/1.1" 200
2023-12-17 11:56:12.297 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 11:56:12.303 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65345 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:56:12.319 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:56:12.324 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 11:56:12.327 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65344 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:56:52.504 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65513 - "OPTIONS /layouts/org/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&org_id=b7a0c9b6-40f2-4c47-8701-0979ec57bb55 HTTP/1.1" 200
2023-12-17 11:56:52.514 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 11:56:52.519 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55';
    
2023-12-17 11:56:52.522 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:56:52.525 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 11:56:52.528 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65513 - "GET /layouts/org/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&org_id=b7a0c9b6-40f2-4c47-8701-0979ec57bb55 HTTP/1.1" 200
2023-12-17 11:58:02.933 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 11:58:02.934 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:58:02.939 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49422 - "GET /banks HTTP/1.1" 200
2023-12-17 11:58:02.940 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 11:58:02.948 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49423 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:58:02.955 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 11:58:02.958 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49426 - "GET /banks HTTP/1.1" 200
2023-12-17 11:58:02.965 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:58:02.970 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 11:58:02.974 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49422 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:58:07.122 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49422 - "OPTIONS /token?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:58:07.134 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE users SET curr_role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c' WHERE users.id = 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
    
2023-12-17 11:58:07.142 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
    
2023-12-17 11:58:07.150 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
    
2023-12-17 11:58:07.154 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'dd655737-7bf8-458b-9a9a-d23a7871bb3e'
        AND
        roles.id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:58:07.163 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:58:07.167 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49422 - "PUT /token?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:58:07.949 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:58:07.951 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 11:58:07.954 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49422 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:58:07.965 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:58:07.967 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 11:58:07.970 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49426 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:58:25.861 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:58:25.870 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 11:58:25.876 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49545 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:58:25.885 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:58:25.888 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 11:58:25.893 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49547 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:58:52.322 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 11:58:52.324 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49660 - "GET /banks HTTP/1.1" 200
2023-12-17 11:58:52.325 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:58:52.332 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 11:58:52.333 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49664 - "GET /banks HTTP/1.1" 200
2023-12-17 11:58:52.334 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 11:58:52.338 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49661 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:58:52.344 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:58:52.346 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 11:58:52.347 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49661 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:58:55.045 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 11:58:55.046 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:58:55.050 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49661 - "GET /banks HTTP/1.1" 200
2023-12-17 11:58:55.060 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 11:58:55.060 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 11:58:55.063 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49660 - "GET /banks HTTP/1.1" 200
2023-12-17 11:58:55.064 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49664 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 11:58:55.069 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 11:58:55.074 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 11:58:55.075 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49660 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:00:11.286 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50000 - "OPTIONS /banks HTTP/1.1" 200
2023-12-17 12:00:11.291 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50002 - "OPTIONS /banks HTTP/1.1" 200
2023-12-17 12:00:11.299 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 12:00:11.300 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:00:11.302 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50000 - "GET /banks HTTP/1.1" 200
2023-12-17 12:00:11.311 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 12:00:11.311 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 12:00:11.317 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50002 - "GET /banks HTTP/1.1" 200
2023-12-17 12:00:11.318 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50001 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:00:11.325 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:00:11.329 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 12:00:11.330 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50002 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:00:15.947 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50002 - "OPTIONS /layouts/org/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&org_id=0ccba4ff-3473-48bd-ae98-b0518066f548 HTTP/1.1" 200
2023-12-17 12:00:15.960 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 12:00:15.967 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '0ccba4ff-3473-48bd-ae98-b0518066f548';
    
2023-12-17 12:00:15.969 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:00:15.977 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 12:00:15.997 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50002 - "GET /layouts/org/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&org_id=0ccba4ff-3473-48bd-ae98-b0518066f548 HTTP/1.1" 200
2023-12-17 12:00:25.858 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50072 - "OPTIONS /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:00:25.859 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50073 - "OPTIONS /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:00:25.867 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:00:25.869 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 12:00:25.874 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50073 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:00:25.883 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:00:25.885 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 12:00:25.888 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50072 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:00:28.535 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:00:28.537 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 12:00:28.551 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50072 - "GET /banks HTTP/1.1" 200
2023-12-17 12:00:28.562 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 12:00:28.568 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 12:00:28.574 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50073 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:00:28.581 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50087 - "GET /banks HTTP/1.1" 200
2023-12-17 12:00:28.583 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:00:28.585 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 12:00:28.586 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50072 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:00:36.927 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50126 - "OPTIONS /layouts/org/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&org_id=46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 12:00:36.938 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 12:00:36.943 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 12:00:36.946 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:00:36.950 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 12:00:36.952 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50126 - "GET /layouts/org/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&org_id=46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 12:01:39.651 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50381 - "OPTIONS /layouts/org/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&org_id=2f2cef51-0ba0-41e4-bf58-f34f22415008 HTTP/1.1" 200
2023-12-17 12:01:39.664 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '2f2cef51-0ba0-41e4-bf58-f34f22415008'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 12:01:39.674 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '2f2cef51-0ba0-41e4-bf58-f34f22415008';
    
2023-12-17 12:01:39.677 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:01:39.679 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 12:01:39.686 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50381 - "GET /layouts/org/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&org_id=2f2cef51-0ba0-41e4-bf58-f34f22415008 HTTP/1.1" 200
2023-12-17 12:04:35.256 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 12:04:35.261 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 12:04:35.271 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:04:35.282 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 12:04:35.284 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51092 - "GET /layouts/org/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&org_id=46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 12:04:44.508 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 12:04:44.513 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '0ccba4ff-3473-48bd-ae98-b0518066f548';
    
2023-12-17 12:04:44.518 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:04:44.525 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 12:04:44.527 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51131 - "GET /layouts/org/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&org_id=0ccba4ff-3473-48bd-ae98-b0518066f548 HTTP/1.1" 200
2023-12-17 12:04:55.878 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 12:04:55.882 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 12:04:55.886 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:04:55.888 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 12:04:55.889 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51182 - "GET /layouts/org/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&org_id=46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 12:08:01.346 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51924 - "OPTIONS /token?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=f581a13a-9b09-4cc8-9118-cd0151379170 HTTP/1.1" 200
2023-12-17 12:08:01.358 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE users SET curr_role_id = 'f581a13a-9b09-4cc8-9118-cd0151379170' WHERE users.id = 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
    
2023-12-17 12:08:01.364 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
    
2023-12-17 12:08:01.370 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
    
2023-12-17 12:08:01.373 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'dd655737-7bf8-458b-9a9a-d23a7871bb3e'
        AND
        roles.id = 'f581a13a-9b09-4cc8-9118-cd0151379170';
    
2023-12-17 12:08:01.384 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = 'f581a13a-9b09-4cc8-9118-cd0151379170';
    
2023-12-17 12:08:01.389 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51924 - "PUT /token?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=f581a13a-9b09-4cc8-9118-cd0151379170 HTTP/1.1" 200
2023-12-17 12:08:02.252 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51924 - "OPTIONS /cases?role_id=f581a13a-9b09-4cc8-9118-cd0151379170 HTTP/1.1" 200
2023-12-17 12:08:02.253 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51937 - "OPTIONS /cases?role_id=f581a13a-9b09-4cc8-9118-cd0151379170 HTTP/1.1" 200
2023-12-17 12:08:02.263 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'f581a13a-9b09-4cc8-9118-cd0151379170';
    
2023-12-17 12:08:02.274 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 12:08:02.278 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51924 - "GET /cases?role_id=f581a13a-9b09-4cc8-9118-cd0151379170 HTTP/1.1" 200
2023-12-17 12:08:02.293 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'f581a13a-9b09-4cc8-9118-cd0151379170';
    
2023-12-17 12:08:02.297 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 12:08:02.302 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51937 - "GET /cases?role_id=f581a13a-9b09-4cc8-9118-cd0151379170 HTTP/1.1" 200
2023-12-17 12:08:18.327 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52005 - "OPTIONS /token?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:08:18.353 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE users SET curr_role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c' WHERE users.id = 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
    
2023-12-17 12:08:18.360 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
    
2023-12-17 12:08:18.366 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
    
2023-12-17 12:08:18.377 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'dd655737-7bf8-458b-9a9a-d23a7871bb3e'
        AND
        roles.id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:08:18.393 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:08:18.402 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52005 - "PUT /token?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:08:19.090 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:08:19.094 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 12:08:19.104 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52005 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:08:19.120 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:08:19.126 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 12:08:19.135 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52019 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:09:21.777 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52277 - "OPTIONS /token HTTP/1.1" 200
2023-12-17 12:09:21.788 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '001@demo.com';
    
2023-12-17 12:09:21.795 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
    
2023-12-17 12:09:21.798 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
    
2023-12-17 12:09:21.805 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'dd655737-7bf8-458b-9a9a-d23a7871bb3e'
        AND
        roles.id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:09:21.812 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:09:21.819 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52277 - "POST /token HTTP/1.1" 200
2023-12-17 12:09:22.167 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:09:22.171 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 12:09:22.175 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52277 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:09:22.184 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:09:22.186 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 12:09:22.190 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52277 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:10:11.736 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52286 - "OPTIONS /banks HTTP/1.1" 200
2023-12-17 12:10:11.739 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52493 - "OPTIONS /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:10:11.743 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52494 - "OPTIONS /banks HTTP/1.1" 200
2023-12-17 12:10:11.745 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52495 - "OPTIONS /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:10:11.752 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 12:10:11.754 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:10:11.761 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 12:10:11.763 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52286 - "GET /banks HTTP/1.1" 200
2023-12-17 12:10:11.767 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52493 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:10:11.775 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 12:10:11.775 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:10:11.781 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52495 - "GET /banks HTTP/1.1" 200
2023-12-17 12:10:11.781 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 12:10:11.784 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52286 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:10:15.498 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 12:10:15.502 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '46276f74-eddb-48c2-a00e-10f0032385cf';
    
2023-12-17 12:10:15.504 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:10:15.508 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 12:10:15.510 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52286 - "GET /layouts/org/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&org_id=46276f74-eddb-48c2-a00e-10f0032385cf HTTP/1.1" 200
2023-12-17 12:16:04.936 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53922 - "OPTIONS /layouts/org/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&org_id=2f2cef51-0ba0-41e4-bf58-f34f22415008 HTTP/1.1" 200
2023-12-17 12:16:04.946 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '2f2cef51-0ba0-41e4-bf58-f34f22415008'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 12:16:04.955 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '2f2cef51-0ba0-41e4-bf58-f34f22415008';
    
2023-12-17 12:16:04.957 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:16:04.961 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 12:16:04.964 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53922 - "GET /layouts/org/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&org_id=2f2cef51-0ba0-41e4-bf58-f34f22415008 HTTP/1.1" 200
2023-12-17 12:16:12.535 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53952 - "OPTIONS /layouts/org/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&org_id=b7a0c9b6-40f2-4c47-8701-0979ec57bb55 HTTP/1.1" 200
2023-12-17 12:16:12.548 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 12:16:12.554 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55';
    
2023-12-17 12:16:12.563 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:16:12.565 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 12:16:12.569 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53952 - "GET /layouts/org/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&org_id=b7a0c9b6-40f2-4c47-8701-0979ec57bb55 HTTP/1.1" 200
2023-12-17 12:17:58.222 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54381 - "OPTIONS /case HTTP/1.1" 200
2023-12-17 12:17:58.241 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO cases
        (
            org_id,
            user_id,
            execute_confirm,
            shbs_report,
            bank_id,
            loan_target,
            ap_loan_applicable,
            excute_date,
            house_code,
            house_name,
            loan_amount,
            deduction_amount,
            deposit_amount,
            heim_note,
            shbs_note,
            shbs_confirm,
            collection_date,
            receive_date,
            registrate_date,
            schedule_date,
            establish_date,
            doc_send_date,
            confirm_date
        )
    VALUES
        (
            'b7a0c9b6-40f2-4c47-8701-0979ec57bb55',
            'dd655737-7bf8-458b-9a9a-d23a7871bb3e',
            null,
            null,
            '6eb67f69-33ab-4f1e-ac86-96aaf53f6330',
            '$.1',
            '$.0',
            '2023-12-20',
            'D001',
            'XXXX',
            65000000,
            -200,
            65000200,
            '111111',
            '22222',
            null,
            '2023-12-29',
            '2023-12-21',
            '2023-12-28',
            '2023-12-21',
            null,
            null,
            null
        );
    
2023-12-17 12:17:58.246 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54381 - "POST /case HTTP/1.1" 200
2023-12-17 12:17:58.305 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54381 - "OPTIONS /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:17:58.306 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54384 - "OPTIONS /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:17:58.311 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:17:58.313 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 12:17:58.319 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54381 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:17:58.325 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:17:58.329 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 12:17:58.336 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54384 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:21:12.077 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55175 - "OPTIONS /case/8498d7e9-88e1-4abf-ae06-cebacdd610b8 HTTP/1.1" 200
2023-12-17 12:21:12.078 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55176 - "OPTIONS /banks HTTP/1.1" 200
2023-12-17 12:21:12.078 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55177 - "OPTIONS /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:21:12.078 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55178 - "OPTIONS /case/8498d7e9-88e1-4abf-ae06-cebacdd610b8 HTTP/1.1" 200
2023-12-17 12:21:12.078 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55179 - "OPTIONS /banks HTTP/1.1" 200
2023-12-17 12:21:12.078 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55180 - "OPTIONS /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:21:12.101 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:21:12.103 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date
    FROM
        cases
    WHERE
        cases.id = '8498d7e9-88e1-4abf-ae06-cebacdd610b8';
    
2023-12-17 12:21:12.113 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 12:21:12.116 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55180 - "GET /case/8498d7e9-88e1-4abf-ae06-cebacdd610b8 HTTP/1.1" 200
2023-12-17 12:21:12.118 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55179 - "GET /banks HTTP/1.1" 200
2023-12-17 12:21:12.125 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 12:21:12.131 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 12:21:12.134 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55178 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:21:12.136 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date
    FROM
        cases
    WHERE
        cases.id = '8498d7e9-88e1-4abf-ae06-cebacdd610b8';
    
2023-12-17 12:21:12.139 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55180 - "GET /banks HTTP/1.1" 200
2023-12-17 12:21:12.140 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55177 - "GET /case/8498d7e9-88e1-4abf-ae06-cebacdd610b8 HTTP/1.1" 200
2023-12-17 12:21:12.141 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:21:12.142 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 12:21:12.143 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55179 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:21:12.209 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 12:21:12.212 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55';
    
2023-12-17 12:21:12.213 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:21:12.216 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 12:21:12.224 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55179 - "GET /layouts/org/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&org_id=b7a0c9b6-40f2-4c47-8701-0979ec57bb55 HTTP/1.1" 200
2023-12-17 12:23:49.281 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE 
        cases
    SET
        org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55',
        user_id = 'dd655737-7bf8-458b-9a9a-d23a7871bb3e',
        execute_confirm = null,
        shbs_report = null,
        bank_id = '6eb67f69-33ab-4f1e-ac86-96aaf53f6330',
        loan_target = '建物中間',
        ap_loan_applicable = '無',
        excute_date = '2023-12-20',
        house_code = 'D001',
        house_name = 'XXXX',
        loan_amount = 65000000,
        deduction_amount = -200,
        deposit_amount = 65000200,
        heim_note = '111111',
        shbs_note = '22222',
        shbs_confirm = null,
        collection_date = '2023-12-29',
        receive_date = '2023-12-21',
        registrate_date = '2023-12-28',
        schedule_date = '2023-12-21',
        establish_date = null,
        doc_send_date = null,
        confirm_date = null
    WHERE
        cases.id = '8498d7e9-88e1-4abf-ae06-cebacdd610b8'
    
2023-12-17 12:23:49.287 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55828 - "PUT /case HTTP/1.1" 200
2023-12-17 12:23:49.353 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:23:49.356 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 12:23:49.364 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55828 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:23:49.373 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:23:49.376 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 12:23:49.384 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55832 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:24:17.719 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 12:24:17.719 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date
    FROM
        cases
    WHERE
        cases.id = '8498d7e9-88e1-4abf-ae06-cebacdd610b8';
    
2023-12-17 12:24:17.721 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:24:17.723 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55952 - "GET /banks HTTP/1.1" 200
2023-12-17 12:24:17.723 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55951 - "GET /case/8498d7e9-88e1-4abf-ae06-cebacdd610b8 HTTP/1.1" 200
2023-12-17 12:24:17.730 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date
    FROM
        cases
    WHERE
        cases.id = '8498d7e9-88e1-4abf-ae06-cebacdd610b8';
    
2023-12-17 12:24:17.731 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 12:24:17.732 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 12:24:17.733 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55958 - "GET /case/8498d7e9-88e1-4abf-ae06-cebacdd610b8 HTTP/1.1" 200
2023-12-17 12:24:17.734 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55957 - "GET /banks HTTP/1.1" 200
2023-12-17 12:24:17.734 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55953 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:24:17.739 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:24:17.741 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 12:24:17.742 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55957 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:24:17.789 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 12:24:17.792 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55';
    
2023-12-17 12:24:17.793 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:24:17.794 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 12:24:17.796 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55957 - "GET /layouts/org/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&org_id=b7a0c9b6-40f2-4c47-8701-0979ec57bb55 HTTP/1.1" 200
2023-12-17 12:24:45.402 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE 
        cases
    SET
        org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55',
        user_id = 'dd655737-7bf8-458b-9a9a-d23a7871bb3e',
        execute_confirm = null,
        shbs_report = null,
        bank_id = '6eb67f69-33ab-4f1e-ac86-96aaf53f6330',
        loan_target = '建物中間',
        ap_loan_applicable = '無',
        excute_date = '2023-12-20',
        house_code = 'D001',
        house_name = 'XXXX',
        loan_amount = 65000200,
        deduction_amount = 200,
        deposit_amount = 65000000,
        heim_note = '111111',
        shbs_note = '22222',
        shbs_confirm = null,
        collection_date = '2023-12-29',
        receive_date = '2023-12-21',
        registrate_date = '2023-12-28',
        schedule_date = '2023-12-21',
        establish_date = null,
        doc_send_date = null,
        confirm_date = null
    WHERE
        cases.id = '8498d7e9-88e1-4abf-ae06-cebacdd610b8'
    
2023-12-17 12:24:45.406 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56074 - "PUT /case HTTP/1.1" 200
2023-12-17 12:24:45.467 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:24:45.470 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 12:24:45.476 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56074 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:24:45.488 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:24:45.491 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 12:24:45.497 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56078 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:25:21.555 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date
    FROM
        cases
    WHERE
        cases.id = '8498d7e9-88e1-4abf-ae06-cebacdd610b8';
    
2023-12-17 12:25:21.556 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 12:25:21.557 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:25:21.558 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56227 - "GET /banks HTTP/1.1" 200
2023-12-17 12:25:21.558 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56226 - "GET /case/8498d7e9-88e1-4abf-ae06-cebacdd610b8 HTTP/1.1" 200
2023-12-17 12:25:21.567 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 12:25:21.567 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date
    FROM
        cases
    WHERE
        cases.id = '8498d7e9-88e1-4abf-ae06-cebacdd610b8';
    
2023-12-17 12:25:21.568 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 12:25:21.569 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56232 - "GET /banks HTTP/1.1" 200
2023-12-17 12:25:21.570 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56233 - "GET /case/8498d7e9-88e1-4abf-ae06-cebacdd610b8 HTTP/1.1" 200
2023-12-17 12:25:21.570 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56228 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:25:21.575 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:25:21.577 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 12:25:21.579 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56233 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:25:21.668 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 12:25:21.671 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55';
    
2023-12-17 12:25:21.672 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:25:21.674 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 12:25:21.677 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56233 - "GET /layouts/org/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&org_id=b7a0c9b6-40f2-4c47-8701-0979ec57bb55 HTTP/1.1" 200
2023-12-17 12:25:36.706 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE 
        cases
    SET
        org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55',
        user_id = 'dd655737-7bf8-458b-9a9a-d23a7871bb3e',
        execute_confirm = null,
        shbs_report = null,
        bank_id = '6eb67f69-33ab-4f1e-ac86-96aaf53f6330',
        loan_target = '建物中間',
        ap_loan_applicable = '無',
        excute_date = '2023-12-20',
        house_code = 'D001',
        house_name = 'XXXX',
        loan_amount = 65000200,
        deduction_amount = 200,
        deposit_amount = 65000000,
        heim_note = '権利証紛失、事前通知にて対応',
        shbs_note = null,
        shbs_confirm = null,
        collection_date = '2023-12-29',
        receive_date = '2023-12-21',
        registrate_date = '2023-12-28',
        schedule_date = '2023-12-21',
        establish_date = null,
        doc_send_date = null,
        confirm_date = null
    WHERE
        cases.id = '8498d7e9-88e1-4abf-ae06-cebacdd610b8'
    
2023-12-17 12:25:36.709 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56299 - "PUT /case HTTP/1.1" 200
2023-12-17 12:25:36.772 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:25:36.775 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 12:25:36.781 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56299 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:25:36.791 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:25:36.796 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 12:25:36.802 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56303 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:25:45.960 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date
    FROM
        cases
    WHERE
        cases.id = '8498d7e9-88e1-4abf-ae06-cebacdd610b8';
    
2023-12-17 12:25:45.962 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 12:25:45.964 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:25:45.972 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56346 - "GET /case/8498d7e9-88e1-4abf-ae06-cebacdd610b8 HTTP/1.1" 200
2023-12-17 12:25:45.973 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56347 - "GET /banks HTTP/1.1" 200
2023-12-17 12:25:45.973 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 12:25:45.977 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56348 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:25:45.979 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date
    FROM
        cases
    WHERE
        cases.id = '8498d7e9-88e1-4abf-ae06-cebacdd610b8';
    
2023-12-17 12:25:45.982 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:25:45.982 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56352 - "GET /case/8498d7e9-88e1-4abf-ae06-cebacdd610b8 HTTP/1.1" 200
2023-12-17 12:25:45.982 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 12:25:45.984 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56347 - "GET /banks HTTP/1.1" 200
2023-12-17 12:25:45.984 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-17 12:25:45.986 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56346 - "GET /layouts/orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:25:46.051 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 12:25:46.054 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55';
    
2023-12-17 12:25:46.056 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:25:46.059 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 12:25:46.061 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56346 - "GET /layouts/org/users?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&org_id=b7a0c9b6-40f2-4c47-8701-0979ec57bb55 HTTP/1.1" 200
2023-12-17 12:27:07.362 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE 
        cases
    SET
        org_id = 'b7a0c9b6-40f2-4c47-8701-0979ec57bb55',
        user_id = 'dd655737-7bf8-458b-9a9a-d23a7871bb3e',
        execute_confirm = 'True',
        shbs_report = 'True',
        bank_id = '6eb67f69-33ab-4f1e-ac86-96aaf53f6330',
        loan_target = '建物中間',
        ap_loan_applicable = '無',
        excute_date = '2023-12-20',
        house_code = 'D001',
        house_name = 'XXXX',
        loan_amount = 65000200,
        deduction_amount = 200,
        deposit_amount = 65000000,
        heim_note = '権利証紛失、事前通知にて対応',
        shbs_note = null,
        shbs_confirm = null,
        collection_date = '2023-12-29',
        receive_date = '2023-12-21',
        registrate_date = '2023-12-28',
        schedule_date = '2023-12-21',
        establish_date = null,
        doc_send_date = null,
        confirm_date = null
    WHERE
        cases.id = '8498d7e9-88e1-4abf-ae06-cebacdd610b8'
    
2023-12-17 12:27:07.365 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56690 - "PUT /case HTTP/1.1" 200
2023-12-17 12:27:07.431 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:27:07.434 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 12:27:07.440 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56690 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:27:07.450 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:27:07.453 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 12:27:07.459 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56694 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:40:14.837 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58834 - "OPTIONS /users?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&is_super=false HTTP/1.1" 200
2023-12-17 12:40:14.837 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58835 - "OPTIONS /users?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&is_super=false HTTP/1.1" 200
2023-12-17 12:40:14.844 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
        
2023-12-17 12:40:14.846 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
        
2023-12-17 12:40:14.848 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '09deb977-ca4a-4c75-8c7e-a84033afcbef';
        
2023-12-17 12:40:14.850 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '728ba012-0b38-4c40-b115-fd892dc09a8c';
        
2023-12-17 12:40:14.851 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '86fa87ef-0514-40f6-a4f9-a1e3a285f8ff';
        
2023-12-17 12:40:14.853 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58835 - "GET /users?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&is_super=false HTTP/1.1" 200
2023-12-17 12:40:14.862 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
        
2023-12-17 12:40:14.865 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
        
2023-12-17 12:40:14.867 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '09deb977-ca4a-4c75-8c7e-a84033afcbef';
        
2023-12-17 12:40:14.873 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '728ba012-0b38-4c40-b115-fd892dc09a8c';
        
2023-12-17 12:40:14.875 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '86fa87ef-0514-40f6-a4f9-a1e3a285f8ff';
        
2023-12-17 12:40:14.877 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58834 - "GET /users?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&is_super=false HTTP/1.1" 200
2023-12-17 12:42:08.851 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
        
2023-12-17 12:42:08.857 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
        
2023-12-17 12:42:08.862 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '09deb977-ca4a-4c75-8c7e-a84033afcbef';
        
2023-12-17 12:42:08.865 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '728ba012-0b38-4c40-b115-fd892dc09a8c';
        
2023-12-17 12:42:08.868 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '86fa87ef-0514-40f6-a4f9-a1e3a285f8ff';
        
2023-12-17 12:42:08.871 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59354 - "GET /users?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&is_super=false HTTP/1.1" 200
2023-12-17 12:42:08.885 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
        
2023-12-17 12:42:08.892 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
        
2023-12-17 12:42:08.897 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '09deb977-ca4a-4c75-8c7e-a84033afcbef';
        
2023-12-17 12:42:08.900 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '728ba012-0b38-4c40-b115-fd892dc09a8c';
        
2023-12-17 12:42:08.902 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '86fa87ef-0514-40f6-a4f9-a1e3a285f8ff';
        
2023-12-17 12:42:08.906 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59356 - "GET /users?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&is_super=false HTTP/1.1" 200
2023-12-17 12:44:36.069 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
        
2023-12-17 12:44:36.082 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
        
2023-12-17 12:44:36.089 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '09deb977-ca4a-4c75-8c7e-a84033afcbef';
        
2023-12-17 12:44:36.093 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '728ba012-0b38-4c40-b115-fd892dc09a8c';
        
2023-12-17 12:44:36.094 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '86fa87ef-0514-40f6-a4f9-a1e3a285f8ff';
        
2023-12-17 12:44:36.096 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60023 - "GET /users?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&is_super=false HTTP/1.1" 200
2023-12-17 12:44:36.101 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
        
2023-12-17 12:44:36.112 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
        
2023-12-17 12:44:36.120 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '09deb977-ca4a-4c75-8c7e-a84033afcbef';
        
2023-12-17 12:44:36.123 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '728ba012-0b38-4c40-b115-fd892dc09a8c';
        
2023-12-17 12:44:36.125 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '86fa87ef-0514-40f6-a4f9-a1e3a285f8ff';
        
2023-12-17 12:44:36.127 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60025 - "GET /users?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&is_super=false HTTP/1.1" 200
2023-12-17 12:44:37.022 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
        
2023-12-17 12:44:37.026 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
        
2023-12-17 12:44:37.030 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '09deb977-ca4a-4c75-8c7e-a84033afcbef';
        
2023-12-17 12:44:37.032 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '728ba012-0b38-4c40-b115-fd892dc09a8c';
        
2023-12-17 12:44:37.033 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '86fa87ef-0514-40f6-a4f9-a1e3a285f8ff';
        
2023-12-17 12:44:37.035 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60025 - "GET /users?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&is_super=false HTTP/1.1" 200
2023-12-17 12:44:37.043 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
        
2023-12-17 12:44:37.046 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
        
2023-12-17 12:44:37.049 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '09deb977-ca4a-4c75-8c7e-a84033afcbef';
        
2023-12-17 12:44:37.051 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '728ba012-0b38-4c40-b115-fd892dc09a8c';
        
2023-12-17 12:44:37.052 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '86fa87ef-0514-40f6-a4f9-a1e3a285f8ff';
        
2023-12-17 12:44:37.054 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60023 - "GET /users?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&is_super=false HTTP/1.1" 200
2023-12-17 12:44:47.712 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60089 - "OPTIONS /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:44:47.712 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60090 - "OPTIONS /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:44:47.720 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:44:47.725 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-17 12:44:47.728 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60090 - "GET /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:44:47.734 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 12:44:47.736 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-17 12:44:47.739 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60089 - "GET /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 12:46:25.764 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60526 - "OPTIONS /banks HTTP/1.1" 200
2023-12-17 12:46:25.764 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60527 - "OPTIONS /banks HTTP/1.1" 200
2023-12-17 12:46:25.772 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 12:46:25.775 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60526 - "GET /banks HTTP/1.1" 200
2023-12-17 12:46:25.784 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 12:46:25.787 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60527 - "GET /banks HTTP/1.1" 200
2023-12-17 12:46:54.975 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 12:46:54.977 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60659 - "GET /banks HTTP/1.1" 200
2023-12-17 12:46:54.988 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 12:46:54.994 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60661 - "GET /banks HTTP/1.1" 200
2023-12-17 13:07:49.675 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49716 - "OPTIONS /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 13:07:49.676 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49717 - "OPTIONS /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 13:07:49.683 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 13:07:49.686 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-17 13:07:49.689 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49717 - "GET /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 13:07:49.698 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 13:07:49.700 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-17 13:07:49.703 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49716 - "GET /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 13:07:52.874 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49716 - "OPTIONS /org/2f2cef51-0ba0-41e4-bf58-f34f22415008 HTTP/1.1" 200
2023-12-17 13:07:52.875 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49717 - "OPTIONS /layouts/org/users?org_id=2f2cef51-0ba0-41e4-bf58-f34f22415008&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 13:07:52.875 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49716 - "OPTIONS /org/2f2cef51-0ba0-41e4-bf58-f34f22415008 HTTP/1.1" 200
2023-12-17 13:07:52.876 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49732 - "OPTIONS /layouts/org/users?org_id=2f2cef51-0ba0-41e4-bf58-f34f22415008&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 13:07:52.882 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '2f2cef51-0ba0-41e4-bf58-f34f22415008'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 13:07:52.882 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '2f2cef51-0ba0-41e4-bf58-f34f22415008'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 13:07:52.886 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '2f2cef51-0ba0-41e4-bf58-f34f22415008';
    
2023-12-17 13:07:52.893 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49717 - "GET /org/2f2cef51-0ba0-41e4-bf58-f34f22415008 HTTP/1.1" 200
2023-12-17 13:07:52.895 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '2f2cef51-0ba0-41e4-bf58-f34f22415008';
    
2023-12-17 13:07:52.899 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '2f2cef51-0ba0-41e4-bf58-f34f22415008'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-17 13:07:52.901 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '2f2cef51-0ba0-41e4-bf58-f34f22415008';
    
2023-12-17 13:07:52.904 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 13:07:52.905 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49732 - "GET /org/2f2cef51-0ba0-41e4-bf58-f34f22415008 HTTP/1.1" 200
2023-12-17 13:07:52.906 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 13:07:52.907 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49716 - "GET /layouts/org/users?org_id=2f2cef51-0ba0-41e4-bf58-f34f22415008&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 13:07:52.915 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '2f2cef51-0ba0-41e4-bf58-f34f22415008'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-17 13:07:52.918 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '2f2cef51-0ba0-41e4-bf58-f34f22415008';
    
2023-12-17 13:07:52.919 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 13:07:52.921 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name
    FROM
        users
    WHERE
        users.is_super = false;
    
2023-12-17 13:07:52.922 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49732 - "GET /layouts/org/users?org_id=2f2cef51-0ba0-41e4-bf58-f34f22415008&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 13:08:01.199 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49733 - "OPTIONS /banks HTTP/1.1" 200
2023-12-17 13:08:01.202 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49733 - "OPTIONS /banks HTTP/1.1" 200
2023-12-17 13:08:01.211 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 13:08:01.213 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49777 - "GET /banks HTTP/1.1" 200
2023-12-17 13:08:01.219 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 13:08:01.221 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49733 - "GET /banks HTTP/1.1" 200
2023-12-17 13:26:27.277 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-17 13:26:27.383 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-17 13:26:27.384 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-17 13:26:27.384 | INFO     | uvicorn.server:serve:86 - Finished server process [78148]
2023-12-17 13:27:01.434 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-17 13:27:09.272 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50047 - "OPTIONS /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 13:27:09.272 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50048 - "OPTIONS /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 13:27:09.724 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 13:27:09.843 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 13:27:09.975 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50048 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 13:27:10.345 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 13:27:10.464 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 13:27:10.660 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50047 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 13:27:12.088 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50047 - "OPTIONS /users?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&is_super=false HTTP/1.1" 200
2023-12-17 13:27:12.088 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50048 - "OPTIONS /users?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&is_super=false HTTP/1.1" 200
2023-12-17 13:27:12.478 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
        
2023-12-17 13:27:12.694 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
        
2023-12-17 13:27:12.864 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '09deb977-ca4a-4c75-8c7e-a84033afcbef';
        
2023-12-17 13:27:13.005 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '728ba012-0b38-4c40-b115-fd892dc09a8c';
        
2023-12-17 13:27:13.184 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '86fa87ef-0514-40f6-a4f9-a1e3a285f8ff';
        
2023-12-17 13:27:13.285 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50047 - "GET /users?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&is_super=false HTTP/1.1" 200
2023-12-17 13:27:13.677 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
        
2023-12-17 13:27:13.817 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != 'dd655737-7bf8-458b-9a9a-d23a7871bb3e';
        
2023-12-17 13:27:13.923 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '09deb977-ca4a-4c75-8c7e-a84033afcbef';
        
2023-12-17 13:27:14.068 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '728ba012-0b38-4c40-b115-fd892dc09a8c';
        
2023-12-17 13:27:14.262 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '86fa87ef-0514-40f6-a4f9-a1e3a285f8ff';
        
2023-12-17 13:27:14.404 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50048 - "GET /users?user_id=dd655737-7bf8-458b-9a9a-d23a7871bb3e&role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c&is_super=false HTTP/1.1" 200
2023-12-17 13:27:14.760 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50048 - "OPTIONS /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 13:27:14.760 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50047 - "OPTIONS /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 13:27:15.163 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 13:27:15.293 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-17 13:27:15.396 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50047 - "GET /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 13:27:15.779 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 13:27:15.883 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-17 13:27:16.017 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50048 - "GET /orgs?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 13:27:17.010 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50048 - "OPTIONS /banks HTTP/1.1" 200
2023-12-17 13:27:17.011 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50047 - "OPTIONS /banks HTTP/1.1" 200
2023-12-17 13:27:17.393 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 13:27:17.496 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50047 - "GET /banks HTTP/1.1" 200
2023-12-17 13:27:17.833 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-17 13:27:17.944 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50048 - "GET /banks HTTP/1.1" 200
2023-12-17 13:27:20.175 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 13:27:20.275 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 13:27:20.404 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50048 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 13:27:20.795 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'a82ebab4-2976-40cb-acbe-b8122a5d6c3c';
    
2023-12-17 13:27:20.901 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '0ccba4ff-3473-48bd-ae98-b0518066f548'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        cases.id,
        cases.org_id,
        cases.user_id,
        cases.execute_confirm,
        cases.shbs_report,
        cases.bank_id,
        cases.loan_target,
        cases.ap_loan_applicable,
        cases.excute_date,
        cases.house_code,
        cases.house_name,
        cases.loan_amount,
        cases.deduction_amount,
        cases.deposit_amount,
        cases.heim_note,
        cases.shbs_note,
        cases.shbs_confirm,
        cases.collection_date,
        cases.receive_date,
        cases.registrate_date,
        cases.schedule_date,
        cases.establish_date,
        cases.doc_send_date,
        cases.confirm_date,
        users.last_name,
        users.first_name,
        orgs.name as org_name,
        banks.name as bank_name,
        banks.type
    FROM
        parents
    JOIN
        cases
        ON
        cases.org_id = parents.id
    JOIN
        orgs
        ON
        orgs.id = cases.org_id
    JOIN
        users
        ON
        users.id = cases.user_id
    JOIN
        banks
        ON
        banks.id = cases.bank_id;
    
2023-12-17 13:27:21.024 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50047 - "GET /cases?role_id=a82ebab4-2976-40cb-acbe-b8122a5d6c3c HTTP/1.1" 200
2023-12-17 13:27:40.213 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-17 13:27:40.317 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-17 13:27:40.318 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-17 13:27:40.319 | INFO     | uvicorn.server:serve:86 - Finished server process [80222]
