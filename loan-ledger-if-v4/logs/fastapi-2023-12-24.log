2023-12-24 00:52:47.758 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 00:53:50.793 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 00:53:50.895 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 00:53:50.895 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 00:53:50.896 | INFO     | uvicorn.server:serve:86 - Finished server process [2288]
2023-12-24 00:53:51.320 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 00:54:06.275 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 00:54:06.377 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 00:54:06.377 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 00:54:06.377 | INFO     | uvicorn.server:serve:86 - Finished server process [2315]
2023-12-24 00:54:06.793 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 00:54:10.227 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 00:54:10.329 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 00:54:10.329 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 00:54:10.330 | INFO     | uvicorn.server:serve:86 - Finished server process [2326]
2023-12-24 00:54:10.773 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 00:54:14.919 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 00:54:15.021 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 00:54:15.022 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 00:54:15.022 | INFO     | uvicorn.server:serve:86 - Finished server process [2332]
2023-12-24 00:54:15.456 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 00:54:17.982 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 00:54:18.084 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 00:54:18.084 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 00:54:18.084 | INFO     | uvicorn.server:serve:86 - Finished server process [2337]
2023-12-24 00:54:18.501 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 00:54:22.041 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 00:54:22.142 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 00:54:22.143 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 00:54:22.143 | INFO     | uvicorn.server:serve:86 - Finished server process [2343]
2023-12-24 00:54:22.560 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 00:54:24.279 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 00:54:24.381 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 00:54:24.383 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 00:54:24.384 | INFO     | uvicorn.server:serve:86 - Finished server process [2349]
2023-12-24 00:54:24.784 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 01:02:10.403 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51567 - "OPTIONS /bank HTTP/1.1" 200
2023-12-24 01:02:10.415 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO banks
    (type, name)
    VALUES
    ('', 'MCJ');
    
2023-12-24 01:02:10.425 | ERROR    | app.endpoints.banks:new_bank:39 - insert or update on table "banks" violates foreign key constraint "bank_fk_type"
DETAIL:  Key (type)=() is not present in table "bank_types".Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1006559d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1003d3430>
           └ <SpawnProcess name='SpawnProcess-34' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1003c7a60>
    └ <SpawnProcess name='SpawnProcess-34' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100631b20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-34' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-34' parent=96820 started>
    │    └ <function subprocess_started at 0x102ae3670>
    └ <SpawnProcess name='SpawnProcess-34' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100631f70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102adac10>
           │       │   └ <uvicorn.server.Server object at 0x100631f70>
           │       └ <function run at 0x100693790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102ad6840>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102b30610>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x102c25e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x102c25e...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x102c0cbe0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102b30610>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x102c25e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x102c25e...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x102c25e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x102c25e...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x102d44f40>
          └ <fastapi.applications.FastAPI object at 0x102c0cbe0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x102d3e0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x102c25e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x102d44fd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x102d44f40>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'content-length': '32', 'accept': 'application/json, text/plain,...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x102d3e0d0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x102c25e...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10228f940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x102d44fd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x102d44fd0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x102c25e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x102d48e50>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x102d44fd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x102c09e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x102c25e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x102d48df0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x102d48e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x102c09e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x102c25e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x102c0cd00>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x102d48df0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x102c09e50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x102c25e...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1021e7940>
          └ APIRoute(path='/bank', name='new_bank', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x102c09e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x102c25e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x102c099d0>
          └ APIRoute(path='/bank', name='new_bank', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x102c13ac0>
                     └ <function get_request_handler.<locals>.app at 0x102c098b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1021c65e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102b02220>, 'bank': {'id': '', 'name': 'MCJ', 'type': ''}}
                 │         └ <function new_bank at 0x102999ca0>
                 └ <fastapi.dependencies.models.Dependant object at 0x102c1f310>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/banks.py", line 33, in new_bank
    await banks_crud.insert_bank(db, bank)
          │          │           │   └ {'id': '', 'name': 'MCJ', 'type': ''}
          │          │           └ <providers.psql_provider.DB object at 0x102b02220>
          │          └ <function insert_bank at 0x102999940>
          └ <module 'app.crud.banks_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/banks_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/banks_crud.py", line 17, in insert_bank
    await db.execute(sql)
          │  │       └ "\n    INSERT INTO banks\n    (type, name)\n    VALUES\n    ('', 'MCJ');\n    "
          │  └ <function DB.execute at 0x10268bdc0>
          └ <providers.psql_provider.DB object at 0x102b02220>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/providers/psql_provider.py", line 58, in execute
    await con.execute(query)
          │   │       └ "\n    INSERT INTO banks\n    (type, name)\n    VALUES\n    ('', 'MCJ');\n    "
          │   └ <function Connection.execute at 0x1023e9dc0>
          └ <PoolConnectionProxy [released] 0x102c25fa0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
                   │    │               │      └ None
                   │    │               └ "\n    INSERT INTO banks\n    (type, name)\n    VALUES\n    ('', 'MCJ');\n    "
                   │    └ <member '_protocol' of 'Connection' objects>
                   └ <asyncpg.connection.Connection object at 0x102d566d0>
  File "asyncpg/protocol/protocol.pyx", line 374, in query
    return await waiter

asyncpg.exceptions.ForeignKeyViolationError: insert or update on table "banks" violates foreign key constraint "bank_fk_type"
DETAIL:  Key (type)=() is not present in table "bank_types".

2023-12-24 01:02:10.453 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51567 - "POST /bank HTTP/1.1" 500
2023-12-24 01:04:10.567 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52053 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 01:04:10.570 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52054 - "OPTIONS /banks HTTP/1.1" 200
2023-12-24 01:04:10.572 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52055 - "OPTIONS /bank_types HTTP/1.1" 200
2023-12-24 01:04:10.573 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52056 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 01:04:10.574 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52057 - "OPTIONS /banks HTTP/1.1" 200
2023-12-24 01:04:10.574 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52058 - "OPTIONS /bank_types HTTP/1.1" 200
2023-12-24 01:04:10.580 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM banks;
2023-12-24 01:04:10.581 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 01:04:10.581 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 01:04:10.584 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52055 - "GET /bank_types HTTP/1.1" 200
2023-12-24 01:04:10.584 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52053 - "GET /role_types HTTP/1.1" 200
2023-12-24 01:04:10.584 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52054 - "GET /banks HTTP/1.1" 200
2023-12-24 01:04:10.596 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 01:04:10.601 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 01:04:10.604 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52055 - "GET /role_types HTTP/1.1" 200
2023-12-24 01:04:10.604 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52053 - "GET /bank_types HTTP/1.1" 200
2023-12-24 01:04:10.605 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM banks;
2023-12-24 01:04:10.607 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52054 - "GET /banks HTTP/1.1" 200
2023-12-24 01:04:27.918 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO banks
    (type, name)
    VALUES
    ('BT01', 'MCJ');
    
2023-12-24 01:04:27.927 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52137 - "POST /bank HTTP/1.1" 200
2023-12-24 01:04:27.947 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM banks;
2023-12-24 01:04:27.954 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52137 - "GET /banks HTTP/1.1" 200
2023-12-24 01:04:36.105 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE
        banks
    SET
        type = 'BT01',
        name = 'MCJ1'
    WHERE
        banks.id = '8c38b20e-068b-480e-b7d6-7709c8dbeab4';
    
2023-12-24 01:04:36.111 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52172 - "PUT /bank HTTP/1.1" 200
2023-12-24 01:04:36.126 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM banks;
2023-12-24 01:04:36.131 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52172 - "GET /banks HTTP/1.1" 200
2023-12-24 01:04:41.924 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE
        banks
    SET
        type = 'BT01',
        name = 'MCJ'
    WHERE
        banks.id = '8c38b20e-068b-480e-b7d6-7709c8dbeab4';
    
2023-12-24 01:04:41.927 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52200 - "PUT /bank HTTP/1.1" 200
2023-12-24 01:04:41.939 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM banks;
2023-12-24 01:04:41.942 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52200 - "GET /banks HTTP/1.1" 200
2023-12-24 01:14:08.285 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM banks;
2023-12-24 01:14:08.286 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 01:14:08.287 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 01:14:08.290 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54481 - "GET /role_types HTTP/1.1" 200
2023-12-24 01:14:08.291 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54482 - "GET /banks HTTP/1.1" 200
2023-12-24 01:14:08.294 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54483 - "GET /bank_types HTTP/1.1" 200
2023-12-24 01:14:08.314 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 01:14:08.316 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM banks;
2023-12-24 01:14:08.320 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54482 - "GET /banks HTTP/1.1" 200
2023-12-24 01:14:08.321 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54481 - "GET /role_types HTTP/1.1" 200
2023-12-24 01:14:08.322 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 01:14:08.324 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54483 - "GET /bank_types HTTP/1.1" 200
2023-12-24 01:16:02.501 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54968 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 01:16:02.503 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54969 - "OPTIONS /banks HTTP/1.1" 200
2023-12-24 01:16:02.509 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54970 - "OPTIONS /bank_types HTTP/1.1" 200
2023-12-24 01:16:02.516 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54971 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 01:16:02.517 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54972 - "OPTIONS /banks HTTP/1.1" 200
2023-12-24 01:16:02.518 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54973 - "OPTIONS /bank_types HTTP/1.1" 200
2023-12-24 01:16:02.526 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 01:16:02.526 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM banks;
2023-12-24 01:16:02.527 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 01:16:02.529 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54970 - "GET /bank_types HTTP/1.1" 200
2023-12-24 01:16:02.529 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54968 - "GET /role_types HTTP/1.1" 200
2023-12-24 01:16:02.531 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54969 - "GET /banks HTTP/1.1" 200
2023-12-24 01:16:02.536 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 01:16:02.538 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54970 - "GET /bank_types HTTP/1.1" 200
2023-12-24 01:16:02.539 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 01:16:02.541 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM banks;
2023-12-24 01:16:02.542 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54968 - "GET /role_types HTTP/1.1" 200
2023-12-24 01:16:02.543 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54969 - "GET /banks HTTP/1.1" 200
2023-12-24 01:16:05.360 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 01:16:05.362 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM banks;
2023-12-24 01:16:05.363 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54968 - "GET /bank_types HTTP/1.1" 200
2023-12-24 01:16:05.364 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54969 - "GET /banks HTTP/1.1" 200
2023-12-24 01:16:05.370 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 01:16:05.370 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM banks;
2023-12-24 01:16:05.372 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54968 - "GET /bank_types HTTP/1.1" 200
2023-12-24 01:16:05.373 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54969 - "GET /banks HTTP/1.1" 200
2023-12-24 01:17:59.243 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 01:17:59.243 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM banks;
2023-12-24 01:17:59.245 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55460 - "GET /banks HTTP/1.1" 200
2023-12-24 01:17:59.245 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55461 - "GET /bank_types HTTP/1.1" 200
2023-12-24 01:17:59.261 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 01:17:59.262 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM banks;
2023-12-24 01:17:59.263 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55460 - "GET /bank_types HTTP/1.1" 200
2023-12-24 01:17:59.264 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55461 - "GET /banks HTTP/1.1" 200
2023-12-24 01:20:37.495 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 01:20:37.597 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 01:20:37.597 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 01:20:37.598 | INFO     | uvicorn.server:serve:86 - Finished server process [2354]
2023-12-24 01:20:38.108 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 01:27:31.582 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 01:27:31.683 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 01:27:31.684 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 01:27:31.685 | INFO     | uvicorn.server:serve:86 - Finished server process [2796]
2023-12-24 01:27:32.092 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 01:28:25.365 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 01:28:25.466 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 01:28:25.467 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 01:28:25.467 | INFO     | uvicorn.server:serve:86 - Finished server process [2851]
2023-12-24 01:28:25.870 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 01:28:30.422 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 01:28:30.524 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 01:28:30.525 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 01:28:30.525 | INFO     | uvicorn.server:serve:86 - Finished server process [2867]
2023-12-24 01:28:30.929 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 01:29:43.151 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58294 - "OPTIONS /banks HTTP/1.1" 200
2023-12-24 01:29:43.152 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58295 - "OPTIONS /bank_types HTTP/1.1" 200
2023-12-24 01:29:43.152 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58296 - "OPTIONS /banks HTTP/1.1" 200
2023-12-24 01:29:43.152 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58297 - "OPTIONS /bank_types HTTP/1.1" 200
2023-12-24 01:29:43.159 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 01:29:43.159 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM banks;
2023-12-24 01:29:43.162 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58294 - "GET /banks HTTP/1.1" 200
2023-12-24 01:29:43.162 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58298 - "GET /bank_types HTTP/1.1" 200
2023-12-24 01:29:43.169 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 01:29:43.169 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM banks;
2023-12-24 01:29:43.171 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58298 - "GET /banks HTTP/1.1" 200
2023-12-24 01:29:43.172 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58294 - "GET /bank_types HTTP/1.1" 200
2023-12-24 01:30:06.827 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58406 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 01:30:06.829 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58409 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 01:30:06.835 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 01:30:06.836 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM banks;
2023-12-24 01:30:06.836 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 01:30:06.838 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58406 - "GET /role_types HTTP/1.1" 200
2023-12-24 01:30:06.838 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58407 - "GET /banks HTTP/1.1" 200
2023-12-24 01:30:06.838 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58408 - "GET /bank_types HTTP/1.1" 200
2023-12-24 01:30:06.845 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 01:30:06.846 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 01:30:06.847 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM banks;
2023-12-24 01:30:06.848 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58407 - "GET /role_types HTTP/1.1" 200
2023-12-24 01:30:06.851 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58408 - "GET /bank_types HTTP/1.1" 200
2023-12-24 01:30:06.851 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58406 - "GET /banks HTTP/1.1" 200
2023-12-24 01:30:06.858 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM banks;
2023-12-24 01:30:06.860 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58406 - "GET /banks HTTP/1.1" 200
2023-12-24 01:30:06.866 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM banks;
2023-12-24 01:30:06.869 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58406 - "GET /banks HTTP/1.1" 200
2023-12-24 01:31:29.757 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58758 - "OPTIONS /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 01:31:29.758 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58759 - "OPTIONS /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 01:31:29.764 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 01:31:29.766 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 01:31:29.766 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM banks;
2023-12-24 01:31:29.770 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58755 - "GET /role_types HTTP/1.1" 200
2023-12-24 01:31:29.771 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58756 - "GET /banks HTTP/1.1" 200
2023-12-24 01:31:29.773 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 01:31:29.773 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58757 - "GET /bank_types HTTP/1.1" 200
2023-12-24 01:31:29.780 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 01:31:29.783 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM banks;
2023-12-24 01:31:29.785 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58755 - "GET /role_types HTTP/1.1" 200
2023-12-24 01:31:29.789 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 01:31:29.789 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58756 - "GET /banks HTTP/1.1" 200
2023-12-24 01:31:29.789 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as type,
        parents.id as org_id,
        parents.name as org_name
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    JOIN
        parents
        ON
        parents.id = roles.org.id;
    
2023-12-24 01:31:29.791 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58757 - "GET /bank_types HTTP/1.1" 200
2023-12-24 01:31:29.791 | ERROR    | app.endpoints.users:new_user:47 - missing FROM-clause entry for table "org"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x10458d9d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10430b430>
           └ <SpawnProcess name='SpawnProcess-38' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1042ffa60>
    └ <SpawnProcess name='SpawnProcess-38' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104569b20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-38' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-38' parent=96820 started>
    │    └ <function subprocess_started at 0x106a1fa60>
    └ <SpawnProcess name='SpawnProcess-38' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104569f70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x106a1f040>
           │       │   └ <uvicorn.server.Server object at 0x104569f70>
           │       └ <function run at 0x1045cb790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x106a12840>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106a648b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106d24ac0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106d24a...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x106b486a0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106a648b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106d24ac0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106d24a...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106d24ac0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106d24a...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x106c86100>
          └ <fastapi.applications.FastAPI object at 0x106b486a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x106b5f9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106d24a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x106c860a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x106c86100>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x106b5f9d0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106d24a...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x1061c7940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x106c860a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x106c860a0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106d24a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x106c86070>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x106c860a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106c7de50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106d24a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x106c80fd0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x106c86070>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106c7de50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106d24a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x106b487c0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x106c80fd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106c7de50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106d24a...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10611f940>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106c7de50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106d24a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x106c7d8b0>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x106cfa5e0>
                     └ <function get_request_handler.<locals>.app at 0x106c7d940>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1060fe5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x106a33af0>, 'role_id': 'e2fa169b-f1d0-4564-b970-e6de28475a8d'}
                 │         └ <function new_user at 0x1068f5dc0>
                 └ <fastapi.dependencies.models.Dependant object at 0x106c80340>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/users.py", line 41, in new_user
    users = await users_crud.query_users(db, role_id)
                  │          │           │   └ 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
                  │          │           └ <providers.psql_provider.DB object at 0x106a33af0>
                  │          └ <function query_users at 0x1068f55e0>
                  └ <module 'app.crud.users_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py", line 63, in query_users
    basic_orgs = await db.fetch_all(sql)
                       │  │         └ "\n    WITH RECURSIVE parents AS (\n        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-...
                       │  └ <function DB.fetch_all at 0x1065c4b80>
                       └ <providers.psql_provider.DB object at 0x106a33af0>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    WITH RECURSIVE parents AS (\n        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-...
                   │   └ <function Connection.fetch at 0x106321ee0>
                   └ <PoolConnectionProxy [released] 0x106b57f70>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x106316040>
                 └ <asyncpg.connection.Connection object at 0x106d12e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x106d12e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x106316430>
                         └ <asyncpg.connection.Connection object at 0x106d12e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x106313550>
                 └ <asyncpg.connection.Connection object at 0x106d12e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x106d12e50>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.UndefinedTableError: missing FROM-clause entry for table "org"

2023-12-24 01:31:29.807 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58758 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 500
2023-12-24 01:31:29.813 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 01:31:29.815 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as type,
        parents.id as org_id,
        parents.name as org_name
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    JOIN
        parents
        ON
        parents.id = roles.org.id;
    
2023-12-24 01:31:29.816 | ERROR    | app.endpoints.users:new_user:47 - missing FROM-clause entry for table "org"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x10458d9d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10430b430>
           └ <SpawnProcess name='SpawnProcess-38' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1042ffa60>
    └ <SpawnProcess name='SpawnProcess-38' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104569b20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-38' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-38' parent=96820 started>
    │    └ <function subprocess_started at 0x106a1fa60>
    └ <SpawnProcess name='SpawnProcess-38' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104569f70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x106a1f040>
           │       │   └ <uvicorn.server.Server object at 0x104569f70>
           │       └ <function run at 0x1045cb790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x106a12840>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106a648b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106cfaac0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106cfaa...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x106b486a0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106a648b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106cfaac0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106cfaa...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106cfaac0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106cfaa...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x106c86100>
          └ <fastapi.applications.FastAPI object at 0x106b486a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x106b5f9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106cfaa...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x106c860a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x106c86100>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x106b5f9d0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106cfaa...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x1061c7940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x106c860a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x106c860a0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106cfaa...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x106c86070>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x106c860a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106c7de50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106cfaa...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x106c80fd0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x106c86070>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106c7de50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106cfaa...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x106b487c0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x106c80fd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106c7de50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106cfaa...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10611f940>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106c7de50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106cfaa...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x106c7d8b0>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x106d24940>
                     └ <function get_request_handler.<locals>.app at 0x106c7d940>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1060fe5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x106a33af0>, 'role_id': 'e2fa169b-f1d0-4564-b970-e6de28475a8d'}
                 │         └ <function new_user at 0x1068f5dc0>
                 └ <fastapi.dependencies.models.Dependant object at 0x106c80340>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/users.py", line 41, in new_user
    users = await users_crud.query_users(db, role_id)
                  │          │           │   └ 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
                  │          │           └ <providers.psql_provider.DB object at 0x106a33af0>
                  │          └ <function query_users at 0x1068f55e0>
                  └ <module 'app.crud.users_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py", line 63, in query_users
    basic_orgs = await db.fetch_all(sql)
                       │  │         └ "\n    WITH RECURSIVE parents AS (\n        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-...
                       │  └ <function DB.fetch_all at 0x1065c4b80>
                       └ <providers.psql_provider.DB object at 0x106a33af0>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    WITH RECURSIVE parents AS (\n        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-...
                   │   └ <function Connection.fetch at 0x106321ee0>
                   └ <PoolConnectionProxy [released] 0x106c7aa00>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x106316040>
                 └ <asyncpg.connection.Connection object at 0x106e0b4f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x106e0b4f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x106316430>
                         └ <asyncpg.connection.Connection object at 0x106e0b4f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x106313550>
                 └ <asyncpg.connection.Connection object at 0x106e0b4f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x106e0b4f0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.UndefinedTableError: missing FROM-clause entry for table "org"

2023-12-24 01:31:29.822 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58758 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 500
2023-12-24 01:31:35.392 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM banks;
2023-12-24 01:31:35.393 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 01:31:35.395 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 01:31:35.397 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 01:31:35.399 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58760 - "GET /role_types HTTP/1.1" 200
2023-12-24 01:31:35.402 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58798 - "GET /banks HTTP/1.1" 200
2023-12-24 01:31:35.408 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58799 - "GET /bank_types HTTP/1.1" 200
2023-12-24 01:31:35.419 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM banks;
2023-12-24 01:31:35.420 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 01:31:35.422 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as type,
        parents.id as org_id,
        parents.name as org_name
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    JOIN
        parents
        ON
        parents.id = roles.org.id;
    
2023-12-24 01:31:35.422 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 01:31:35.423 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58760 - "GET /role_types HTTP/1.1" 200
2023-12-24 01:31:35.424 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58798 - "GET /banks HTTP/1.1" 200
2023-12-24 01:31:35.427 | ERROR    | app.endpoints.users:new_user:47 - missing FROM-clause entry for table "org"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x10458d9d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10430b430>
           └ <SpawnProcess name='SpawnProcess-38' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1042ffa60>
    └ <SpawnProcess name='SpawnProcess-38' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104569b20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-38' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-38' parent=96820 started>
    │    └ <function subprocess_started at 0x106a1fa60>
    └ <SpawnProcess name='SpawnProcess-38' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104569f70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x106a1f040>
           │       │   └ <uvicorn.server.Server object at 0x104569f70>
           │       └ <function run at 0x1045cb790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x106a12840>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106a648b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106ec10d0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106ec10...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x106b486a0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106a648b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106ec10d0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106ec10...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106ec10d0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106ec10...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x106c86100>
          └ <fastapi.applications.FastAPI object at 0x106b486a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x106e76a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106ec10...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x106c860a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x106c86100>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x106e76a60>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106ec10...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x1061c7940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x106c860a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x106c860a0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106ec10...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x106c86070>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x106c860a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106ec00d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106ec10...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x106c80fd0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x106c86070>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106ec00d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106ec10...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x106b487c0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x106c80fd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106ec00d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106ec10...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10611f940>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106ec00d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106ec10...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x106c7d8b0>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x106ec11c0>
                     └ <function get_request_handler.<locals>.app at 0x106c7d940>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1060fe5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x106a33af0>, 'role_id': 'e2fa169b-f1d0-4564-b970-e6de28475a8d'}
                 │         └ <function new_user at 0x1068f5dc0>
                 └ <fastapi.dependencies.models.Dependant object at 0x106c80340>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/users.py", line 41, in new_user
    users = await users_crud.query_users(db, role_id)
                  │          │           │   └ 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
                  │          │           └ <providers.psql_provider.DB object at 0x106a33af0>
                  │          └ <function query_users at 0x1068f55e0>
                  └ <module 'app.crud.users_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py", line 63, in query_users
    basic_orgs = await db.fetch_all(sql)
                       │  │         └ "\n    WITH RECURSIVE parents AS (\n        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-...
                       │  └ <function DB.fetch_all at 0x1065c4b80>
                       └ <providers.psql_provider.DB object at 0x106a33af0>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    WITH RECURSIVE parents AS (\n        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-...
                   │   └ <function Connection.fetch at 0x106321ee0>
                   └ <PoolConnectionProxy [released] 0x106d0e910>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x106316040>
                 └ <asyncpg.connection.Connection object at 0x106e0b8b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x106e0b8b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x106316430>
                         └ <asyncpg.connection.Connection object at 0x106e0b8b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x106313550>
                 └ <asyncpg.connection.Connection object at 0x106e0b8b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x106e0b8b0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.UndefinedTableError: missing FROM-clause entry for table "org"

2023-12-24 01:31:35.432 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58800 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 500
2023-12-24 01:31:35.432 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58799 - "GET /bank_types HTTP/1.1" 200
2023-12-24 01:31:35.439 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 01:31:35.440 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as type,
        parents.id as org_id,
        parents.name as org_name
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    JOIN
        parents
        ON
        parents.id = roles.org.id;
    
2023-12-24 01:31:35.441 | ERROR    | app.endpoints.users:new_user:47 - missing FROM-clause entry for table "org"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x10458d9d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10430b430>
           └ <SpawnProcess name='SpawnProcess-38' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1042ffa60>
    └ <SpawnProcess name='SpawnProcess-38' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104569b20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-38' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-38' parent=96820 started>
    │    └ <function subprocess_started at 0x106a1fa60>
    └ <SpawnProcess name='SpawnProcess-38' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104569f70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x106a1f040>
           │       │   └ <uvicorn.server.Server object at 0x104569f70>
           │       └ <function run at 0x1045cb790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x106a12840>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106a648b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106d243d0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106d243...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x106b486a0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106a648b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106d243d0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106d243...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106d243d0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106d243...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x106c86100>
          └ <fastapi.applications.FastAPI object at 0x106b486a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x106c7ddc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106d243...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x106c860a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x106c86100>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x106c7ddc0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106d243...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x1061c7940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x106c860a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x106c860a0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106d243...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x106c86070>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x106c860a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106e76d30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106d243...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x106c80fd0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x106c86070>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106e76d30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106d243...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x106b487c0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x106c80fd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106e76d30>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106d243...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10611f940>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106e76d30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106d243...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x106c7d8b0>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x106d24e50>
                     └ <function get_request_handler.<locals>.app at 0x106c7d940>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1060fe5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x106a33af0>, 'role_id': 'e2fa169b-f1d0-4564-b970-e6de28475a8d'}
                 │         └ <function new_user at 0x1068f5dc0>
                 └ <fastapi.dependencies.models.Dependant object at 0x106c80340>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/users.py", line 41, in new_user
    users = await users_crud.query_users(db, role_id)
                  │          │           │   └ 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
                  │          │           └ <providers.psql_provider.DB object at 0x106a33af0>
                  │          └ <function query_users at 0x1068f55e0>
                  └ <module 'app.crud.users_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py", line 63, in query_users
    basic_orgs = await db.fetch_all(sql)
                       │  │         └ "\n    WITH RECURSIVE parents AS (\n        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-...
                       │  └ <function DB.fetch_all at 0x1065c4b80>
                       └ <providers.psql_provider.DB object at 0x106a33af0>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    WITH RECURSIVE parents AS (\n        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-...
                   │   └ <function Connection.fetch at 0x106321ee0>
                   └ <PoolConnectionProxy [released] 0x106d32550>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x106316040>
                 └ <asyncpg.connection.Connection object at 0x106e0bb80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x106e0bb80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x106316430>
                         └ <asyncpg.connection.Connection object at 0x106e0bb80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x106313550>
                 └ <asyncpg.connection.Connection object at 0x106e0bb80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x106e0bb80>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.UndefinedTableError: missing FROM-clause entry for table "org"

2023-12-24 01:31:35.446 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58799 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 500
2023-12-24 01:32:10.466 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 01:32:10.568 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 01:32:10.568 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 01:32:10.569 | INFO     | uvicorn.server:serve:86 - Finished server process [2875]
2023-12-24 01:32:11.029 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 01:32:19.365 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM banks;
2023-12-24 01:32:19.368 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 01:32:19.371 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58999 - "GET /banks HTTP/1.1" 200
2023-12-24 01:32:19.374 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 01:32:19.379 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58998 - "GET /role_types HTTP/1.1" 200
2023-12-24 01:32:19.382 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 01:32:19.384 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59000 - "GET /bank_types HTTP/1.1" 200
2023-12-24 01:32:19.386 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM banks;
2023-12-24 01:32:19.389 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 01:32:19.394 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58999 - "GET /banks HTTP/1.1" 200
2023-12-24 01:32:19.396 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58998 - "GET /role_types HTTP/1.1" 200
2023-12-24 01:32:19.397 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 01:32:19.399 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59000 - "GET /bank_types HTTP/1.1" 200
2023-12-24 01:32:19.401 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as type,
        parents.id as org_id,
        parents.name as org_name
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    JOIN
        parents
        ON
        parents.id = roles.org_id;
    
2023-12-24 01:32:19.406 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59001 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 01:32:19.415 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 01:32:19.420 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as type,
        parents.id as org_id,
        parents.name as org_name
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    JOIN
        parents
        ON
        parents.id = roles.org_id;
    
2023-12-24 01:32:19.424 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59001 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 01:32:34.616 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 01:32:34.717 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 01:32:34.718 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 01:32:34.718 | INFO     | uvicorn.server:serve:86 - Finished server process [2984]
2023-12-24 01:32:35.129 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 01:32:39.528 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 01:32:39.535 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM banks;
2023-12-24 01:32:39.536 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59100 - "GET /role_types HTTP/1.1" 200
2023-12-24 01:32:39.538 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 01:32:39.539 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59101 - "GET /banks HTTP/1.1" 200
2023-12-24 01:32:39.543 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 01:32:39.545 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59102 - "GET /bank_types HTTP/1.1" 200
2023-12-24 01:32:39.549 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 01:32:39.552 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM banks;
2023-12-24 01:32:39.552 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59100 - "GET /role_types HTTP/1.1" 200
2023-12-24 01:32:39.553 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 01:32:39.553 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59101 - "GET /banks HTTP/1.1" 200
2023-12-24 01:32:39.554 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as type,
        parents.id as org_id,
        parents.name as org_name
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    JOIN
        parents
        ON
        parents.id = roles.org_id;
    
2023-12-24 01:32:39.555 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59102 - "GET /bank_types HTTP/1.1" 200
2023-12-24 01:32:39.557 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59103 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 01:32:39.568 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 01:32:39.575 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as type,
        parents.id as org_id,
        parents.name as org_name
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    JOIN
        parents
        ON
        parents.id = roles.org_id;
    
2023-12-24 01:32:39.577 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59103 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 01:32:47.818 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59146 - "OPTIONS /org_types HTTP/1.1" 200
2023-12-24 01:32:47.819 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59148 - "OPTIONS /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 01:32:47.819 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59149 - "OPTIONS /org_types HTTP/1.1" 200
2023-12-24 01:32:47.820 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59150 - "OPTIONS /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 01:32:47.827 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM org_types;
2023-12-24 01:32:47.827 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 01:32:47.829 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59146 - "GET /org_types HTTP/1.1" 200
2023-12-24 01:32:47.830 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 01:32:47.830 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59147 - "GET /role_types HTTP/1.1" 200
2023-12-24 01:32:47.836 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM org_types;
2023-12-24 01:32:47.836 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 01:32:47.838 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59146 - "GET /org_types HTTP/1.1" 200
2023-12-24 01:32:47.838 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59147 - "GET /role_types HTTP/1.1" 200
2023-12-24 01:32:47.839 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 01:32:47.844 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 01:32:47.845 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 01:32:47.845 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 01:32:47.846 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 01:32:47.847 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 01:32:47.847 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 01:32:47.848 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 01:32:47.849 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59151 - "GET /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 01:32:47.855 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 01:32:47.857 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 01:32:47.858 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 01:32:47.860 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 01:32:47.861 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 01:32:47.862 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 01:32:47.862 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 01:32:47.863 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 01:32:47.864 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 01:32:47.865 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59151 - "GET /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 01:32:59.032 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59204 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 01:32:59.032 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59205 - "OPTIONS /org/out/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 01:32:59.033 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59206 - "OPTIONS /org/in/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 01:32:59.034 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59207 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 01:32:59.034 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59208 - "OPTIONS /org/out/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 01:32:59.035 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59204 - "OPTIONS /org/in/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 01:32:59.056 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 01:32:59.057 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
    
2023-12-24 01:32:59.058 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59203 - "GET /role_types HTTP/1.1" 200
2023-12-24 01:32:59.070 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
    
2023-12-24 01:32:59.072 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 01:32:59.075 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 01:32:59.079 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59208 - "GET /permission_types HTTP/1.1" 200
2023-12-24 01:32:59.081 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d';
        
2023-12-24 01:32:59.084 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59203 - "GET /role_types HTTP/1.1" 200
2023-12-24 01:32:59.087 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name,
        email
    FROM
        users;
    
2023-12-24 01:32:59.087 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 01:32:59.088 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59207 - "GET /org/in/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 01:32:59.092 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59205 - "GET /org/out/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 01:32:59.093 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59208 - "GET /permission_types HTTP/1.1" 200
2023-12-24 01:32:59.097 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
    
2023-12-24 01:32:59.100 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d';
        
2023-12-24 01:32:59.104 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
    
2023-12-24 01:32:59.107 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59207 - "GET /org/in/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 01:32:59.109 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name,
        email
    FROM
        users;
    
2023-12-24 01:32:59.110 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59208 - "GET /org/out/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 01:33:36.780 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59367 - "OPTIONS /org/user?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 01:33:36.792 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO roles (type, user_id, org_id)
    VALUES (
        'RT01',
        '623421cd-b1fc-4efd-976b-b6e9ed8b8048',
        '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
    )
    RETURNING id;
    
2023-12-24 01:33:36.801 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_code)
        VALUES (
            '109077c2-3552-4c47-9dea-fec85c0eae0f',
            'P017'
        )
        
2023-12-24 01:33:36.805 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_code)
        VALUES (
            '109077c2-3552-4c47-9dea-fec85c0eae0f',
            'P018'
        )
        
2023-12-24 01:33:36.807 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_code)
        VALUES (
            '109077c2-3552-4c47-9dea-fec85c0eae0f',
            'P015'
        )
        
2023-12-24 01:33:36.810 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_code)
        VALUES (
            '109077c2-3552-4c47-9dea-fec85c0eae0f',
            'P016'
        )
        
2023-12-24 01:33:36.815 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_code)
        VALUES (
            '109077c2-3552-4c47-9dea-fec85c0eae0f',
            'P014'
        )
        
2023-12-24 01:33:36.816 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_code)
        VALUES (
            '109077c2-3552-4c47-9dea-fec85c0eae0f',
            'P013'
        )
        
2023-12-24 01:33:36.816 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_code)
        VALUES (
            '109077c2-3552-4c47-9dea-fec85c0eae0f',
            'P011'
        )
        
2023-12-24 01:33:36.818 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_code)
        VALUES (
            '109077c2-3552-4c47-9dea-fec85c0eae0f',
            'P012'
        )
        
2023-12-24 01:33:36.822 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_code)
        VALUES (
            '109077c2-3552-4c47-9dea-fec85c0eae0f',
            'P010'
        )
        
2023-12-24 01:33:36.823 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_code)
        VALUES (
            '109077c2-3552-4c47-9dea-fec85c0eae0f',
            'P009'
        )
        
2023-12-24 01:33:36.825 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59367 - "POST /org/user?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 01:33:36.837 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
    
2023-12-24 01:33:36.841 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d';
        
2023-12-24 01:33:36.846 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '109077c2-3552-4c47-9dea-fec85c0eae0f';
        
2023-12-24 01:33:36.848 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59367 - "GET /org/in/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 01:33:36.864 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 01:33:36.868 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 01:33:36.870 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 01:33:36.873 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 01:33:36.874 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 01:33:36.875 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 01:33:36.883 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 01:33:36.884 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 01:33:36.885 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 01:33:36.887 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59367 - "GET /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 01:35:37.405 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 01:35:37.406 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 01:35:37.406 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM org_types;
2023-12-24 01:35:37.408 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59862 - "GET /role_types HTTP/1.1" 200
2023-12-24 01:35:37.409 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59863 - "GET /org_types HTTP/1.1" 200
2023-12-24 01:35:37.409 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 01:35:37.422 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 01:35:37.423 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM org_types;
2023-12-24 01:35:37.423 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 01:35:37.424 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59862 - "GET /role_types HTTP/1.1" 200
2023-12-24 01:35:37.424 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59863 - "GET /org_types HTTP/1.1" 200
2023-12-24 01:35:37.440 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 01:35:37.441 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 01:35:37.444 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59862 - "GET /role_types HTTP/1.1" 200
2023-12-24 01:35:37.465 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 01:35:37.466 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59862 - "GET /role_types HTTP/1.1" 200
2023-12-24 01:35:37.467 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 01:35:37.470 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 01:35:37.471 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 01:35:37.471 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 01:35:37.472 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 01:35:37.473 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59864 - "GET /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 01:35:37.481 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 01:35:37.482 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 01:35:37.484 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 01:35:37.486 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 01:35:37.489 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 01:35:37.498 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 01:35:37.498 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 01:35:37.499 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 01:35:37.500 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 01:35:37.500 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59864 - "GET /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 01:35:39.406 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 01:35:39.410 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 01:35:39.411 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59864 - "GET /role_types HTTP/1.1" 200
2023-12-24 01:35:39.417 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
    
2023-12-24 01:35:39.418 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59862 - "GET /permission_types HTTP/1.1" 200
2023-12-24 01:35:39.421 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
    
2023-12-24 01:35:39.426 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name,
        email
    FROM
        users;
    
2023-12-24 01:35:39.428 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 01:35:39.428 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 01:35:39.430 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59863 - "GET /org/out/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 01:35:39.431 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d';
        
2023-12-24 01:35:39.432 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59864 - "GET /role_types HTTP/1.1" 200
2023-12-24 01:35:39.434 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59862 - "GET /permission_types HTTP/1.1" 200
2023-12-24 01:35:39.442 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
    
2023-12-24 01:35:39.448 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name,
        email
    FROM
        users;
    
2023-12-24 01:35:39.450 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '109077c2-3552-4c47-9dea-fec85c0eae0f';
        
2023-12-24 01:35:39.453 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59863 - "GET /org/out/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 01:35:39.454 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59884 - "GET /org/in/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 01:35:39.462 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
    
2023-12-24 01:35:39.465 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d';
        
2023-12-24 01:35:39.467 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '109077c2-3552-4c47-9dea-fec85c0eae0f';
        
2023-12-24 01:35:39.471 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59884 - "GET /org/in/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 01:35:58.565 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO roles (type, user_id, org_id)
    VALUES (
        'RT01',
        '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00',
        '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
    )
    RETURNING id;
    
2023-12-24 01:35:58.588 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_code)
        VALUES (
            '35612b8c-6e47-4dfe-9fd4-7483348f5423',
            'P014'
        )
        
2023-12-24 01:35:58.596 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_code)
        VALUES (
            '35612b8c-6e47-4dfe-9fd4-7483348f5423',
            'P013'
        )
        
2023-12-24 01:35:58.605 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59971 - "POST /org/user?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 01:35:58.631 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
    
2023-12-24 01:35:58.636 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d';
        
2023-12-24 01:35:58.641 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '109077c2-3552-4c47-9dea-fec85c0eae0f';
        
2023-12-24 01:35:58.645 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '35612b8c-6e47-4dfe-9fd4-7483348f5423';
        
2023-12-24 01:35:58.647 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59971 - "GET /org/in/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 01:35:58.659 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 01:35:58.661 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 01:35:58.663 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 01:35:58.664 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 01:35:58.669 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 01:35:58.670 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 01:35:58.673 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 01:35:58.675 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 01:35:58.677 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 01:35:58.679 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59971 - "GET /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 01:36:13.233 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 01:36:13.235 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 01:36:13.238 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60036 - "GET /role_types HTTP/1.1" 200
2023-12-24 01:36:13.247 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60037 - "GET /permission_types HTTP/1.1" 200
2023-12-24 01:36:13.258 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
    
2023-12-24 01:36:13.262 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 01:36:13.263 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
    
2023-12-24 01:36:13.265 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 01:36:13.275 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60036 - "GET /role_types HTTP/1.1" 200
2023-12-24 01:36:13.281 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60037 - "GET /permission_types HTTP/1.1" 200
2023-12-24 01:36:13.283 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name,
        email
    FROM
        users;
    
2023-12-24 01:36:13.288 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60038 - "GET /org/out/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 01:36:13.291 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d';
        
2023-12-24 01:36:13.293 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
    
2023-12-24 01:36:13.295 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name,
        email
    FROM
        users;
    
2023-12-24 01:36:13.296 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60038 - "GET /org/out/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 01:36:13.298 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '109077c2-3552-4c47-9dea-fec85c0eae0f';
        
2023-12-24 01:36:13.299 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '35612b8c-6e47-4dfe-9fd4-7483348f5423';
        
2023-12-24 01:36:13.300 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60039 - "GET /org/in/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 01:36:13.304 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
    
2023-12-24 01:36:13.306 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d';
        
2023-12-24 01:36:13.307 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '109077c2-3552-4c47-9dea-fec85c0eae0f';
        
2023-12-24 01:36:13.308 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '35612b8c-6e47-4dfe-9fd4-7483348f5423';
        
2023-12-24 01:36:13.309 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60039 - "GET /org/in/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 01:36:28.961 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO roles (type, user_id, org_id)
    VALUES (
        'RT01',
        'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5',
        '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
    )
    RETURNING id;
    
2023-12-24 01:36:28.965 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_code)
        VALUES (
            '7d8d3db7-7c1f-4b37-b688-9b3c8ee7fc87',
            'P015'
        )
        
2023-12-24 01:36:28.968 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_code)
        VALUES (
            '7d8d3db7-7c1f-4b37-b688-9b3c8ee7fc87',
            'P016'
        )
        
2023-12-24 01:36:28.970 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_code)
        VALUES (
            '7d8d3db7-7c1f-4b37-b688-9b3c8ee7fc87',
            'P014'
        )
        
2023-12-24 01:36:28.970 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_code)
        VALUES (
            '7d8d3db7-7c1f-4b37-b688-9b3c8ee7fc87',
            'P013'
        )
        
2023-12-24 01:36:28.972 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60113 - "POST /org/user?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 01:36:28.987 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
    
2023-12-24 01:36:28.996 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d';
        
2023-12-24 01:36:29.001 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '109077c2-3552-4c47-9dea-fec85c0eae0f';
        
2023-12-24 01:36:29.003 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '35612b8c-6e47-4dfe-9fd4-7483348f5423';
        
2023-12-24 01:36:29.005 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '7d8d3db7-7c1f-4b37-b688-9b3c8ee7fc87';
        
2023-12-24 01:36:29.012 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60113 - "GET /org/in/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 01:36:29.022 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 01:36:29.026 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 01:36:29.028 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 01:36:29.029 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 01:36:29.033 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 01:36:29.035 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 01:36:29.039 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 01:36:29.041 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 01:36:29.044 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 01:36:29.046 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60113 - "GET /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 01:36:33.992 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM banks;
2023-12-24 01:36:33.993 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 01:36:33.995 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60139 - "GET /bank_types HTTP/1.1" 200
2023-12-24 01:36:33.996 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 01:36:33.997 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60113 - "GET /banks HTTP/1.1" 200
2023-12-24 01:36:34.005 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 01:36:34.012 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60139 - "GET /bank_types HTTP/1.1" 200
2023-12-24 01:36:34.013 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM banks;
2023-12-24 01:36:34.014 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as type,
        parents.id as org_id,
        parents.name as org_name
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    JOIN
        parents
        ON
        parents.id = roles.org_id;
    
2023-12-24 01:36:34.018 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60113 - "GET /banks HTTP/1.1" 200
2023-12-24 01:36:34.019 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60140 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 01:36:34.023 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 01:36:34.024 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as type,
        parents.id as org_id,
        parents.name as org_name
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    JOIN
        parents
        ON
        parents.id = roles.org_id;
    
2023-12-24 01:36:34.026 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60140 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 01:51:16.462 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 01:51:16.565 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 01:51:16.565 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 01:51:16.565 | INFO     | uvicorn.server:serve:86 - Finished server process [3010]
2023-12-24 01:52:29.124 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 02:06:00.179 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50971 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 02:06:00.180 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50972 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 02:06:00.181 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50973 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 02:06:00.181 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50971 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 02:06:00.181 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50974 - "OPTIONS /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:06:00.181 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50975 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 02:06:00.181 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50973 - "OPTIONS /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:06:00.182 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50976 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 02:06:00.188 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:06:00.188 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:06:00.189 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:06:00.191 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50974 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:06:00.191 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50972 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:06:00.195 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type,
        parents.id as org_id,
        parents.name as org_name
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    JOIN
        parents
        ON
        parents.id = roles.org_id;
    
2023-12-24 02:06:00.196 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:06:00.200 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50972 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:06:00.207 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:06:00.210 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50974 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:06:00.223 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d';
        
2023-12-24 02:06:00.230 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:06:00.232 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50974 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:06:00.238 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:06:00.238 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '109077c2-3552-4c47-9dea-fec85c0eae0f';
        
2023-12-24 02:06:00.239 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50974 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:06:00.240 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '35612b8c-6e47-4dfe-9fd4-7483348f5423';
        
2023-12-24 02:06:00.242 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '7d8d3db7-7c1f-4b37-b688-9b3c8ee7fc87';
        
2023-12-24 02:06:00.243 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50971 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:06:00.247 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:06:00.248 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type,
        parents.id as org_id,
        parents.name as org_name
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    JOIN
        parents
        ON
        parents.id = roles.org_id;
    
2023-12-24 02:06:00.250 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d';
        
2023-12-24 02:06:00.251 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '109077c2-3552-4c47-9dea-fec85c0eae0f';
        
2023-12-24 02:06:00.253 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '35612b8c-6e47-4dfe-9fd4-7483348f5423';
        
2023-12-24 02:06:00.254 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '7d8d3db7-7c1f-4b37-b688-9b3c8ee7fc87';
        
2023-12-24 02:06:00.255 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50971 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:07:45.869 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:07:45.870 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:07:45.873 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51426 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:07:45.874 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51425 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:07:45.874 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:07:45.894 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:07:45.899 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:07:45.899 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type,
        parents.id as org_id,
        parents.name as org_name
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    JOIN
        parents
        ON
        parents.id = roles.org_id;
    
2023-12-24 02:07:45.900 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51426 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:07:45.900 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51425 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:07:45.905 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:07:45.906 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d';
        
2023-12-24 02:07:45.906 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51425 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:07:45.910 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:07:45.911 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '109077c2-3552-4c47-9dea-fec85c0eae0f';
        
2023-12-24 02:07:45.912 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51425 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:07:45.913 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '35612b8c-6e47-4dfe-9fd4-7483348f5423';
        
2023-12-24 02:07:45.913 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '7d8d3db7-7c1f-4b37-b688-9b3c8ee7fc87';
        
2023-12-24 02:07:45.914 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51427 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:07:45.918 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:07:45.919 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type,
        parents.id as org_id,
        parents.name as org_name
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    JOIN
        parents
        ON
        parents.id = roles.org_id;
    
2023-12-24 02:07:45.920 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d';
        
2023-12-24 02:07:45.922 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '109077c2-3552-4c47-9dea-fec85c0eae0f';
        
2023-12-24 02:07:45.922 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '35612b8c-6e47-4dfe-9fd4-7483348f5423';
        
2023-12-24 02:07:45.923 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '7d8d3db7-7c1f-4b37-b688-9b3c8ee7fc87';
        
2023-12-24 02:07:45.924 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51427 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:07:54.866 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:07:54.867 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:07:54.867 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:07:54.872 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type,
        parents.id as org_id,
        parents.name as org_name
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    JOIN
        parents
        ON
        parents.id = roles.org_id;
    
2023-12-24 02:07:54.873 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51483 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:07:54.873 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51482 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:07:54.886 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:07:54.889 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:07:54.890 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51483 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:07:54.890 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d';
        
2023-12-24 02:07:54.890 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51482 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:07:54.895 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:07:54.896 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51482 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:07:54.897 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '109077c2-3552-4c47-9dea-fec85c0eae0f';
        
2023-12-24 02:07:54.902 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:07:54.904 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '35612b8c-6e47-4dfe-9fd4-7483348f5423';
        
2023-12-24 02:07:54.906 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51482 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:07:54.918 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '7d8d3db7-7c1f-4b37-b688-9b3c8ee7fc87';
        
2023-12-24 02:07:54.919 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51484 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:07:54.924 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:07:54.925 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type,
        parents.id as org_id,
        parents.name as org_name
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    JOIN
        parents
        ON
        parents.id = roles.org_id;
    
2023-12-24 02:07:54.927 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d';
        
2023-12-24 02:07:54.929 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '109077c2-3552-4c47-9dea-fec85c0eae0f';
        
2023-12-24 02:07:54.930 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '35612b8c-6e47-4dfe-9fd4-7483348f5423';
        
2023-12-24 02:07:54.930 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '7d8d3db7-7c1f-4b37-b688-9b3c8ee7fc87';
        
2023-12-24 02:07:54.931 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51484 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:17:18.955 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53779 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 02:17:18.956 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53780 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 02:17:18.956 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53781 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 02:17:18.956 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53782 - "OPTIONS /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:17:18.956 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53783 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 02:17:18.956 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53784 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 02:17:18.960 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53780 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 02:17:18.960 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53779 - "OPTIONS /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:17:18.977 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:17:18.977 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:17:18.981 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:17:18.981 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53781 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:17:18.982 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53782 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:17:18.996 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:17:18.999 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:17:19.001 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53781 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:17:19.005 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type,
        parents.id as org_id,
        parents.name as org_name
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    JOIN
        parents
        ON
        parents.id = roles.org_id;
    
2023-12-24 02:17:19.009 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53782 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:17:19.013 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d';
        
2023-12-24 02:17:19.015 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:17:19.017 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53781 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:17:19.018 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '109077c2-3552-4c47-9dea-fec85c0eae0f';
        
2023-12-24 02:17:19.025 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:17:19.026 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '35612b8c-6e47-4dfe-9fd4-7483348f5423';
        
2023-12-24 02:17:19.026 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53781 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:17:19.028 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '7d8d3db7-7c1f-4b37-b688-9b3c8ee7fc87';
        
2023-12-24 02:17:19.029 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53783 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:17:19.035 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:17:19.036 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type,
        parents.id as org_id,
        parents.name as org_name
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    JOIN
        parents
        ON
        parents.id = roles.org_id;
    
2023-12-24 02:17:19.038 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d';
        
2023-12-24 02:17:19.039 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '109077c2-3552-4c47-9dea-fec85c0eae0f';
        
2023-12-24 02:17:19.041 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '35612b8c-6e47-4dfe-9fd4-7483348f5423';
        
2023-12-24 02:17:19.042 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '7d8d3db7-7c1f-4b37-b688-9b3c8ee7fc87';
        
2023-12-24 02:17:19.042 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53783 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:17:21.307 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:17:21.309 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:17:21.310 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:17:21.311 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53783 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:17:21.312 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53781 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:17:21.318 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:17:21.320 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:17:21.322 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type,
        parents.id as org_id,
        parents.name as org_name
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    JOIN
        parents
        ON
        parents.id = roles.org_id;
    
2023-12-24 02:17:21.323 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53781 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:17:21.323 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53783 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:17:21.333 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:17:21.334 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d';
        
2023-12-24 02:17:21.338 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53783 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:17:21.357 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:17:21.357 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '109077c2-3552-4c47-9dea-fec85c0eae0f';
        
2023-12-24 02:17:21.358 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53783 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:17:21.359 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '35612b8c-6e47-4dfe-9fd4-7483348f5423';
        
2023-12-24 02:17:21.359 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '7d8d3db7-7c1f-4b37-b688-9b3c8ee7fc87';
        
2023-12-24 02:17:21.360 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53782 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:17:21.366 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:17:21.369 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type,
        parents.id as org_id,
        parents.name as org_name
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    JOIN
        parents
        ON
        parents.id = roles.org_id;
    
2023-12-24 02:17:21.372 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d';
        
2023-12-24 02:17:21.374 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '109077c2-3552-4c47-9dea-fec85c0eae0f';
        
2023-12-24 02:17:21.376 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '35612b8c-6e47-4dfe-9fd4-7483348f5423';
        
2023-12-24 02:17:21.377 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '7d8d3db7-7c1f-4b37-b688-9b3c8ee7fc87';
        
2023-12-24 02:17:21.379 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53782 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:19:40.741 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:19:40.742 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:19:40.755 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54398 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:19:40.755 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54399 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:19:40.757 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:19:40.772 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type,
        parents.id as org_id,
        parents.name as org_name
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    JOIN
        parents
        ON
        parents.id = roles.org_id;
    
2023-12-24 02:19:40.772 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:19:40.774 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d';
        
2023-12-24 02:19:40.774 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54398 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:19:40.774 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:19:40.776 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54399 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:19:40.781 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '109077c2-3552-4c47-9dea-fec85c0eae0f';
        
2023-12-24 02:19:40.782 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:19:40.783 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54399 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:19:40.784 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '35612b8c-6e47-4dfe-9fd4-7483348f5423';
        
2023-12-24 02:19:40.791 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:19:40.792 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '7d8d3db7-7c1f-4b37-b688-9b3c8ee7fc87';
        
2023-12-24 02:19:40.792 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54399 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:19:40.793 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54400 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:19:40.798 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:19:40.800 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type,
        parents.id as org_id,
        parents.name as org_name
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    JOIN
        parents
        ON
        parents.id = roles.org_id;
    
2023-12-24 02:19:40.801 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d';
        
2023-12-24 02:19:40.802 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '109077c2-3552-4c47-9dea-fec85c0eae0f';
        
2023-12-24 02:19:40.804 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '35612b8c-6e47-4dfe-9fd4-7483348f5423';
        
2023-12-24 02:19:40.805 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '7d8d3db7-7c1f-4b37-b688-9b3c8ee7fc87';
        
2023-12-24 02:19:40.806 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54400 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:20:30.252 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 02:20:30.354 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 02:20:30.355 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 02:20:30.355 | INFO     | uvicorn.server:serve:86 - Finished server process [3350]
2023-12-24 02:20:30.819 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 02:27:53.794 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 02:27:53.896 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 02:27:53.897 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 02:27:53.897 | INFO     | uvicorn.server:serve:86 - Finished server process [3869]
2023-12-24 02:27:54.394 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 02:30:24.915 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 02:30:25.017 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 02:30:25.018 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 02:30:25.018 | INFO     | uvicorn.server:serve:86 - Finished server process [3946]
2023-12-24 02:30:25.453 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 02:30:35.155 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 02:30:35.256 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 02:30:35.257 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 02:30:35.257 | INFO     | uvicorn.server:serve:86 - Finished server process [3971]
2023-12-24 02:30:35.665 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 02:32:07.077 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 02:32:07.178 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 02:32:07.179 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 02:32:07.179 | INFO     | uvicorn.server:serve:86 - Finished server process [3982]
2023-12-24 02:32:07.578 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 02:32:39.658 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57551 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 02:32:39.659 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57552 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 02:32:39.660 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57551 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 02:32:39.661 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57553 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 02:32:39.664 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57552 - "OPTIONS /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:32:39.665 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57554 - "OPTIONS /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:32:39.669 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57555 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 02:32:39.674 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57556 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 02:32:39.684 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:32:39.690 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57553 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:32:39.696 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:32:39.699 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:32:39.708 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57551 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:32:39.713 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:32:39.716 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57553 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:32:39.717 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT DISTINCT
        users.id as id,
        users.name as name,
        users.email as email
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    JOIN
        parents
        ON
        parents.id = roles.org_id;
    
2023-12-24 02:32:39.717 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:32:39.723 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57551 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:32:39.723 | ERROR    | app.endpoints.users:new_user:47 - 'role_id'Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104d699d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104ae7430>
           └ <SpawnProcess name='SpawnProcess-47' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104adba60>
    └ <SpawnProcess name='SpawnProcess-47' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104d45b20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-47' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-47' parent=96820 started>
    │    └ <function subprocess_started at 0x1071faa60>
    └ <SpawnProcess name='SpawnProcess-47' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104d45f70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1071fa040>
           │       │   └ <uvicorn.server.Server object at 0x104d45f70>
           │       └ <function run at 0x104da7790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1071ee8c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x107245c10>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074d8820>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074d88...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1073248e0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x107245c10>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074d8820>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074d88...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074d8820>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074d88...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1074650d0>
          └ <fastapi.applications.FastAPI object at 0x1073248e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1074593a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074d88...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x107465070>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1074650d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1074593a0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074d88...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x1069a3940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107465070>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x107465070>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074d88...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107465040>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107465070>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107321820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074d88...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107338fd0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107465040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107321820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074d88...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x107324a00>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107338fd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107321820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074d88...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1068fb940>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107321820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074d88...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10733b4c0>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10748ffa0>
                     └ <function get_request_handler.<locals>.app at 0x10733b430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1068da5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x10720dd30>, 'role_id': 'e2fa169b-f1d0-4564-b970-e6de28475a8d'}
                 │         └ <function new_user at 0x1070d1dc0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1074561f0>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/users.py", line 41, in new_user
    users = await users_crud.query_users(db, role_id)
                  │          │           │   └ 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
                  │          │           └ <providers.psql_provider.DB object at 0x10720dd30>
                  │          └ <function query_users at 0x1070d15e0>
                  └ <module 'app.crud.users_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py", line 76, in query_users
    roles.id = '{basic_user["role_id"]}';

KeyError: 'role_id'

2023-12-24 02:32:39.734 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57552 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 500
2023-12-24 02:32:39.738 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:32:39.741 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57553 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:32:39.743 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:32:39.744 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT DISTINCT
        users.id as id,
        users.name as name,
        users.email as email
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    JOIN
        parents
        ON
        parents.id = roles.org_id;
    
2023-12-24 02:32:39.746 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:32:39.746 | ERROR    | app.endpoints.users:new_user:47 - 'role_id'Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104d699d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104ae7430>
           └ <SpawnProcess name='SpawnProcess-47' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104adba60>
    └ <SpawnProcess name='SpawnProcess-47' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104d45b20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-47' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-47' parent=96820 started>
    │    └ <function subprocess_started at 0x1071faa60>
    └ <SpawnProcess name='SpawnProcess-47' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104d45f70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1071fa040>
           │       │   └ <uvicorn.server.Server object at 0x104d45f70>
           │       └ <function run at 0x104da7790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1071ee8c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x107245c10>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10733dd90>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10733dd...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1073248e0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x107245c10>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10733dd90>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10733dd...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10733dd90>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10733dd...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1074650d0>
          └ <fastapi.applications.FastAPI object at 0x1073248e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107321820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10733dd...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x107465070>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1074650d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107321820>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10733dd...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x1069a3940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107465070>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x107465070>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10733dd...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107465040>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107465070>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10733bca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10733dd...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107338fd0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107465040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10733bca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10733dd...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x107324a00>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107338fd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10733bca0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10733dd...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1068fb940>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10733bca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10733dd...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10733b4c0>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1074d8a30>
                     └ <function get_request_handler.<locals>.app at 0x10733b430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1068da5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x10720dd30>, 'role_id': 'e2fa169b-f1d0-4564-b970-e6de28475a8d'}
                 │         └ <function new_user at 0x1070d1dc0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1074561f0>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/users.py", line 41, in new_user
    users = await users_crud.query_users(db, role_id)
                  │          │           │   └ 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
                  │          │           └ <providers.psql_provider.DB object at 0x10720dd30>
                  │          └ <function query_users at 0x1070d15e0>
                  └ <module 'app.crud.users_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py", line 76, in query_users
    roles.id = '{basic_user["role_id"]}';

KeyError: 'role_id'

2023-12-24 02:32:39.751 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57552 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 500
2023-12-24 02:32:39.752 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57553 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:33:20.686 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 02:33:20.788 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 02:33:20.789 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 02:33:20.789 | INFO     | uvicorn.server:serve:86 - Finished server process [4002]
2023-12-24 02:33:21.211 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 02:33:27.612 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:33:27.613 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:33:27.617 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57769 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:33:27.629 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:33:27.631 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57770 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:33:27.640 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:33:27.645 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57769 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:33:27.645 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:33:27.646 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT DISTINCT
        users.id as id,
        users.name as name,
        users.email as email
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    JOIN
        parents
        ON
        parents.id = roles.org_id;
    
2023-12-24 02:33:27.651 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57770 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:33:27.652 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:33:27.656 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57769 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:33:27.664 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.id as id,
            roles.type as type,
            parents.id as org_id,
            parents.name as org_name
        FROM
            roles
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            roles.user_id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 02:33:27.668 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:33:27.669 | ERROR    | app.endpoints.users:new_user:47 - missing FROM-clause entry for table "parents"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1014489d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1011c7430>
           └ <SpawnProcess name='SpawnProcess-48' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1011bba60>
    └ <SpawnProcess name='SpawnProcess-48' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x101425b20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-48' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-48' parent=96820 started>
    │    └ <function subprocess_started at 0x1038dba60>
    └ <SpawnProcess name='SpawnProcess-48' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x101425f70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1038db040>
           │       │   └ <uvicorn.server.Server object at 0x101425f70>
           │       └ <function run at 0x101487790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1038ce8c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1039208b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103bb1730>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103bb17...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x103a04670>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1039208b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103bb1730>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103bb17...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103bb1730>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103bb17...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x103b3c610>
          └ <fastapi.applications.FastAPI object at 0x103a04670>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103b39ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103bb17...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x103b3c760>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x103b3c610>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103b39ca0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103bb17...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x103083940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x103b3c760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x103b3c760>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103bb17...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x103b3c640>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x103b3c760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103b39d30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103bb17...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x103b3c430>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x103b3c640>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103b39d30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103bb17...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x103a04790>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x103b3c430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103b39d30>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103bb17...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x102fdb940>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103b39d30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103bb17...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103a1b4c0>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x103bb1940>
                     └ <function get_request_handler.<locals>.app at 0x103a1b430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x102fba5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1038eeac0>, 'role_id': 'e2fa169b-f1d0-4564-b970-e6de28475a8d'}
                 │         └ <function new_user at 0x1037b1dc0>
                 └ <fastapi.dependencies.models.Dependant object at 0x103a146a0>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/users.py", line 41, in new_user
    users = await users_crud.query_users(db, role_id)
                  │          │           │   └ 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
                  │          │           └ <providers.psql_provider.DB object at 0x1038eeac0>
                  │          └ <function query_users at 0x1037b15e0>
                  └ <module 'app.crud.users_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py", line 78, in query_users
    roles = await db.fetch_all(sql)
                  │  │         └ "\n        SELECT\n            roles.id as id,\n            roles.type as type,\n            parents.id as org_id,\n         ...
                  │  └ <function DB.fetch_all at 0x10347fb80>
                  └ <providers.psql_provider.DB object at 0x1038eeac0>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n        SELECT\n            roles.id as id,\n            roles.type as type,\n            parents.id as org_id,\n         ...
                   │   └ <function Connection.fetch at 0x1031ddee0>
                   └ <PoolConnectionProxy [released] 0x103bb1370>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x1031d2040>
                 └ <asyncpg.connection.Connection object at 0x103bcf040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x103bcf040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1031d2430>
                         └ <asyncpg.connection.Connection object at 0x103bcf040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1031cf550>
                 └ <asyncpg.connection.Connection object at 0x103bcf040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x103bcf040>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.UndefinedTableError: missing FROM-clause entry for table "parents"

2023-12-24 02:33:27.691 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57771 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 500
2023-12-24 02:33:27.693 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57769 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:33:27.697 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:33:27.699 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT DISTINCT
        users.id as id,
        users.name as name,
        users.email as email
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    JOIN
        parents
        ON
        parents.id = roles.org_id;
    
2023-12-24 02:33:27.701 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.id as id,
            roles.type as type,
            parents.id as org_id,
            parents.name as org_name
        FROM
            roles
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            roles.user_id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 02:33:27.702 | ERROR    | app.endpoints.users:new_user:47 - missing FROM-clause entry for table "parents"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1014489d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1011c7430>
           └ <SpawnProcess name='SpawnProcess-48' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1011bba60>
    └ <SpawnProcess name='SpawnProcess-48' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x101425b20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-48' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-48' parent=96820 started>
    │    └ <function subprocess_started at 0x1038dba60>
    └ <SpawnProcess name='SpawnProcess-48' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x101425f70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1038db040>
           │       │   └ <uvicorn.server.Server object at 0x101425f70>
           │       └ <function run at 0x101487790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1038ce8c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1039208b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103bb12b0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103bb12...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x103a04670>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1039208b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103bb12b0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103bb12...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103bb12b0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103bb12...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x103b3c610>
          └ <fastapi.applications.FastAPI object at 0x103a04670>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103b39ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103bb12...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x103b3c760>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x103b3c610>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103b39ca0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103bb12...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x103083940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x103b3c760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x103b3c760>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103bb12...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x103b3c640>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x103b3c760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103a1b820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103bb12...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x103b3c430>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x103b3c640>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103a1b820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103bb12...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x103a04790>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x103b3c430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103a1b820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103bb12...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x102fdb940>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103a1b820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103bb12...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103a1b4c0>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x103bb1550>
                     └ <function get_request_handler.<locals>.app at 0x103a1b430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x102fba5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1038eeac0>, 'role_id': 'e2fa169b-f1d0-4564-b970-e6de28475a8d'}
                 │         └ <function new_user at 0x1037b1dc0>
                 └ <fastapi.dependencies.models.Dependant object at 0x103a146a0>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/users.py", line 41, in new_user
    users = await users_crud.query_users(db, role_id)
                  │          │           │   └ 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
                  │          │           └ <providers.psql_provider.DB object at 0x1038eeac0>
                  │          └ <function query_users at 0x1037b15e0>
                  └ <module 'app.crud.users_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py", line 78, in query_users
    roles = await db.fetch_all(sql)
                  │  │         └ "\n        SELECT\n            roles.id as id,\n            roles.type as type,\n            parents.id as org_id,\n         ...
                  │  └ <function DB.fetch_all at 0x10347fb80>
                  └ <providers.psql_provider.DB object at 0x1038eeac0>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n        SELECT\n            roles.id as id,\n            roles.type as type,\n            parents.id as org_id,\n         ...
                   │   └ <function Connection.fetch at 0x1031ddee0>
                   └ <PoolConnectionProxy [released] 0x103b54e50>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x1031d2040>
                 └ <asyncpg.connection.Connection object at 0x103c936d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x103c936d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1031d2430>
                         └ <asyncpg.connection.Connection object at 0x103c936d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1031cf550>
                 └ <asyncpg.connection.Connection object at 0x103c936d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x103c936d0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.UndefinedTableError: missing FROM-clause entry for table "parents"

2023-12-24 02:33:27.707 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57771 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 500
2023-12-24 02:35:16.702 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 02:35:16.803 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 02:35:16.804 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 02:35:16.804 | INFO     | uvicorn.server:serve:86 - Finished server process [4032]
2023-12-24 02:35:17.202 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 02:35:25.488 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:35:25.491 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:35:25.498 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:35:25.500 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58260 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:35:25.501 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58259 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:35:25.515 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:35:25.516 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:35:25.521 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT DISTINCT
        users.id as id,
        users.name as name,
        users.email as email
    FROM
        parents
    JOIN
        roles
        ON
        roles.org_id = parents.id
    JOIN
        users
        ON
        users.id = roles.user_id;
    
2023-12-24 02:35:25.528 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58259 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:35:25.529 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58260 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:35:25.535 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:35:25.536 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58259 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:35:25.538 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.id as id,
            roles.type as type,
            parents.id as org_id,
            parents.name as org_name
        FROM
            roles
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            roles.user_id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 02:35:25.539 | ERROR    | app.endpoints.users:new_user:47 - missing FROM-clause entry for table "parents"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1008f99d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x100677430>
           └ <SpawnProcess name='SpawnProcess-49' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10066ba60>
    └ <SpawnProcess name='SpawnProcess-49' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1008d5b20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-49' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-49' parent=96820 started>
    │    └ <function subprocess_started at 0x102d8aa60>
    └ <SpawnProcess name='SpawnProcess-49' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1008d5f70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102d8a040>
           │       │   └ <uvicorn.server.Server object at 0x1008d5f70>
           │       └ <function run at 0x100937790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102d7e8c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102dd5c10>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10301e9a0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10301e9...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x102eb48e0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102dd5c10>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10301e9a0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10301e9...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10301e9a0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10301e9...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x102ff50d0>
          └ <fastapi.applications.FastAPI object at 0x102eb48e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x102fe9ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10301e9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x102ff5070>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x102ff50d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x102fe9ca0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10301e9...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x102533940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x102ff5070>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x102ff5070>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10301e9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x102ff5040>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x102ff5070>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x102fe9d30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10301e9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x102ec8fd0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x102ff5040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x102fe9d30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10301e9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x102eb4a00>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x102ec8fd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x102fe9d30>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10301e9...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10248b940>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x102fe9d30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10301e9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x102ecb4c0>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10301ebb0>
                     └ <function get_request_handler.<locals>.app at 0x102ecb430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10246a5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102d9dd30>, 'role_id': 'e2fa169b-f1d0-4564-b970-e6de28475a8d'}
                 │         └ <function new_user at 0x102c61dc0>
                 └ <fastapi.dependencies.models.Dependant object at 0x102fe61f0>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/users.py", line 41, in new_user
    users = await users_crud.query_users(db, role_id)
                  │          │           │   └ 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
                  │          │           └ <providers.psql_provider.DB object at 0x102d9dd30>
                  │          └ <function query_users at 0x102c615e0>
                  └ <module 'app.crud.users_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py", line 78, in query_users
    roles = await db.fetch_all(sql)
                  │  │         └ "\n        SELECT\n            roles.id as id,\n            roles.type as type,\n            parents.id as org_id,\n         ...
                  │  └ <function DB.fetch_all at 0x1029308b0>
                  └ <providers.psql_provider.DB object at 0x102d9dd30>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n        SELECT\n            roles.id as id,\n            roles.type as type,\n            parents.id as org_id,\n         ...
                   │   └ <function Connection.fetch at 0x10268dee0>
                   └ <PoolConnectionProxy [released] 0x103066a90>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x102682040>
                 └ <asyncpg.connection.Connection object at 0x103080040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x103080040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x102682430>
                         └ <asyncpg.connection.Connection object at 0x103080040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x10267f550>
                 └ <asyncpg.connection.Connection object at 0x103080040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x103080040>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.UndefinedTableError: missing FROM-clause entry for table "parents"

2023-12-24 02:35:25.548 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58261 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 500
2023-12-24 02:35:25.551 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:35:25.555 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58259 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:35:25.557 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:35:25.558 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT DISTINCT
        users.id as id,
        users.name as name,
        users.email as email
    FROM
        parents
    JOIN
        roles
        ON
        roles.org_id = parents.id
    JOIN
        users
        ON
        users.id = roles.user_id;
    
2023-12-24 02:35:25.561 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.id as id,
            roles.type as type,
            parents.id as org_id,
            parents.name as org_name
        FROM
            roles
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            roles.user_id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 02:35:25.561 | ERROR    | app.endpoints.users:new_user:47 - missing FROM-clause entry for table "parents"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1008f99d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x100677430>
           └ <SpawnProcess name='SpawnProcess-49' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10066ba60>
    └ <SpawnProcess name='SpawnProcess-49' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1008d5b20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-49' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-49' parent=96820 started>
    │    └ <function subprocess_started at 0x102d8aa60>
    └ <SpawnProcess name='SpawnProcess-49' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1008d5f70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102d8a040>
           │       │   └ <uvicorn.server.Server object at 0x1008d5f70>
           │       └ <function run at 0x100937790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102d7e8c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102dd5c10>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10301e0d0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10301e0...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x102eb48e0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102dd5c10>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10301e0d0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10301e0...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10301e0d0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10301e0...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x102ff50d0>
          └ <fastapi.applications.FastAPI object at 0x102eb48e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x102fe9ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10301e0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x102ff5070>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x102ff50d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x102fe9ca0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10301e0...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x102533940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x102ff5070>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x102ff5070>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10301e0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x102ff5040>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x102ff5070>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x102ecb820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10301e0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x102ec8fd0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x102ff5040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x102ecb820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10301e0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x102eb4a00>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x102ec8fd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x102ecb820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10301e0...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10248b940>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x102ecb820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10301e0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x102ecb4c0>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10301e7c0>
                     └ <function get_request_handler.<locals>.app at 0x102ecb430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10246a5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102d9dd30>, 'role_id': 'e2fa169b-f1d0-4564-b970-e6de28475a8d'}
                 │         └ <function new_user at 0x102c61dc0>
                 └ <fastapi.dependencies.models.Dependant object at 0x102fe61f0>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/users.py", line 41, in new_user
    users = await users_crud.query_users(db, role_id)
                  │          │           │   └ 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
                  │          │           └ <providers.psql_provider.DB object at 0x102d9dd30>
                  │          └ <function query_users at 0x102c615e0>
                  └ <module 'app.crud.users_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py", line 78, in query_users
    roles = await db.fetch_all(sql)
                  │  │         └ "\n        SELECT\n            roles.id as id,\n            roles.type as type,\n            parents.id as org_id,\n         ...
                  │  └ <function DB.fetch_all at 0x1029308b0>
                  └ <providers.psql_provider.DB object at 0x102d9dd30>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n        SELECT\n            roles.id as id,\n            roles.type as type,\n            parents.id as org_id,\n         ...
                   │   └ <function Connection.fetch at 0x10268dee0>
                   └ <PoolConnectionProxy [released] 0x102fec730>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x102682040>
                 └ <asyncpg.connection.Connection object at 0x1031474f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1031474f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x102682430>
                         └ <asyncpg.connection.Connection object at 0x1031474f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x10267f550>
                 └ <asyncpg.connection.Connection object at 0x1031474f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1031474f0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.UndefinedTableError: missing FROM-clause entry for table "parents"

2023-12-24 02:35:25.567 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58261 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 500
2023-12-24 02:52:01.784 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 02:52:01.885 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 02:52:01.886 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 02:52:01.886 | INFO     | uvicorn.server:serve:86 - Finished server process [4067]
2023-12-24 02:52:02.285 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 02:52:31.149 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62383 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 02:52:31.149 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62384 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 02:52:31.149 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62385 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 02:52:31.149 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62386 - "OPTIONS /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:52:31.150 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62387 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 02:52:31.150 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62388 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 02:52:31.151 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62383 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 02:52:31.152 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62385 - "OPTIONS /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:52:31.162 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:52:31.162 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:52:31.163 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:52:31.165 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62386 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:52:31.165 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62384 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:52:31.166 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 02:52:31.178 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:52:31.178 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:52:31.181 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62384 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:52:31.181 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 02:52:31.182 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62386 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:52:31.183 | ERROR    | app.endpoints.users:new_user:47 - syntax error at or near "users"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1048919d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10460f430>
           └ <SpawnProcess name='SpawnProcess-50' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104603a60>
    └ <SpawnProcess name='SpawnProcess-50' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10486db20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-50' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-50' parent=96820 started>
    │    └ <function subprocess_started at 0x107a4ea60>
    └ <SpawnProcess name='SpawnProcess-50' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10486df70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x107a4e040>
           │       │   └ <uvicorn.server.Server object at 0x10486df70>
           │       └ <function run at 0x1048cf790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x107a428c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x107a98be0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107b7a610>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107b7a6...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x107b798e0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x107a98be0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107b7a610>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107b7a6...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107b7a610>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107b7a6...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107b7a340>
          └ <fastapi.applications.FastAPI object at 0x107b798e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107b90c10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107b7a6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x107b7a2e0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107b7a340>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107b90c10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107b7a6...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x1070f7940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107b7a2e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x107b7a2e0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107b7a6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107b7a2b0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107b7a2e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107b90ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107b7a6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107b7a250>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107b7a2b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107b90ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107b7a6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x107b79a00>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107b7a250>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107b90ca0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107b7a6...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10704f940>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107b90ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107b7a6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x107eb18b0>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x110046730>
                     └ <function get_request_handler.<locals>.app at 0x107eb1940>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10702e5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x107a60d30>, 'role_id': 'e2fa169b-f1d0-4564-b970-e6de28475a8d'}
                 │         └ <function new_user at 0x107924dc0>
                 └ <fastapi.dependencies.models.Dependant object at 0x107eb46d0>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/users.py", line 41, in new_user
    users = await users_crud.query_users(db, role_id)
                  │          │           │   └ 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
                  │          │           └ <providers.psql_provider.DB object at 0x107a60d30>
                  │          └ <function query_users at 0x1079245e0>
                  └ <module 'app.crud.users_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py", line 72, in query_users
    user = await db.fetch_all(sql)
                 │  │         └ "\n        SELECT\n            users.id as id,\n            users.name as name\n            users.email as email\n        FRO...
                 │  └ <function DB.fetch_all at 0x1075f6af0>
                 └ <providers.psql_provider.DB object at 0x107a60d30>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n        SELECT\n            users.id as id,\n            users.name as name\n            users.email as email\n        FRO...
                   │   └ <function Connection.fetch at 0x107351ee0>
                   └ <PoolConnectionProxy [released] 0x107ee3e80>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x107346040>
                 └ <asyncpg.connection.Connection object at 0x11005e130>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x11005e130>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x107346430>
                         └ <asyncpg.connection.Connection object at 0x11005e130>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x107343550>
                 └ <asyncpg.connection.Connection object at 0x11005e130>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x11005e130>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.PostgresSyntaxError: syntax error at or near "users"

2023-12-24 02:52:31.196 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62387 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 500
2023-12-24 02:52:31.200 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:52:31.203 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62384 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:52:31.205 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:52:31.208 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 02:52:31.213 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:52:31.216 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62384 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:52:31.219 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 02:52:31.221 | ERROR    | app.endpoints.users:new_user:47 - syntax error at or near "users"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1048919d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10460f430>
           └ <SpawnProcess name='SpawnProcess-50' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104603a60>
    └ <SpawnProcess name='SpawnProcess-50' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10486db20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-50' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-50' parent=96820 started>
    │    └ <function subprocess_started at 0x107a4ea60>
    └ <SpawnProcess name='SpawnProcess-50' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10486df70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x107a4e040>
           │       │   └ <uvicorn.server.Server object at 0x10486df70>
           │       └ <function run at 0x1048cf790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x107a428c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x107a98be0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11004f6d0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11004f6...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x107b798e0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x107a98be0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11004f6d0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11004f6...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11004f6d0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11004f6...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107b7a340>
          └ <fastapi.applications.FastAPI object at 0x107b798e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107b90c10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11004f6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x107b7a2e0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107b7a340>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107b90c10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11004f6...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x1070f7940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107b7a2e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x107b7a2e0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11004f6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107b7a2b0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107b7a2e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107b90ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11004f6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107b7a250>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107b7a2b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107b90ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11004f6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x107b79a00>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107b7a250>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107b90ca0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11004f6...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10704f940>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107b90ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11004f6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x107eb18b0>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x11004f430>
                     └ <function get_request_handler.<locals>.app at 0x107eb1940>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10702e5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x107a60d30>, 'role_id': 'e2fa169b-f1d0-4564-b970-e6de28475a8d'}
                 │         └ <function new_user at 0x107924dc0>
                 └ <fastapi.dependencies.models.Dependant object at 0x107eb46d0>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/users.py", line 41, in new_user
    users = await users_crud.query_users(db, role_id)
                  │          │           │   └ 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
                  │          │           └ <providers.psql_provider.DB object at 0x107a60d30>
                  │          └ <function query_users at 0x1079245e0>
                  └ <module 'app.crud.users_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py", line 72, in query_users
    user = await db.fetch_all(sql)
                 │  │         └ "\n        SELECT\n            users.id as id,\n            users.name as name\n            users.email as email\n        FRO...
                 │  └ <function DB.fetch_all at 0x1075f6af0>
                 └ <providers.psql_provider.DB object at 0x107a60d30>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n        SELECT\n            users.id as id,\n            users.name as name\n            users.email as email\n        FRO...
                   │   └ <function Connection.fetch at 0x107351ee0>
                   └ <PoolConnectionProxy [released] 0x107b87f70>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x107346040>
                 └ <asyncpg.connection.Connection object at 0x1105208b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1105208b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x107346430>
                         └ <asyncpg.connection.Connection object at 0x1105208b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x107343550>
                 └ <asyncpg.connection.Connection object at 0x1105208b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1105208b0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.PostgresSyntaxError: syntax error at or near "users"

2023-12-24 02:52:31.226 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62387 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 500
2023-12-24 02:52:46.558 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 02:52:46.659 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 02:52:46.660 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 02:52:46.660 | INFO     | uvicorn.server:serve:86 - Finished server process [4200]
2023-12-24 02:52:47.116 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 02:52:54.100 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:52:54.106 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:52:54.112 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62504 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:52:54.119 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62503 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:52:54.122 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:52:54.174 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:52:54.174 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:52:54.176 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62503 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:52:54.177 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62504 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:52:54.177 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 02:52:54.193 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:52:54.195 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62503 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:52:54.196 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 02:52:54.209 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:52:54.210 | ERROR    | app.endpoints.users:new_user:47 - list indices must be integers or slices, not strTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x102f999d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102d17430>
           └ <SpawnProcess name='SpawnProcess-51' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102d0ba60>
    └ <SpawnProcess name='SpawnProcess-51' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102f75b20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-51' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-51' parent=96820 started>
    │    └ <function subprocess_started at 0x10542ba60>
    └ <SpawnProcess name='SpawnProcess-51' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102f75f70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x10542b040>
           │       │   └ <uvicorn.server.Server object at 0x102f75f70>
           │       └ <function run at 0x102fd7790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10541e8c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1054788b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056bc5b0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056bc5...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x105554670>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1054788b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056bc5b0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056bc5...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056bc5b0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056bc5...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1056920d0>
          └ <fastapi.applications.FastAPI object at 0x105554670>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10556b9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056bc5...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x105692070>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1056920d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10556b9d0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056bc5...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x104bd3940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x105692070>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x105692070>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056bc5...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x105692040>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x105692070>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10556ba60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056bc5...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10568cfa0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x105692040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10556ba60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056bc5...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x105554790>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10568cfa0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10556ba60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056bc5...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x104b2b940>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10556ba60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056bc5...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1056898b0>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1056bc7c0>
                     └ <function get_request_handler.<locals>.app at 0x105689940>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104b0a5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x10543eac0>, 'role_id': 'e2fa169b-f1d0-4564-b970-e6de28475a8d'}
                 │         └ <function new_user at 0x105301dc0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10568c310>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/users.py", line 41, in new_user
    users = await users_crud.query_users(db, role_id)
                  │          │           │   └ 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
                  │          │           └ <providers.psql_provider.DB object at 0x10543eac0>
                  │          └ <function query_users at 0x1053015e0>
                  └ <module 'app.crud.users_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py", line 73, in query_users
    if user["id"] in user_ids:
       │             └ []
       └ [{'id': '051260d6-5952-4a97-b37a-4630f09937f3', 'name': '山田一郎', 'email': '001@demo.com'}, {'id': '623421cd-b1fc-4efd-976b-b6e...

TypeError: list indices must be integers or slices, not str

2023-12-24 02:52:54.230 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62505 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 500
2023-12-24 02:52:54.236 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62503 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:52:54.239 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:52:54.240 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 02:52:54.241 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 02:52:54.241 | ERROR    | app.endpoints.users:new_user:47 - list indices must be integers or slices, not strTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x102f999d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102d17430>
           └ <SpawnProcess name='SpawnProcess-51' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102d0ba60>
    └ <SpawnProcess name='SpawnProcess-51' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102f75b20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-51' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-51' parent=96820 started>
    │    └ <function subprocess_started at 0x10542ba60>
    └ <SpawnProcess name='SpawnProcess-51' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102f75f70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x10542b040>
           │       │   └ <uvicorn.server.Server object at 0x102f75f70>
           │       └ <function run at 0x102fd7790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10541e8c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1054788b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056bc670>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056bc6...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x105554670>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1054788b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056bc670>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056bc6...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056bc670>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056bc6...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1056920d0>
          └ <fastapi.applications.FastAPI object at 0x105554670>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10556b9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056bc6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x105692070>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1056920d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10556b9d0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056bc6...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x104bd3940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x105692070>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x105692070>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056bc6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x105692040>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x105692070>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10556b670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056bc6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10568cfa0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x105692040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10556b670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056bc6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x105554790>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10568cfa0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10556b670>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056bc6...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x104b2b940>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10556b670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056bc6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1056898b0>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1056bc3a0>
                     └ <function get_request_handler.<locals>.app at 0x105689940>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104b0a5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x10543eac0>, 'role_id': 'e2fa169b-f1d0-4564-b970-e6de28475a8d'}
                 │         └ <function new_user at 0x105301dc0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10568c310>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/users.py", line 41, in new_user
    users = await users_crud.query_users(db, role_id)
                  │          │           │   └ 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
                  │          │           └ <providers.psql_provider.DB object at 0x10543eac0>
                  │          └ <function query_users at 0x1053015e0>
                  └ <module 'app.crud.users_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py", line 73, in query_users
    if user["id"] in user_ids:
       │             └ []
       └ [{'id': '051260d6-5952-4a97-b37a-4630f09937f3', 'name': '山田一郎', 'email': '001@demo.com'}, {'id': '623421cd-b1fc-4efd-976b-b6e...

TypeError: list indices must be integers or slices, not str

2023-12-24 02:52:54.246 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62505 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 500
2023-12-24 02:53:29.836 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 02:53:29.938 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 02:53:29.940 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 02:53:29.941 | INFO     | uvicorn.server:serve:86 - Finished server process [4235]
2023-12-24 02:53:30.362 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 02:53:40.183 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:53:40.183 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:53:40.185 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62705 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:53:40.186 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62706 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:53:40.187 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:53:40.208 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:53:40.212 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:53:40.212 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 02:53:40.213 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62705 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:53:40.213 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62706 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:53:40.222 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:53:40.225 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62705 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:53:40.226 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 02:53:40.235 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:53:40.236 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 02:53:40.236 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62705 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:53:40.238 | ERROR    | app.endpoints.users:new_user:47 - 'NoneType' object is not subscriptableTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100b559d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1008d3430>
           └ <SpawnProcess name='SpawnProcess-52' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1008c7a60>
    └ <SpawnProcess name='SpawnProcess-52' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100b31b20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-52' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-52' parent=96820 started>
    │    └ <function subprocess_started at 0x102fe6a60>
    └ <SpawnProcess name='SpawnProcess-52' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100b31f70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102fe6040>
           │       │   └ <uvicorn.server.Server object at 0x100b31f70>
           │       └ <function run at 0x100b93790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102fda8c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103031be0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103114d30>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103114d...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x103111880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103031be0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103114d30>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103114d...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103114d30>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103114d...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1031142e0>
          └ <fastapi.applications.FastAPI object at 0x103111880>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103127940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103114d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x103114280>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1031142e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103127940>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103114d...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10278f940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x103114280>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x103114280>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103114d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x103114250>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x103114280>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1031279d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103114d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1031141f0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x103114250>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1031279d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103114d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1031119a0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1031141f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1031279d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103114d...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1026e7940>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1031279d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103114d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1032458b0>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1032769a0>
                     └ <function get_request_handler.<locals>.app at 0x103245940>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1026c65e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102ff9cd0>, 'role_id': 'e2fa169b-f1d0-4564-b970-e6de28475a8d'}
                 │         └ <function new_user at 0x102ebddc0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1032486a0>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/users.py", line 41, in new_user
    users = await users_crud.query_users(db, role_id)
                  │          │           │   └ 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
                  │          │           └ <providers.psql_provider.DB object at 0x102ff9cd0>
                  │          └ <function query_users at 0x102ebd5e0>
                  └ <module 'app.crud.users_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py", line 73, in query_users
    if user["id"] in user_ids:
       │             └ ['051260d6-5952-4a97-b37a-4630f09937f3']
       └ None

TypeError: 'NoneType' object is not subscriptable

2023-12-24 02:53:40.245 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62707 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 500
2023-12-24 02:53:40.253 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:53:40.255 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 02:53:40.256 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 02:53:40.257 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 02:53:40.259 | ERROR    | app.endpoints.users:new_user:47 - 'NoneType' object is not subscriptableTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100b559d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1008d3430>
           └ <SpawnProcess name='SpawnProcess-52' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1008c7a60>
    └ <SpawnProcess name='SpawnProcess-52' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100b31b20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-52' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-52' parent=96820 started>
    │    └ <function subprocess_started at 0x102fe6a60>
    └ <SpawnProcess name='SpawnProcess-52' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100b31f70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102fe6040>
           │       │   └ <uvicorn.server.Server object at 0x100b31f70>
           │       └ <function run at 0x100b93790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102fda8c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103031be0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103276a00>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103276a...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x103111880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103031be0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103276a00>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103276a...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103276a00>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103276a...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1031142e0>
          └ <fastapi.applications.FastAPI object at 0x103111880>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103127940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103276a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x103114280>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1031142e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103127940>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103276a...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10278f940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x103114280>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x103114280>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103276a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x103114250>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x103114280>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1031279d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103276a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1031141f0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x103114250>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1031279d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103276a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1031119a0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1031141f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1031279d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103276a...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1026e7940>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1031279d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103276a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1032458b0>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10323daf0>
                     └ <function get_request_handler.<locals>.app at 0x103245940>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1026c65e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102ff9cd0>, 'role_id': 'e2fa169b-f1d0-4564-b970-e6de28475a8d'}
                 │         └ <function new_user at 0x102ebddc0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1032486a0>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/users.py", line 41, in new_user
    users = await users_crud.query_users(db, role_id)
                  │          │           │   └ 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
                  │          │           └ <providers.psql_provider.DB object at 0x102ff9cd0>
                  │          └ <function query_users at 0x102ebd5e0>
                  └ <module 'app.crud.users_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py", line 73, in query_users
    if user["id"] in user_ids:
       │             └ ['051260d6-5952-4a97-b37a-4630f09937f3']
       └ None

TypeError: 'NoneType' object is not subscriptable

2023-12-24 02:53:40.264 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62707 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 500
2023-12-24 02:54:36.224 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 02:54:36.325 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 02:54:36.326 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 02:54:36.326 | INFO     | uvicorn.server:serve:86 - Finished server process [4259]
2023-12-24 02:54:36.736 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 02:54:50.565 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:54:50.565 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:54:50.567 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63010 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:54:50.568 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63009 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:54:50.570 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:54:50.574 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 02:54:50.576 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 02:54:50.581 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:54:50.581 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:54:50.583 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63009 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:54:50.583 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63010 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:54:50.590 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 02:54:50.590 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:54:50.591 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63009 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:54:50.592 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 02:54:50.606 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:54:50.608 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63009 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:54:50.609 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 02:54:50.615 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 02:54:50.616 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 02:54:50.617 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 02:54:50.625 | ERROR    | app.endpoints.users:new_user:47 - Circular reference detectedTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x102fb19d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102d2f430>
           └ <SpawnProcess name='SpawnProcess-53' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102d23a60>
    └ <SpawnProcess name='SpawnProcess-53' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102f8db20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-53' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-53' parent=96820 started>
    │    └ <function subprocess_started at 0x105442a60>
    └ <SpawnProcess name='SpawnProcess-53' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102f8df70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x105442040>
           │       │   └ <uvicorn.server.Server object at 0x102f8df70>
           │       └ <function run at 0x102fef790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1054368c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10548dbe0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056d47f0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056d47...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10556c8b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10548dbe0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056d47f0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056d47...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056d47f0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056d47...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10556d310>
          └ <fastapi.applications.FastAPI object at 0x10556c8b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1055839d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056d47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10556d2b0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10556d310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1055839d0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056d47...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x104beb940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10556d2b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10556d2b0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056d47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10556d280>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10556d2b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105583a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056d47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10556d220>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10556d280>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105583a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056d47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10556c9d0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10556d220>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105583a60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056d47...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x104b43940>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105583a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056d47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1056a18b0>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1056d4a00>
                     └ <function get_request_handler.<locals>.app at 0x1056a1940>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104b225e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x105455d00>, 'role_id': 'e2fa169b-f1d0-4564-b970-e6de28475a8d'}
                 │         └ <function new_user at 0x105319dc0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1056a4790>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/users.py", line 42, in new_user
    return JSONResponse(
           └ <class 'starlette.responses.JSONResponse'>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/responses.py", line 196, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ [[...]]
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/responses.py", line 55, in __init__
    self.body = self.render(content)
    │           │    │      └ [[...]]
    │           │    └ <function JSONResponse.render at 0x104b06d30>
    │           └ <starlette.responses.JSONResponse object at 0x10557cf70>
    └ <starlette.responses.JSONResponse object at 0x10557cf70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/responses.py", line 199, in render
    return json.dumps(
           │    └ <function dumps at 0x10386b1f0>
           └ <module 'json' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/__i...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ [[...]]
             │    └ <function JSONEncoder.iterencode at 0x10386b160>
             └ <json.encoder.JSONEncoder object at 0x10557ce20>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ [[...]]
           └ <_json.Encoder object at 0x10572e580>

ValueError: Circular reference detected

2023-12-24 02:54:50.634 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63011 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 500
2023-12-24 02:54:50.641 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:54:50.643 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 02:54:50.645 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 02:54:50.646 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 02:54:50.648 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 02:54:50.651 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 02:54:50.653 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 02:54:50.654 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 02:54:50.655 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 02:54:50.656 | ERROR    | app.endpoints.users:new_user:47 - Circular reference detectedTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x102fb19d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102d2f430>
           └ <SpawnProcess name='SpawnProcess-53' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102d23a60>
    └ <SpawnProcess name='SpawnProcess-53' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102f8db20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-53' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-53' parent=96820 started>
    │    └ <function subprocess_started at 0x105442a60>
    └ <SpawnProcess name='SpawnProcess-53' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102f8df70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x105442040>
           │       │   └ <uvicorn.server.Server object at 0x102f8df70>
           │       └ <function run at 0x102fef790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1054368c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10548dbe0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056d4a60>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056d4a...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10556c8b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10548dbe0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056d4a60>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056d4a...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056d4a60>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056d4a...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10556d310>
          └ <fastapi.applications.FastAPI object at 0x10556c8b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1055839d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056d4a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10556d2b0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10556d310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1055839d0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056d4a...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x104beb940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10556d2b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10556d2b0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056d4a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10556d280>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10556d2b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105583a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056d4a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10556d220>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10556d280>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105583a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056d4a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10556c9d0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10556d220>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105583a60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056d4a...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x104b43940>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105583a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056d4a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1056a18b0>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1056d4610>
                     └ <function get_request_handler.<locals>.app at 0x1056a1940>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104b225e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x105455d00>, 'role_id': 'e2fa169b-f1d0-4564-b970-e6de28475a8d'}
                 │         └ <function new_user at 0x105319dc0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1056a4790>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/users.py", line 42, in new_user
    return JSONResponse(
           └ <class 'starlette.responses.JSONResponse'>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/responses.py", line 196, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ [[...]]
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/responses.py", line 55, in __init__
    self.body = self.render(content)
    │           │    │      └ [[...]]
    │           │    └ <function JSONResponse.render at 0x104b06d30>
    │           └ <starlette.responses.JSONResponse object at 0x10556db20>
    └ <starlette.responses.JSONResponse object at 0x10556db20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/responses.py", line 199, in render
    return json.dumps(
           │    └ <function dumps at 0x10386b1f0>
           └ <module 'json' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/__i...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ [[...]]
             │    └ <function JSONEncoder.iterencode at 0x10386b160>
             └ <json.encoder.JSONEncoder object at 0x10569eb50>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ [[...]]
           └ <_json.Encoder object at 0x105825c40>

ValueError: Circular reference detected

2023-12-24 02:54:50.661 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63011 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 500
2023-12-24 02:55:15.084 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 02:55:15.185 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 02:55:15.186 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 02:55:15.186 | INFO     | uvicorn.server:serve:86 - Finished server process [4291]
2023-12-24 02:55:15.600 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 02:55:20.529 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:55:20.534 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:55:20.534 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63151 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:55:20.535 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:55:20.537 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63152 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:55:20.543 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:55:20.545 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 02:55:20.546 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63151 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:55:20.547 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:55:20.551 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63152 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:55:20.560 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:55:20.561 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63151 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:55:20.561 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 02:55:20.565 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:55:20.566 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 02:55:20.567 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63151 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:55:20.567 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 02:55:20.568 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 02:55:20.569 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 02:55:20.570 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 02:55:20.571 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 02:55:20.572 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63153 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:55:20.576 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:55:20.577 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 02:55:20.579 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 02:55:20.582 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 02:55:20.583 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 02:55:20.583 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 02:55:20.584 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 02:55:20.584 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 02:55:20.585 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 02:55:20.589 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63153 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:55:28.339 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63198 - "OPTIONS /org_types HTTP/1.1" 200
2023-12-24 02:55:28.340 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63200 - "OPTIONS /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:55:28.341 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63201 - "OPTIONS /org_types HTTP/1.1" 200
2023-12-24 02:55:28.342 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63202 - "OPTIONS /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:55:28.364 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:55:28.371 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM org_types;
2023-12-24 02:55:28.379 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:55:28.380 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63199 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:55:28.381 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63198 - "GET /org_types HTTP/1.1" 200
2023-12-24 02:55:28.390 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM org_types;
2023-12-24 02:55:28.390 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:55:28.390 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 02:55:28.392 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63198 - "GET /org_types HTTP/1.1" 200
2023-12-24 02:55:28.392 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63199 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:55:28.392 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 02:55:28.393 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 02:55:28.394 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 02:55:28.394 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 02:55:28.395 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 02:55:28.396 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 02:55:28.396 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 02:55:28.397 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63201 - "GET /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:55:28.404 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:55:28.406 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 02:55:28.410 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 02:55:28.413 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 02:55:28.414 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 02:55:28.415 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 02:55:28.419 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 02:55:28.420 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 02:55:28.422 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 02:55:28.423 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63201 - "GET /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:57:26.203 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 02:57:26.305 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 02:57:26.306 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 02:57:26.306 | INFO     | uvicorn.server:serve:86 - Finished server process [4318]
2023-12-24 02:57:26.725 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 02:57:30.619 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:57:30.622 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM org_types;
2023-12-24 02:57:30.622 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:57:30.623 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63707 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:57:30.624 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63708 - "GET /org_types HTTP/1.1" 200
2023-12-24 02:57:30.632 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:57:30.635 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63707 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:57:30.637 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM org_types;
2023-12-24 02:57:30.639 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 02:57:30.639 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63708 - "GET /org_types HTTP/1.1" 200
2023-12-24 02:57:30.643 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 02:57:30.645 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:57:30.646 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63707 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:57:30.649 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 02:57:30.651 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:57:30.652 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63707 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:57:30.654 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 02:57:30.656 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 02:57:30.657 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 02:57:30.657 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 02:57:30.658 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 02:57:30.659 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63709 - "GET /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:57:30.663 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:57:30.664 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 02:57:30.666 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 02:57:30.667 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 02:57:30.668 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 02:57:30.668 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 02:57:30.669 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 02:57:30.671 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 02:57:30.672 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 02:57:30.673 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63709 - "GET /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:57:39.609 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:57:39.610 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:57:39.610 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:57:39.611 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63759 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:57:39.613 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63760 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:57:39.618 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:57:39.618 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 02:57:39.619 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63759 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:57:39.623 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:57:39.625 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63760 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:57:39.631 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 02:57:39.633 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 02:57:39.634 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 02:57:39.634 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 02:57:39.635 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 02:57:39.636 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 02:57:39.638 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 02:57:39.639 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63761 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:57:39.645 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:57:39.650 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 02:57:39.652 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 02:57:39.654 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 02:57:39.658 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 02:57:39.659 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 02:57:39.660 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 02:57:39.661 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 02:57:39.661 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 02:57:39.663 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63761 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:57:42.353 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:57:42.353 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM org_types;
2023-12-24 02:57:42.358 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63760 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:57:42.358 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63761 - "GET /org_types HTTP/1.1" 200
2023-12-24 02:57:42.363 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:57:42.391 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 02:57:42.392 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM org_types;
2023-12-24 02:57:42.394 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:57:42.394 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63761 - "GET /org_types HTTP/1.1" 200
2023-12-24 02:57:42.399 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63760 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:57:42.400 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 02:57:42.401 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 02:57:42.402 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 02:57:42.403 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 02:57:42.404 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 02:57:42.404 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 02:57:42.405 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 02:57:42.406 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63759 - "GET /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:57:42.409 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:57:42.410 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 02:57:42.411 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 02:57:42.412 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 02:57:42.412 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 02:57:42.413 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 02:57:42.413 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 02:57:42.414 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 02:57:42.414 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 02:57:42.415 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63759 - "GET /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:57:43.860 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:57:43.864 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:57:43.866 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63759 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:57:43.876 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63760 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:57:43.876 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:57:43.885 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:57:43.887 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:57:43.889 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63759 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:57:43.890 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63760 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:57:43.892 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 02:57:43.894 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 02:57:43.897 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 02:57:43.899 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 02:57:43.901 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 02:57:43.906 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 02:57:43.908 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 02:57:43.909 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 02:57:43.910 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63761 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:57:43.921 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:57:43.924 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 02:57:43.926 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 02:57:43.934 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 02:57:43.937 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 02:57:43.939 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 02:57:43.941 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 02:57:43.942 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 02:57:43.943 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 02:57:43.945 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63761 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:57:44.858 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM org_types;
2023-12-24 02:57:44.858 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:57:44.859 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:57:44.865 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63760 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:57:44.868 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63761 - "GET /org_types HTTP/1.1" 200
2023-12-24 02:57:44.881 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 02:57:44.885 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:57:44.889 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM org_types;
2023-12-24 02:57:44.891 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63760 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:57:44.891 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63761 - "GET /org_types HTTP/1.1" 200
2023-12-24 02:57:44.893 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 02:57:44.898 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 02:57:44.901 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 02:57:44.902 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 02:57:44.903 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 02:57:44.907 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 02:57:44.908 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 02:57:44.909 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63759 - "GET /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:57:44.922 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:57:44.924 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 02:57:44.926 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 02:57:44.928 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 02:57:44.932 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 02:57:44.933 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 02:57:44.933 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 02:57:44.934 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 02:57:44.940 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 02:57:44.943 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63759 - "GET /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:57:54.149 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:57:54.150 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:57:54.164 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63850 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:57:54.165 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63849 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:57:54.165 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:57:54.183 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 02:57:54.183 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 02:57:54.188 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63850 - "GET /permission_types HTTP/1.1" 200
2023-12-24 02:57:54.191 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63849 - "GET /role_types HTTP/1.1" 200
2023-12-24 02:57:54.192 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 02:57:54.201 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 02:57:54.203 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 02:57:54.205 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 02:57:54.206 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 02:57:54.209 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 02:57:54.210 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 02:57:54.215 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 02:57:54.217 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63851 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 02:57:54.228 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 02:57:54.233 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 02:57:54.237 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 02:57:54.241 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 02:57:54.242 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 02:57:54.243 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 02:57:54.248 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 02:57:54.251 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 02:57:54.253 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 02:57:54.255 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63851 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 03:04:03.472 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 03:04:03.573 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 03:04:03.574 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 03:04:03.574 | INFO     | uvicorn.server:serve:86 - Finished server process [4362]
2023-12-24 03:04:03.993 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 03:05:01.554 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 03:05:01.656 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 03:05:01.660 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 03:05:01.661 | INFO     | uvicorn.server:serve:86 - Finished server process [4479]
2023-12-24 03:05:02.065 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 03:05:11.969 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 03:05:12.070 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 03:05:12.070 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 03:05:12.070 | INFO     | uvicorn.server:serve:86 - Finished server process [4495]
2023-12-24 03:05:12.465 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 03:05:17.601 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49267 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 03:05:17.604 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49268 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 03:05:17.605 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49267 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 03:05:17.605 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49269 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 03:05:17.606 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49268 - "OPTIONS /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 03:05:17.606 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49270 - "OPTIONS /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 03:05:17.611 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49271 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 03:05:17.616 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49272 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 03:05:17.630 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:05:17.631 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 03:05:17.634 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49269 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:05:17.641 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49267 - "GET /permission_types HTTP/1.1" 200
2023-12-24 03:05:17.647 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 03:05:17.650 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:05:17.651 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 03:05:17.656 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49269 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:05:17.656 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49267 - "GET /permission_types HTTP/1.1" 200
2023-12-24 03:05:17.659 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 03:05:17.660 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:05:17.665 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49269 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:05:17.670 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 03:05:17.673 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:05:17.677 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49269 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:05:17.679 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 03:05:17.680 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 03:05:17.680 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 03:05:17.681 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 03:05:17.682 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 03:05:17.682 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 03:05:17.683 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.role_id = roles.id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 03:05:17.683 | ERROR    | app.endpoints.users:new_user:47 - column users.role_id does not existTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1014059d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x101183430>
           └ <SpawnProcess name='SpawnProcess-58' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x101177a60>
    └ <SpawnProcess name='SpawnProcess-58' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1013e1b20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-58' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-58' parent=96820 started>
    │    └ <function subprocess_started at 0x1044fbb80>
    └ <SpawnProcess name='SpawnProcess-58' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1013e1f70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1044fb160>
           │       │   └ <uvicorn.server.Server object at 0x1013e1f70>
           │       └ <function run at 0x101443790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1044ee840>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104544c10>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104b09820>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104b098...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1046258e0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104544c10>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104b09820>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104b098...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104b09820>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104b098...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1047640d0>
          └ <fastapi.applications.FastAPI object at 0x1046258e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1047595e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104b098...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x104764070>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1047640d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1047595e0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104b098...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x103b77940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x104764070>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x104764070>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104b098...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104764040>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x104764070>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10463b820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104b098...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x104638fd0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104764040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10463b820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104b098...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x104625a00>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x104638fd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10463b820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104b098...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1039cf940>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10463b820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104b098...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10463b550>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10478ffa0>
                     └ <function get_request_handler.<locals>.app at 0x10463b4c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1039ae5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x10450dd30>, 'role_id': 'e2fa169b-f1d0-4564-b970-e6de28475a8d'}
                 │         └ <function new_user at 0x1043d1dc0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1047561f0>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/users.py", line 41, in new_user
    users = await users_crud.query_users(db, role_id)
                  │          │           │   └ 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
                  │          │           └ <providers.psql_provider.DB object at 0x10450dd30>
                  │          └ <function query_users at 0x1043d15e0>
                  └ <module 'app.crud.users_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py", line 99, in query_users
    roles = await db.fetch_all(sql)
                  │  │         └ "\n        SELECT\n            roles.type as role_type,\n            orgs.name as org_name\n        FROM\n            roles\n...
                  │  └ <function DB.fetch_all at 0x103f748b0>
                  └ <providers.psql_provider.DB object at 0x10450dd30>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n        SELECT\n            roles.type as role_type,\n            orgs.name as org_name\n        FROM\n            roles\n...
                   │   └ <function Connection.fetch at 0x103cd1ee0>
                   └ <PoolConnectionProxy [released] 0x104b09e80>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x103cc6040>
                 └ <asyncpg.connection.Connection object at 0x104b1e4f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x104b1e4f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x103cc6430>
                         └ <asyncpg.connection.Connection object at 0x104b1e4f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x103cc3550>
                 └ <asyncpg.connection.Connection object at 0x104b1e4f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x104b1e4f0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.UndefinedColumnError: column users.role_id does not exist

2023-12-24 03:05:17.693 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49270 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 500
2023-12-24 03:05:17.700 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 03:05:17.702 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 03:05:17.704 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 03:05:17.706 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 03:05:17.707 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 03:05:17.708 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 03:05:17.710 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 03:05:17.711 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 03:05:17.712 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 03:05:17.713 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.role_id = roles.id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 03:05:17.714 | ERROR    | app.endpoints.users:new_user:47 - column users.role_id does not existTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1014059d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x101183430>
           └ <SpawnProcess name='SpawnProcess-58' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x101177a60>
    └ <SpawnProcess name='SpawnProcess-58' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1013e1b20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-58' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-58' parent=96820 started>
    │    └ <function subprocess_started at 0x1044fbb80>
    └ <SpawnProcess name='SpawnProcess-58' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1013e1f70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1044fb160>
           │       │   └ <uvicorn.server.Server object at 0x1013e1f70>
           │       └ <function run at 0x101443790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1044ee840>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104544c10>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104b09a90>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104b09a...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1046258e0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104544c10>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104b09a90>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104b09a...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104b09a90>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104b09a...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1047640d0>
          └ <fastapi.applications.FastAPI object at 0x1046258e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10463b820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104b09a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x104764070>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1047640d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10463b820>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104b09a...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x103b77940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x104764070>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x104764070>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104b09a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104764040>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x104764070>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10462cdc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104b09a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x104638fd0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104764040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10462cdc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104b09a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x104625a00>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x104638fd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10462cdc0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104b09a...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1039cf940>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10462cdc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104b09a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10463b550>
          └ APIRoute(path='/users', name='new_user', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x104b096d0>
                     └ <function get_request_handler.<locals>.app at 0x10463b4c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1039ae5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x10450dd30>, 'role_id': 'e2fa169b-f1d0-4564-b970-e6de28475a8d'}
                 │         └ <function new_user at 0x1043d1dc0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1047561f0>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/users.py", line 41, in new_user
    users = await users_crud.query_users(db, role_id)
                  │          │           │   └ 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
                  │          │           └ <providers.psql_provider.DB object at 0x10450dd30>
                  │          └ <function query_users at 0x1043d15e0>
                  └ <module 'app.crud.users_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py", line 99, in query_users
    roles = await db.fetch_all(sql)
                  │  │         └ "\n        SELECT\n            roles.type as role_type,\n            orgs.name as org_name\n        FROM\n            roles\n...
                  │  └ <function DB.fetch_all at 0x103f748b0>
                  └ <providers.psql_provider.DB object at 0x10450dd30>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n        SELECT\n            roles.type as role_type,\n            orgs.name as org_name\n        FROM\n            roles\n...
                   │   └ <function Connection.fetch at 0x103cd1ee0>
                   └ <PoolConnectionProxy [released] 0x104764eb0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x103cc6040>
                 └ <asyncpg.connection.Connection object at 0x107001a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x107001a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x103cc6430>
                         └ <asyncpg.connection.Connection object at 0x107001a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x103cc3550>
                 └ <asyncpg.connection.Connection object at 0x107001a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x107001a90>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.UndefinedColumnError: column users.role_id does not exist

2023-12-24 03:05:17.719 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49270 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 500
2023-12-24 03:05:49.283 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 03:05:49.384 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 03:05:49.385 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 03:05:49.385 | INFO     | uvicorn.server:serve:86 - Finished server process [4505]
2023-12-24 03:05:49.813 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 03:05:57.956 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:05:57.967 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 03:05:57.967 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 03:05:57.969 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49452 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:05:57.971 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 03:05:57.978 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49453 - "GET /permission_types HTTP/1.1" 200
2023-12-24 03:05:57.990 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 03:05:57.990 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:05:57.992 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 03:05:57.993 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49452 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:05:57.993 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49453 - "GET /permission_types HTTP/1.1" 200
2023-12-24 03:05:58.016 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:05:58.026 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 03:05:58.027 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49452 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:05:58.033 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:05:58.034 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 03:05:58.035 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49452 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:05:58.036 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 03:05:58.037 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 03:05:58.038 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 03:05:58.038 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 03:05:58.039 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 03:05:58.040 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 03:05:58.040 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 03:05:58.041 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 03:05:58.041 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49454 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 03:05:58.047 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 03:05:58.049 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 03:05:58.050 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 03:05:58.051 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 03:05:58.052 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 03:05:58.053 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 03:05:58.054 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 03:05:58.054 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 03:05:58.055 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 03:05:58.055 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 03:05:58.056 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 03:05:58.056 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 03:05:58.057 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 03:05:58.058 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49454 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 03:08:38.487 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:08:38.491 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 03:08:38.500 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50120 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:08:38.501 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 03:08:38.502 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50121 - "GET /permission_types HTTP/1.1" 200
2023-12-24 03:08:38.514 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:08:38.518 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50120 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:08:38.524 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 03:08:38.525 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 03:08:38.527 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 03:08:38.528 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:08:38.528 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50121 - "GET /permission_types HTTP/1.1" 200
2023-12-24 03:08:38.529 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50120 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:08:38.532 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 03:08:38.533 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:08:38.534 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 03:08:38.535 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50120 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:08:38.542 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 03:08:38.542 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 03:08:38.543 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 03:08:38.544 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 03:08:38.544 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 03:08:38.545 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 03:08:38.546 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 03:08:38.546 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 03:08:38.547 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50122 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 03:08:38.551 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 03:08:38.553 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 03:08:38.555 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 03:08:38.555 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 03:08:38.556 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 03:08:38.556 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 03:08:38.557 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 03:08:38.558 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 03:08:38.558 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 03:08:38.559 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 03:08:38.560 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 03:08:38.561 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 03:08:38.562 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 03:08:38.563 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50122 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 03:09:43.607 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:09:43.610 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 03:09:43.610 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 03:09:43.613 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50400 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:09:43.617 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50401 - "GET /permission_types HTTP/1.1" 200
2023-12-24 03:09:43.621 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:09:43.621 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 03:09:43.624 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50400 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:09:43.624 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 03:09:43.627 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50401 - "GET /permission_types HTTP/1.1" 200
2023-12-24 03:09:43.629 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:09:43.630 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 03:09:43.631 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50400 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:09:43.631 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 03:09:43.635 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:09:43.636 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 03:09:43.636 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50400 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:09:43.637 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 03:09:43.638 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 03:09:43.638 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 03:09:43.639 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 03:09:43.639 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 03:09:43.640 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 03:09:43.640 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 03:09:43.641 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 03:09:43.642 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50402 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 03:09:43.646 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 03:09:43.647 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 03:09:43.648 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 03:09:43.649 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 03:09:43.650 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 03:09:43.650 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 03:09:43.651 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 03:09:43.652 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 03:09:43.653 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 03:09:43.653 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 03:09:43.654 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 03:09:43.655 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 03:09:43.656 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 03:09:43.658 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50402 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 03:12:16.896 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 03:12:16.896 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 03:12:16.896 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:12:16.899 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51033 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:12:16.899 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51034 - "GET /permission_types HTTP/1.1" 200
2023-12-24 03:12:16.912 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:12:16.917 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51034 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:12:16.919 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 03:12:16.919 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 03:12:16.922 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51033 - "GET /permission_types HTTP/1.1" 200
2023-12-24 03:12:16.923 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 03:12:16.925 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 03:12:16.925 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:12:16.926 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51034 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:12:16.929 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 03:12:16.931 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:12:16.932 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51034 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:12:16.933 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 03:12:16.936 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 03:12:16.937 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 03:12:16.937 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 03:12:16.938 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 03:12:16.938 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 03:12:16.939 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 03:12:16.940 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 03:12:16.940 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51035 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 03:12:16.944 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 03:12:16.945 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 03:12:16.946 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 03:12:16.947 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 03:12:16.947 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 03:12:16.948 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 03:12:16.950 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 03:12:16.951 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 03:12:16.952 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 03:12:16.953 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 03:12:16.954 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 03:12:16.954 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 03:12:16.955 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 03:12:16.956 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51035 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 03:17:03.395 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 03:17:03.498 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 03:17:03.499 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 03:17:03.499 | INFO     | uvicorn.server:serve:86 - Finished server process [4529]
2023-12-24 03:18:40.211 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 03:18:50.826 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 03:18:50.928 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 03:18:50.928 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 03:18:50.928 | INFO     | uvicorn.server:serve:86 - Finished server process [4752]
2023-12-24 03:18:51.347 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 03:19:43.437 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 03:19:43.539 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 03:19:43.540 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 03:19:43.540 | INFO     | uvicorn.server:serve:86 - Finished server process [4762]
2023-12-24 03:19:43.972 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 03:20:02.269 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 03:20:02.371 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 03:20:02.371 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 03:20:02.372 | INFO     | uvicorn.server:serve:86 - Finished server process [4779]
2023-12-24 03:20:02.779 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 03:20:12.347 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52964 - "OPTIONS /org_types HTTP/1.1" 200
2023-12-24 03:20:12.347 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52965 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 03:20:12.347 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52966 - "OPTIONS /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 03:20:12.347 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52967 - "OPTIONS /org_types HTTP/1.1" 200
2023-12-24 03:20:12.348 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52968 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 03:20:12.349 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52969 - "OPTIONS /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 03:20:12.357 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM org_types;
2023-12-24 03:20:12.358 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 03:20:12.359 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:20:12.362 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52964 - "GET /org_types HTTP/1.1" 200
2023-12-24 03:20:12.363 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52965 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:20:12.368 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 03:20:12.369 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM org_types;
2023-12-24 03:20:12.375 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:20:12.375 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52964 - "GET /org_types HTTP/1.1" 200
2023-12-24 03:20:12.376 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52965 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:20:12.379 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 03:20:12.383 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 03:20:12.385 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 03:20:12.386 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 03:20:12.386 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 03:20:12.389 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 03:20:12.390 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 03:20:12.391 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52966 - "GET /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 03:20:12.397 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 03:20:12.399 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 03:20:12.400 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 03:20:12.401 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 03:20:12.402 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 03:20:12.402 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 03:20:12.403 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 03:20:12.404 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 03:20:12.404 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 03:20:12.406 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52966 - "GET /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 03:20:24.859 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53029 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 03:20:24.861 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53031 - "OPTIONS /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 03:20:24.862 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53032 - "OPTIONS /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 03:20:24.868 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:20:24.871 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53028 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:20:24.871 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 03:20:24.873 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 03:20:24.876 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53029 - "GET /permission_types HTTP/1.1" 200
2023-12-24 03:20:24.876 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 03:20:24.879 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:20:24.882 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53028 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:20:24.883 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 03:20:24.884 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 03:20:24.885 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53029 - "GET /permission_types HTTP/1.1" 200
2023-12-24 03:20:24.887 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 03:20:24.889 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 03:20:24.889 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 03:20:24.890 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 03:20:24.891 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 03:20:24.891 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 03:20:24.893 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 03:20:24.894 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 03:20:24.895 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 03:20:24.895 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 03:20:24.896 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53031 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 03:20:24.902 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 03:20:24.904 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 03:20:24.905 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 03:20:24.906 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 03:20:24.906 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 03:20:24.907 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 03:20:24.907 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 03:20:24.908 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 03:20:24.909 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 03:20:24.909 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 03:20:24.910 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 03:20:24.910 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 03:20:24.911 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 03:20:24.912 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53031 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 03:22:36.392 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53571 - "OPTIONS /user HTTP/1.1" 200
2023-12-24 03:22:36.397 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53571 - "PUT /user HTTP/1.1" 422
2023-12-24 03:23:08.352 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 03:23:08.454 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 03:23:08.454 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 03:23:08.455 | INFO     | uvicorn.server:serve:86 - Finished server process [4790]
2023-12-24 03:23:08.854 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 03:23:13.943 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 03:23:13.944 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 03:23:13.945 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:23:13.946 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53731 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:23:13.946 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 03:23:13.947 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53732 - "GET /permission_types HTTP/1.1" 200
2023-12-24 03:23:13.956 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 03:23:13.962 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:23:13.962 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53731 - "GET /permission_types HTTP/1.1" 200
2023-12-24 03:23:13.964 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 03:23:13.964 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53732 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:23:13.970 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:23:13.971 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53732 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:23:13.973 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 03:23:13.974 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 03:23:13.975 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 03:23:13.976 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 03:23:13.977 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 03:23:13.977 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:23:13.978 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53732 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:23:13.980 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 03:23:13.982 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 03:23:13.983 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 03:23:13.983 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 03:23:13.984 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 03:23:13.985 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53733 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 03:23:13.989 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 03:23:13.992 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 03:23:13.993 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 03:23:13.994 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 03:23:13.995 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 03:23:13.995 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 03:23:13.996 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 03:23:13.997 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 03:23:13.997 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 03:23:13.997 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 03:23:13.998 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 03:23:13.998 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 03:23:13.999 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 03:23:13.999 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53733 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 03:23:19.973 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE users
    SET
        name = '山田一郎1',
        email = '001@demo.com'
    WHERE
        id = '051260d6-5952-4a97-b37a-4630f09937f3';
    
2023-12-24 03:23:19.995 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53769 - "PUT /user HTTP/1.1" 200
2023-12-24 03:23:20.046 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 03:23:20.048 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 03:23:20.052 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 03:23:20.054 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 03:23:20.055 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 03:23:20.056 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 03:23:20.056 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 03:23:20.057 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 03:23:20.058 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 03:23:20.060 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 03:23:20.061 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 03:23:20.062 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 03:23:20.063 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 03:23:20.063 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53769 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 03:23:23.288 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM org_types;
2023-12-24 03:23:23.288 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:23:23.289 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 03:23:23.290 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53769 - "GET /org_types HTTP/1.1" 200
2023-12-24 03:23:23.291 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53785 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:23:23.291 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 03:23:23.298 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:23:23.298 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM org_types;
2023-12-24 03:23:23.304 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53769 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:23:23.307 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 03:23:23.307 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53785 - "GET /org_types HTTP/1.1" 200
2023-12-24 03:23:23.310 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 03:23:23.312 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 03:23:23.313 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 03:23:23.314 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 03:23:23.315 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 03:23:23.316 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 03:23:23.320 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53786 - "GET /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 03:23:23.332 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 03:23:23.334 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 03:23:23.339 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 03:23:23.341 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 03:23:23.342 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 03:23:23.346 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 03:23:23.347 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 03:23:23.349 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 03:23:23.350 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 03:23:23.352 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53786 - "GET /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 03:23:29.452 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:23:29.452 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 03:23:29.454 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53819 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:23:29.455 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53820 - "GET /permission_types HTTP/1.1" 200
2023-12-24 03:23:29.455 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 03:23:29.462 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 03:23:29.462 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 03:23:29.464 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53820 - "GET /role_types HTTP/1.1" 200
2023-12-24 03:23:29.465 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53819 - "GET /permission_types HTTP/1.1" 200
2023-12-24 03:23:29.466 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 03:23:29.469 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 03:23:29.470 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 03:23:29.470 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 03:23:29.471 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 03:23:29.472 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 03:23:29.473 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 03:23:29.474 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 03:23:29.475 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 03:23:29.475 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 03:23:29.476 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 03:23:29.477 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 03:23:29.477 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53821 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 03:23:29.484 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 03:23:29.485 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 03:23:29.487 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 03:23:29.492 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 03:23:29.493 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 03:23:29.494 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 03:23:29.495 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 03:23:29.495 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 03:23:29.496 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 03:23:29.497 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 03:23:29.500 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 03:23:29.501 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 03:23:29.501 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 03:23:29.502 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53821 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 03:23:42.368 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE users
    SET
        name = '山田一郎',
        email = '001@demo.com'
    WHERE
        id = '051260d6-5952-4a97-b37a-4630f09937f3';
    
2023-12-24 03:23:42.375 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53881 - "PUT /user HTTP/1.1" 200
2023-12-24 03:23:42.391 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 03:23:42.395 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 03:23:42.401 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 03:23:42.406 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 03:23:42.407 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 03:23:42.409 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 03:23:42.412 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 03:23:42.415 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 03:23:42.416 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 03:23:42.421 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 03:23:42.423 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 03:23:42.424 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 03:23:42.429 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 03:23:42.431 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53881 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 03:27:07.872 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id
    FROM
        users
    WHERE
        users.email = '008@demo.com';
    
2023-12-24 03:27:07.878 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO users
        (
            name,
            email,
            password
        )
    VALUES
        (
            '山田八郎',
            '008@demo.com',
            '12345678'
        )
    RETURNING id;
    
2023-12-24 03:27:07.886 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54703 - "POST /user HTTP/1.1" 200
2023-12-24 03:27:07.894 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 03:27:07.897 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 03:27:07.900 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 03:27:07.904 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 03:27:07.905 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 03:27:07.909 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 03:27:07.910 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 03:27:07.912 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 03:27:07.916 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 03:27:07.920 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 03:27:07.925 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 03:27:07.927 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 03:27:07.928 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 03:27:07.930 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54703 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 07:55:31.110 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53619 - "OPTIONS /org_types HTTP/1.1" 200
2023-12-24 07:55:31.111 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53620 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 07:55:31.111 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53621 - "OPTIONS /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 07:55:31.111 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53622 - "OPTIONS /org_types HTTP/1.1" 200
2023-12-24 07:55:31.112 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53623 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 07:55:31.114 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53624 - "OPTIONS /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 07:55:31.119 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM org_types;
2023-12-24 07:55:31.121 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 07:55:31.125 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 07:55:31.128 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53619 - "GET /org_types HTTP/1.1" 200
2023-12-24 07:55:31.130 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53620 - "GET /role_types HTTP/1.1" 200
2023-12-24 07:55:31.134 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 07:55:31.137 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM org_types;
2023-12-24 07:55:31.139 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 07:55:31.140 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53619 - "GET /org_types HTTP/1.1" 200
2023-12-24 07:55:31.143 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53620 - "GET /role_types HTTP/1.1" 200
2023-12-24 07:55:31.147 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 07:55:31.149 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 07:55:31.151 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 07:55:31.151 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 07:55:31.152 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 07:55:31.153 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 07:55:31.153 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 07:55:31.154 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53622 - "GET /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 07:55:31.158 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 07:55:31.159 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 07:55:31.160 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 07:55:31.161 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 07:55:31.162 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 07:55:31.162 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 07:55:31.163 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 07:55:31.164 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 07:55:31.164 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 07:55:31.165 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53622 - "GET /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 07:55:32.817 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53620 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 07:55:32.817 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53619 - "OPTIONS /org/out/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 07:55:32.818 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53624 - "OPTIONS /org/in/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 07:55:32.818 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53623 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 07:55:32.819 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53621 - "OPTIONS /org/out/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 07:55:32.821 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53619 - "OPTIONS /org/in/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 07:55:32.840 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 07:55:32.844 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
    
2023-12-24 07:55:32.846 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 07:55:32.849 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53622 - "GET /role_types HTTP/1.1" 200
2023-12-24 07:55:32.857 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
    
2023-12-24 07:55:32.858 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53620 - "GET /permission_types HTTP/1.1" 200
2023-12-24 07:55:32.862 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 07:55:32.864 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name,
        email
    FROM
        users;
    
2023-12-24 07:55:32.866 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 07:55:32.867 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53622 - "GET /role_types HTTP/1.1" 200
2023-12-24 07:55:32.869 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53623 - "GET /org/out/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 07:55:32.870 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53620 - "GET /permission_types HTTP/1.1" 200
2023-12-24 07:55:32.875 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '109077c2-3552-4c47-9dea-fec85c0eae0f';
        
2023-12-24 07:55:32.877 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
    
2023-12-24 07:55:32.878 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name,
        email
    FROM
        users;
    
2023-12-24 07:55:32.879 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53623 - "GET /org/out/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 07:55:32.881 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '35612b8c-6e47-4dfe-9fd4-7483348f5423';
        
2023-12-24 07:55:32.882 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '7d8d3db7-7c1f-4b37-b688-9b3c8ee7fc87';
        
2023-12-24 07:55:32.883 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d';
        
2023-12-24 07:55:32.884 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53624 - "GET /org/in/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 07:55:32.888 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
    
2023-12-24 07:55:32.890 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '109077c2-3552-4c47-9dea-fec85c0eae0f';
        
2023-12-24 07:55:32.891 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '35612b8c-6e47-4dfe-9fd4-7483348f5423';
        
2023-12-24 07:55:32.892 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '7d8d3db7-7c1f-4b37-b688-9b3c8ee7fc87';
        
2023-12-24 07:55:32.892 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d';
        
2023-12-24 07:55:32.893 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53624 - "GET /org/in/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 07:56:54.415 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53981 - "OPTIONS /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 07:56:54.416 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53982 - "OPTIONS /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 07:56:54.423 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 07:56:54.426 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 07:56:54.428 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53977 - "GET /role_types HTTP/1.1" 200
2023-12-24 07:56:54.429 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 07:56:54.430 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53978 - "GET /permission_types HTTP/1.1" 200
2023-12-24 07:56:54.439 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 07:56:54.442 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 07:56:54.442 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 07:56:54.443 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53978 - "GET /permission_types HTTP/1.1" 200
2023-12-24 07:56:54.443 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53977 - "GET /role_types HTTP/1.1" 200
2023-12-24 07:56:54.445 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 07:56:54.446 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 07:56:54.447 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 07:56:54.447 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 07:56:54.448 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 07:56:54.449 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 07:56:54.449 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 07:56:54.450 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 07:56:54.450 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 07:56:54.451 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 07:56:54.452 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 07:56:54.453 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53981 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 07:56:54.457 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 07:56:54.458 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 07:56:54.459 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 07:56:54.460 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 07:56:54.460 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 07:56:54.461 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 07:56:54.461 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 07:56:54.462 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 07:56:54.462 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 07:56:54.463 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 07:56:54.464 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 07:56:54.465 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 07:56:54.465 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 07:56:54.466 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53981 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:03:15.022 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:03:15.022 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 08:03:15.023 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:03:15.024 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55513 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:03:15.025 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55514 - "GET /permission_types HTTP/1.1" 200
2023-12-24 08:03:15.031 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:03:15.031 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:03:15.033 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 08:03:15.034 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55514 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:03:15.035 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55513 - "GET /permission_types HTTP/1.1" 200
2023-12-24 08:03:15.036 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:03:15.038 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:03:15.039 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:03:15.040 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:03:15.041 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:03:15.042 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:03:15.042 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:03:15.043 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 08:03:15.044 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 08:03:15.044 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 08:03:15.045 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 08:03:15.046 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55515 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:03:15.056 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:03:15.059 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:03:15.061 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:03:15.063 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:03:15.064 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:03:15.064 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:03:15.065 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:03:15.066 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:03:15.067 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:03:15.067 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 08:03:15.068 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 08:03:15.069 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 08:03:15.070 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 08:03:15.070 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55515 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:05:48.967 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56156 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 08:05:48.968 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56157 - "OPTIONS /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:05:48.968 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56156 - "OPTIONS /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:05:48.969 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56158 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 08:05:48.970 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56157 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 08:05:48.971 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56159 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 08:05:48.972 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56158 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 08:05:48.983 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56161 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 08:05:48.992 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:05:48.997 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:05:48.999 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56156 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:05:49.009 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:05:49.010 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 08:05:49.020 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56159 - "GET /permission_types HTTP/1.1" 200
2023-12-24 08:05:49.024 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:05:49.025 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:05:49.026 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56156 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:05:49.032 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:05:49.033 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 08:05:49.033 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:05:49.034 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56159 - "GET /permission_types HTTP/1.1" 200
2023-12-24 08:05:49.035 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56156 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:05:49.035 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:05:49.037 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:05:49.039 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:05:49.040 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56156 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:05:49.040 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:05:49.041 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:05:49.043 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:05:49.043 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:05:49.044 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:05:49.044 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:05:49.045 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:05:49.045 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:05:49.046 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56157 - "GET /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:05:49.046 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:05:49.050 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:05:49.050 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:05:49.052 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:05:49.054 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:05:49.055 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:05:49.055 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:05:49.056 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:05:49.056 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:05:49.056 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:05:49.057 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:05:49.057 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:05:49.057 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 08:05:49.057 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:05:49.058 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 08:05:49.058 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56157 - "GET /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:05:49.059 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 08:05:49.060 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 08:05:49.061 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56160 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:05:49.069 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:05:49.072 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:05:49.074 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:05:49.075 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:05:49.076 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:05:49.077 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:05:49.077 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:05:49.078 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:05:49.079 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:05:49.080 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 08:05:49.081 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 08:05:49.081 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 08:05:49.082 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 08:05:49.082 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56160 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:07:04.754 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56504 - "OPTIONS /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:07:04.773 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:07:04.776 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:07:04.777 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 08:07:04.783 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56498 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:07:04.787 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56502 - "GET /permission_types HTTP/1.1" 200
2023-12-24 08:07:04.788 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:07:04.804 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:07:04.804 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:07:04.804 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 08:07:04.804 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:07:04.805 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56498 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:07:04.806 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56502 - "GET /permission_types HTTP/1.1" 200
2023-12-24 08:07:04.815 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:07:04.815 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:07:04.816 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:07:04.817 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56498 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:07:04.818 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:07:04.824 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:07:04.825 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:07:04.831 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56498 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:07:04.833 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:07:04.833 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:07:04.838 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:07:04.839 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:07:04.839 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:07:04.840 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:07:04.840 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:07:04.840 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56499 - "GET /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:07:04.846 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:07:04.847 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:07:04.849 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:07:04.849 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:07:04.850 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 08:07:04.850 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:07:04.850 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 08:07:04.851 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 08:07:04.852 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:07:04.852 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 08:07:04.852 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56504 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:07:04.853 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:07:04.856 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:07:04.857 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:07:04.859 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:07:04.860 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:07:04.860 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:07:04.861 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:07:04.862 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56499 - "GET /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:07:04.864 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:07:04.865 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:07:04.866 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:07:04.867 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:07:04.868 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:07:04.869 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:07:04.870 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:07:04.870 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:07:04.871 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 08:07:04.871 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 08:07:04.872 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 08:07:04.873 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 08:07:04.874 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56504 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:09:17.067 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 08:09:17.167 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 08:09:17.168 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 08:09:17.169 | INFO     | uvicorn.server:serve:86 - Finished server process [4850]
2023-12-24 08:09:17.679 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 08:09:58.326 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 08:09:58.428 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 08:09:58.428 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 08:09:58.428 | INFO     | uvicorn.server:serve:86 - Finished server process [7732]
2023-12-24 08:09:58.823 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 08:10:05.899 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 08:10:06.001 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 08:10:06.001 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 08:10:06.001 | INFO     | uvicorn.server:serve:86 - Finished server process [7749]
2023-12-24 08:10:06.397 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 08:10:29.137 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57358 - "OPTIONS /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:10:29.146 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57361 - "OPTIONS /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:10:29.152 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:10:29.160 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 08:10:29.162 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57357 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:10:29.172 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:10:29.176 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:10:29.177 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57359 - "GET /permission_types HTTP/1.1" 200
2023-12-24 08:10:29.179 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:10:29.184 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57357 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:10:29.186 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:10:29.187 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 08:10:29.187 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:10:29.188 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57358 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:10:29.189 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57359 - "GET /permission_types HTTP/1.1" 200
2023-12-24 08:10:29.189 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:10:29.191 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57357 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:10:29.194 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:10:29.194 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:10:29.195 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:10:29.197 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57357 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:10:29.201 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:10:29.201 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:10:29.203 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:10:29.203 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57358 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:10:29.204 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:10:29.204 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:10:29.205 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:10:29.206 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:10:29.207 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 08:10:29.207 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 08:10:29.208 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 08:10:29.208 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 08:10:29.209 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57360 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:10:29.212 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:10:29.213 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:10:29.215 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:10:29.217 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:10:29.219 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:10:29.219 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:10:29.220 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:10:29.220 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:10:29.221 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:10:29.221 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 08:10:29.222 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 08:10:29.223 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 08:10:29.223 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 08:10:29.225 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57360 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:20:04.039 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59689 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 08:20:04.041 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59689 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 08:20:04.042 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59691 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 08:20:04.042 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59692 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 08:20:04.042 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59693 - "OPTIONS /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:20:04.042 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59694 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 08:20:04.043 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59691 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 08:20:04.043 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59689 - "OPTIONS /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:20:04.049 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:20:04.052 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:20:04.059 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 08:20:04.059 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59692 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:20:04.061 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:20:04.063 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59693 - "GET /permission_types HTTP/1.1" 200
2023-12-24 08:20:04.064 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:20:04.070 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:20:04.070 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59690 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:20:04.071 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 08:20:04.072 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59692 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:20:04.073 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:20:04.075 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59693 - "GET /permission_types HTTP/1.1" 200
2023-12-24 08:20:04.077 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:20:04.079 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:20:04.079 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:20:04.080 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59690 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:20:04.081 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59692 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:20:04.081 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:20:04.085 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:20:04.086 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:20:04.086 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59692 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:20:04.087 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:20:04.088 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:20:04.089 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:20:04.089 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:20:04.090 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:20:04.090 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 08:20:04.091 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 08:20:04.092 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 08:20:04.092 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 08:20:04.093 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59694 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:20:04.097 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:20:04.098 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:20:04.100 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:20:04.100 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:20:04.101 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:20:04.101 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:20:04.102 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:20:04.103 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:20:04.103 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:20:04.104 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 08:20:04.105 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 08:20:04.105 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 08:20:04.106 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 08:20:04.107 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59694 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:21:42.875 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60114 - "OPTIONS /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:21:42.876 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60117 - "OPTIONS /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:21:42.884 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 08:21:42.885 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:21:42.885 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:21:42.889 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60113 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:21:42.890 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60115 - "GET /permission_types HTTP/1.1" 200
2023-12-24 08:21:42.890 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:21:42.891 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:21:42.897 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:21:42.899 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:21:42.900 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60114 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:21:42.905 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60115 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:21:42.905 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 08:21:42.908 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:21:42.912 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:21:42.913 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60113 - "GET /permission_types HTTP/1.1" 200
2023-12-24 08:21:42.914 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:21:42.915 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60115 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:21:42.916 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:21:42.918 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:21:42.919 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:21:42.919 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60114 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:21:42.920 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60115 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:21:42.921 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:21:42.922 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:21:42.923 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:21:42.924 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:21:42.924 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:21:42.925 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 08:21:42.925 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 08:21:42.926 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 08:21:42.926 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 08:21:42.926 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60116 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:21:42.931 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:21:42.932 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:21:42.933 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:21:42.934 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:21:42.934 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:21:42.935 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:21:42.936 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:21:42.937 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:21:42.937 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:21:42.938 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 08:21:42.939 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 08:21:42.940 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 08:21:42.941 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 08:21:42.942 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60116 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:22:29.314 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:22:29.317 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:22:29.322 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 08:22:29.323 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60120 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:22:29.323 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:22:29.326 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60333 - "GET /permission_types HTTP/1.1" 200
2023-12-24 08:22:29.341 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:22:29.342 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:22:29.342 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 08:22:29.342 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:22:29.343 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60332 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:22:29.344 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60120 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:22:29.344 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60333 - "GET /permission_types HTTP/1.1" 200
2023-12-24 08:22:29.344 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:22:29.351 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:22:29.351 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:22:29.352 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:22:29.352 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60120 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:22:29.358 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:22:29.358 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:22:29.359 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:22:29.359 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60120 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:22:29.360 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60332 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:22:29.361 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:22:29.362 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:22:29.362 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:22:29.363 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:22:29.364 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 08:22:29.365 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 08:22:29.366 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 08:22:29.366 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 08:22:29.367 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60334 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:22:29.373 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:22:29.374 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:22:29.375 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:22:29.376 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:22:29.377 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:22:29.377 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:22:29.378 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:22:29.379 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:22:29.379 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:22:29.380 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 08:22:29.381 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 08:22:29.381 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 08:22:29.382 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 08:22:29.383 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60334 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:24:05.222 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:24:05.228 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:24:05.228 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:24:05.231 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 08:24:05.232 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60739 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:24:05.240 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60741 - "GET /permission_types HTTP/1.1" 200
2023-12-24 08:24:05.245 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:24:05.245 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:24:05.248 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:24:05.248 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 08:24:05.249 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60740 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:24:05.250 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60739 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:24:05.252 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60741 - "GET /permission_types HTTP/1.1" 200
2023-12-24 08:24:05.254 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:24:05.256 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:24:05.257 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:24:05.261 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60739 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:24:05.261 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:24:05.264 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:24:05.264 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60740 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:24:05.266 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:24:05.267 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60739 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:24:05.270 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:24:05.271 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:24:05.272 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:24:05.273 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:24:05.273 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:24:05.274 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 08:24:05.274 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 08:24:05.275 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 08:24:05.275 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 08:24:05.276 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60742 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:24:05.281 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:24:05.282 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:24:05.283 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:24:05.284 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:24:05.285 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:24:05.286 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:24:05.287 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:24:05.287 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:24:05.288 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:24:05.289 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 08:24:05.289 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 08:24:05.290 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 08:24:05.290 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 08:24:05.291 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60742 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:24:15.680 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:24:15.680 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:24:15.686 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 08:24:15.687 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60805 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:24:15.691 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:24:15.692 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60807 - "GET /permission_types HTTP/1.1" 200
2023-12-24 08:24:15.698 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:24:15.707 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60806 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:24:15.708 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 08:24:15.709 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:24:15.710 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60807 - "GET /permission_types HTTP/1.1" 200
2023-12-24 08:24:15.710 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:24:15.712 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:24:15.712 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:24:15.714 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60805 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:24:15.715 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:24:15.716 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:24:15.717 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60806 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:24:15.719 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:24:15.720 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60805 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:24:15.722 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:24:15.723 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:24:15.724 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:24:15.725 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60805 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:24:15.727 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:24:15.729 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:24:15.729 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:24:15.730 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 08:24:15.730 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 08:24:15.731 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 08:24:15.731 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 08:24:15.732 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60808 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:24:15.748 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:24:15.751 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:24:15.754 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:24:15.756 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:24:15.758 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:24:15.759 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:24:15.760 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:24:15.761 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:24:15.762 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:24:15.763 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 08:24:15.763 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 08:24:15.764 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 08:24:15.765 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 08:24:15.766 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60808 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:27:06.978 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:27:06.978 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:27:06.982 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 08:27:06.985 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61515 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:27:06.985 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61517 - "GET /permission_types HTTP/1.1" 200
2023-12-24 08:27:06.986 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:27:06.993 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:27:06.998 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61516 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:27:06.998 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:27:07.002 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 08:27:07.002 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61517 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:27:07.008 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:27:07.009 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61515 - "GET /permission_types HTTP/1.1" 200
2023-12-24 08:27:07.011 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:27:07.013 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:27:07.014 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61517 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:27:07.017 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:27:07.017 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:27:07.018 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:27:07.019 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61516 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:27:07.020 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61517 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:27:07.022 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:27:07.024 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:27:07.025 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:27:07.025 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:27:07.026 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:27:07.026 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:27:07.026 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 08:27:07.027 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 08:27:07.027 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 08:27:07.028 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 08:27:07.028 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61518 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:27:07.032 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:27:07.033 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:27:07.034 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:27:07.035 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:27:07.036 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:27:07.036 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:27:07.037 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:27:07.038 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:27:07.039 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:27:07.039 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 08:27:07.040 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 08:27:07.041 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 08:27:07.041 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 08:27:07.042 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61518 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:27:24.640 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:27:24.644 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61613 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:27:24.651 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:27:24.651 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 08:27:24.655 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:27:24.656 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:27:24.657 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61615 - "GET /permission_types HTTP/1.1" 200
2023-12-24 08:27:24.659 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61613 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:27:24.660 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:27:24.662 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 08:27:24.663 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:27:24.663 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:27:24.664 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61614 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:27:24.667 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61613 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:27:24.667 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61615 - "GET /permission_types HTTP/1.1" 200
2023-12-24 08:27:24.672 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:27:24.673 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:27:24.673 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:27:24.674 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61613 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:27:24.675 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:27:24.676 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:27:24.676 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:27:24.677 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:27:24.678 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:27:24.679 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:27:24.679 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 08:27:24.680 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:27:24.680 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 08:27:24.681 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 08:27:24.681 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61614 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:27:24.682 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 08:27:24.682 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61616 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:27:24.688 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:27:24.691 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:27:24.697 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:27:24.699 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:27:24.700 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:27:24.702 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:27:24.706 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:27:24.707 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:27:24.708 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:27:24.708 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 08:27:24.709 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 08:27:24.710 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 08:27:24.711 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 08:27:24.712 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61616 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:27:39.879 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:27:39.880 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:27:39.887 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61698 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:27:39.887 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:27:39.891 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 08:27:39.892 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:27:39.892 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61699 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:27:39.898 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61700 - "GET /permission_types HTTP/1.1" 200
2023-12-24 08:27:39.904 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:27:39.905 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:27:39.905 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61698 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:27:39.906 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:27:39.906 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 08:27:39.909 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61700 - "GET /permission_types HTTP/1.1" 200
2023-12-24 08:27:39.911 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:27:39.913 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:27:39.913 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61698 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:27:39.914 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:27:39.915 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61699 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:27:39.916 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:27:39.917 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:27:39.917 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:27:39.919 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61698 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:27:39.924 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:27:39.925 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:27:39.926 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:27:39.926 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:27:39.926 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 08:27:39.927 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 08:27:39.927 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 08:27:39.928 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 08:27:39.928 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61701 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:27:39.933 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:27:39.934 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:27:39.936 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:27:39.937 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:27:39.937 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:27:39.938 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:27:39.938 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:27:39.939 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:27:39.940 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:27:39.941 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 08:27:39.942 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 08:27:39.942 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 08:27:39.943 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 08:27:39.944 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61701 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:45:40.055 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49722 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 08:45:40.056 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49723 - "OPTIONS /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:45:40.056 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49724 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 08:45:40.056 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49725 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 08:45:40.057 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49726 - "OPTIONS /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:45:40.057 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49727 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 08:45:40.057 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49722 - "OPTIONS /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:45:40.057 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49723 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 08:45:40.058 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49725 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 08:45:40.059 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49727 - "OPTIONS /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:45:40.067 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:45:40.073 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49724 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:45:40.074 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:45:40.080 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:45:40.081 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:45:40.083 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 08:45:40.085 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49726 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:45:40.090 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:45:40.097 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49723 - "GET /permission_types HTTP/1.1" 200
2023-12-24 08:45:40.098 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49724 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:45:40.100 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:45:40.100 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:45:40.102 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:45:40.104 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49726 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:45:40.112 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 08:45:40.114 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:45:40.116 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49723 - "GET /permission_types HTTP/1.1" 200
2023-12-24 08:45:40.116 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49724 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:45:40.121 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:45:40.122 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:45:40.123 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:45:40.123 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49724 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:45:40.124 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:45:40.125 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:45:40.126 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:45:40.126 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:45:40.127 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:45:40.128 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 08:45:40.128 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 08:45:40.129 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 08:45:40.129 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 08:45:40.130 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49725 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:45:40.135 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:45:40.138 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:45:40.139 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:45:40.140 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:45:40.141 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:45:40.142 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:45:40.143 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:45:40.146 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:45:40.147 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:45:40.148 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 08:45:40.149 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 08:45:40.149 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 08:45:40.150 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 08:45:40.150 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49725 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:55:58.119 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52269 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 08:55:58.121 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52270 - "OPTIONS /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:55:58.124 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52269 - "OPTIONS /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:55:58.125 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52271 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 08:55:58.126 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52270 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 08:55:58.127 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52272 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 08:55:58.128 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52271 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 08:55:58.128 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52269 - "OPTIONS /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:55:58.128 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52273 - "OPTIONS /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:55:58.133 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52274 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 08:55:58.141 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:55:58.144 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:55:58.150 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 08:55:58.152 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52270 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:55:58.152 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:55:58.154 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52271 - "GET /permission_types HTTP/1.1" 200
2023-12-24 08:55:58.160 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:55:58.162 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:55:58.167 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 08:55:58.170 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52270 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:55:58.171 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:55:58.174 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52272 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:55:58.178 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52271 - "GET /permission_types HTTP/1.1" 200
2023-12-24 08:55:58.185 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:55:58.185 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:55:58.185 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:55:58.186 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52270 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:55:58.190 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:55:58.190 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 08:55:58.190 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:55:58.191 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52270 - "GET /role_types HTTP/1.1" 200
2023-12-24 08:55:58.192 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52272 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:55:58.192 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:55:58.193 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:55:58.194 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:55:58.195 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:55:58.195 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:55:58.196 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 08:55:58.196 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 08:55:58.197 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 08:55:58.198 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 08:55:58.198 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52269 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 08:55:58.202 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 08:55:58.203 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 08:55:58.204 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 08:55:58.205 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 08:55:58.205 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 08:55:58.206 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 08:55:58.206 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 08:55:58.208 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 08:55:58.209 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 08:55:58.210 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 08:55:58.210 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 08:55:58.211 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 08:55:58.212 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 08:55:58.213 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52269 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:01:45.585 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 09:01:45.687 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 09:01:45.688 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 09:01:45.688 | INFO     | uvicorn.server:serve:86 - Finished server process [7758]
2023-12-24 09:01:46.189 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 09:05:53.209 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 09:05:53.311 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 09:05:53.311 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 09:05:53.311 | INFO     | uvicorn.server:serve:86 - Finished server process [8747]
2023-12-24 09:05:53.713 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 09:06:11.721 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 09:06:11.822 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 09:06:11.823 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 09:06:11.823 | INFO     | uvicorn.server:serve:86 - Finished server process [8793]
2023-12-24 09:06:12.242 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 09:07:22.762 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 09:07:22.864 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 09:07:22.864 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 09:07:22.865 | INFO     | uvicorn.server:serve:86 - Finished server process [8806]
2023-12-24 09:07:23.308 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 09:09:33.852 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 09:09:33.953 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 09:09:33.954 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 09:09:33.954 | INFO     | uvicorn.server:serve:86 - Finished server process [8819]
2023-12-24 09:09:34.367 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 09:10:26.454 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 09:10:26.556 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 09:10:26.556 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 09:10:26.557 | INFO     | uvicorn.server:serve:86 - Finished server process [8851]
2023-12-24 09:10:26.972 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 09:12:32.461 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56283 - "OPTIONS /user HTTP/1.1" 200
2023-12-24 09:12:32.471 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id
    FROM
        users
    WHERE
        users.email = '010@demo.com';
    
2023-12-24 09:12:32.474 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO users
        (
            name,
            email,
            password
        )
    VALUES
        (
            '山田花子',
            '010@demo.com',
            '12345678'
        )
    RETURNING id;
    
2023-12-24 09:12:32.484 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56283 - "POST /user HTTP/1.1" 200
2023-12-24 09:12:32.488 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56283 - "OPTIONS /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:12:32.502 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 09:12:32.505 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 09:12:32.511 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 09:12:32.513 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 09:12:32.515 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 09:12:32.517 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 09:12:32.523 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 09:12:32.524 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 09:12:32.529 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 09:12:32.531 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 09:12:32.533 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 09:12:32.535 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 09:12:32.545 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 09:12:32.547 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56284 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:13:24.393 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 09:13:24.495 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 09:13:24.495 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 09:13:24.495 | INFO     | uvicorn.server:serve:86 - Finished server process [8867]
2023-12-24 09:13:24.933 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 09:13:55.394 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 09:13:55.496 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 09:13:55.497 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 09:13:55.497 | INFO     | uvicorn.server:serve:86 - Finished server process [8902]
2023-12-24 09:13:55.906 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 09:14:51.852 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id
    FROM
        users
    WHERE
        users.email = '008@demo.com';
    
2023-12-24 09:14:51.857 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO users
        (
            name,
            email,
            password
        )
    VALUES
        (
            '山田八郎',
            '008@demo.com',
            '12345678'
        )
    RETURNING id;
    
2023-12-24 09:14:51.865 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO roles (type, user_id, org_id)
    VALUES (
        'RT01',
        'b1f85902-dadb-4e73-b6f2-1f4234d50729',
        'ecefbd09-a4e7-4b0a-9885-759e8b164397'
    )
    RETURNING id;
    
2023-12-24 09:14:51.869 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_code)
        VALUES (
            '681f4843-d2e1-41c1-a905-910109b64031',
            'P017'
        )
        
2023-12-24 09:14:51.873 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_code)
        VALUES (
            '681f4843-d2e1-41c1-a905-910109b64031',
            'P018'
        )
        
2023-12-24 09:14:51.876 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_code)
        VALUES (
            '681f4843-d2e1-41c1-a905-910109b64031',
            'P015'
        )
        
2023-12-24 09:14:51.878 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_code)
        VALUES (
            '681f4843-d2e1-41c1-a905-910109b64031',
            'P016'
        )
        
2023-12-24 09:14:51.880 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_code)
        VALUES (
            '681f4843-d2e1-41c1-a905-910109b64031',
            'P014'
        )
        
2023-12-24 09:14:51.882 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_code)
        VALUES (
            '681f4843-d2e1-41c1-a905-910109b64031',
            'P013'
        )
        
2023-12-24 09:14:51.883 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56846 - "POST /user HTTP/1.1" 200
2023-12-24 09:14:51.897 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 09:14:51.900 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 09:14:51.903 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 09:14:51.906 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 09:14:51.908 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 09:14:51.915 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 09:14:51.921 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 09:14:51.923 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 09:14:51.924 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 09:14:51.925 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 09:14:51.931 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 09:14:51.932 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 09:14:51.939 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 09:14:51.941 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'b1f85902-dadb-4e73-b6f2-1f4234d50729';
        
2023-12-24 09:14:51.945 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56846 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:15:42.308 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57053 - "OPTIONS /org_types HTTP/1.1" 200
2023-12-24 09:15:42.308 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57054 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 09:15:42.309 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57055 - "OPTIONS /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:15:42.309 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57056 - "OPTIONS /org_types HTTP/1.1" 200
2023-12-24 09:15:42.310 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57057 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 09:15:42.311 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57058 - "OPTIONS /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:15:42.317 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM org_types;
2023-12-24 09:15:42.320 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 09:15:42.321 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57053 - "GET /org_types HTTP/1.1" 200
2023-12-24 09:15:42.323 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 09:15:42.324 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57056 - "GET /role_types HTTP/1.1" 200
2023-12-24 09:15:42.330 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM org_types;
2023-12-24 09:15:42.334 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57053 - "GET /org_types HTTP/1.1" 200
2023-12-24 09:15:42.335 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 09:15:42.336 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 09:15:42.336 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57056 - "GET /role_types HTTP/1.1" 200
2023-12-24 09:15:42.338 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 09:15:42.339 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 09:15:42.339 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 09:15:42.340 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 09:15:42.341 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 09:15:42.341 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 09:15:42.342 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 09:15:42.342 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57055 - "GET /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:15:42.346 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 09:15:42.347 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 09:15:42.348 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 09:15:42.349 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 09:15:42.350 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 09:15:42.350 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 09:15:42.351 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 09:15:42.351 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 09:15:42.352 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 09:15:42.353 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57055 - "GET /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:15:47.267 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57056 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 09:15:47.268 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57053 - "OPTIONS /org/out/users?org_id=ecefbd09-a4e7-4b0a-9885-759e8b164397 HTTP/1.1" 200
2023-12-24 09:15:47.268 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57058 - "OPTIONS /org/in/users?org_id=ecefbd09-a4e7-4b0a-9885-759e8b164397 HTTP/1.1" 200
2023-12-24 09:15:47.268 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57057 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 09:15:47.268 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57054 - "OPTIONS /org/out/users?org_id=ecefbd09-a4e7-4b0a-9885-759e8b164397 HTTP/1.1" 200
2023-12-24 09:15:47.270 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57058 - "OPTIONS /org/in/users?org_id=ecefbd09-a4e7-4b0a-9885-759e8b164397 HTTP/1.1" 200
2023-12-24 09:15:47.285 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 09:15:47.287 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
    
2023-12-24 09:15:47.289 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57055 - "GET /role_types HTTP/1.1" 200
2023-12-24 09:15:47.302 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
    
2023-12-24 09:15:47.305 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 09:15:47.306 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 09:15:47.310 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '681f4843-d2e1-41c1-a905-910109b64031';
        
2023-12-24 09:15:47.311 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57057 - "GET /permission_types HTTP/1.1" 200
2023-12-24 09:15:47.311 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57055 - "GET /role_types HTTP/1.1" 200
2023-12-24 09:15:47.314 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name,
        email
    FROM
        users;
    
2023-12-24 09:15:47.317 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57054 - "GET /org/in/users?org_id=ecefbd09-a4e7-4b0a-9885-759e8b164397 HTTP/1.1" 200
2023-12-24 09:15:47.321 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57053 - "GET /org/out/users?org_id=ecefbd09-a4e7-4b0a-9885-759e8b164397 HTTP/1.1" 200
2023-12-24 09:15:47.342 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 09:15:47.344 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
    
2023-12-24 09:15:47.345 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
    
2023-12-24 09:15:47.345 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57055 - "GET /permission_types HTTP/1.1" 200
2023-12-24 09:15:47.351 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '681f4843-d2e1-41c1-a905-910109b64031';
        
2023-12-24 09:15:47.353 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57054 - "GET /org/in/users?org_id=ecefbd09-a4e7-4b0a-9885-759e8b164397 HTTP/1.1" 200
2023-12-24 09:15:47.353 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name,
        email
    FROM
        users;
    
2023-12-24 09:15:47.355 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57053 - "GET /org/out/users?org_id=ecefbd09-a4e7-4b0a-9885-759e8b164397 HTTP/1.1" 200
2023-12-24 09:15:59.285 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57148 - "OPTIONS /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:15:59.294 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 09:15:59.295 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 09:15:59.297 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57149 - "GET /role_types HTTP/1.1" 200
2023-12-24 09:15:59.297 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57150 - "GET /permission_types HTTP/1.1" 200
2023-12-24 09:15:59.300 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 09:15:59.303 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 09:15:59.303 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 09:15:59.310 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 09:15:59.311 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57148 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:15:59.311 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 09:15:59.313 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57150 - "GET /role_types HTTP/1.1" 200
2023-12-24 09:15:59.314 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57149 - "GET /permission_types HTTP/1.1" 200
2023-12-24 09:15:59.318 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 09:15:59.319 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 09:15:59.320 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 09:15:59.322 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57148 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:15:59.325 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 09:15:59.326 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 09:15:59.327 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 09:15:59.328 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 09:15:59.328 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 09:15:59.329 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 09:15:59.329 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 09:15:59.330 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 09:15:59.331 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 09:15:59.332 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 09:15:59.332 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 09:15:59.333 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'b1f85902-dadb-4e73-b6f2-1f4234d50729';
        
2023-12-24 09:15:59.333 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57151 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:15:59.338 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 09:15:59.339 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 09:15:59.340 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 09:15:59.341 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 09:15:59.342 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 09:15:59.342 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 09:15:59.343 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 09:15:59.343 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 09:15:59.344 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 09:15:59.345 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 09:15:59.345 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 09:15:59.346 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 09:15:59.346 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 09:15:59.347 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'b1f85902-dadb-4e73-b6f2-1f4234d50729';
        
2023-12-24 09:15:59.347 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57151 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:16:20.223 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE users
    SET
        name = '山田八郎1',
        email = '008@demo.com'
    WHERE
        id = 'b1f85902-dadb-4e73-b6f2-1f4234d50729';
    
2023-12-24 09:16:20.239 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO roles (type, user_id, org_id)
    VALUES (
        '',
        'b1f85902-dadb-4e73-b6f2-1f4234d50729',
        ''
    )
    RETURNING id;
    
2023-12-24 09:16:20.240 | ERROR    | app.endpoints.users:up_user:64 - invalid input syntax for type uuid: ""Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1028159d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102593430>
           └ <SpawnProcess name='SpawnProcess-76' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102587a60>
    └ <SpawnProcess name='SpawnProcess-76' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1027f1b20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-76' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-76' parent=96820 started>
    │    └ <function subprocess_started at 0x104cba3a0>
    └ <SpawnProcess name='SpawnProcess-76' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1027f1f70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x104ca7940>
           │       │   └ <uvicorn.server.Server object at 0x1027f1f70>
           │       └ <function run at 0x102853790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x104c92940>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104cf96a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104f98730>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104f987...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x104ddac70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104cf96a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104f98730>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104f987...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104f98730>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104f987...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104f07850>
          └ <fastapi.applications.FastAPI object at 0x104ddac70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x104de4dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104f987...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x104f079d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104f07850>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'content-length': '140', 'accept': 'application/json, text/plain...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x104de4dc0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104f987...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10444f940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x104f079d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x104f079d0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104f987...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104f07a00>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x104f079d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104de4e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104f987...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x104f07730>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104f07a00>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104de4e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104f987...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x104ddad90>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x104f07730>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104de4e50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104f987...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1043a7940>
          └ APIRoute(path='/user', name='up_user', methods=['PUT'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104de4e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104f987...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x104f044c0>
          └ APIRoute(path='/user', name='up_user', methods=['PUT'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x104dead00>
                     └ <function get_request_handler.<locals>.app at 0x104f041f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1043865e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x104cc12b0>, 'user_info': {'id': 'b1f85902-dadb-4e73-b6f2-1f4234d50729', 'name'...
                 │         └ <function up_user at 0x104b5f280>
                 └ <fastapi.dependencies.models.Dependant object at 0x104f0f0d0>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/users.py", line 58, in up_user
    await users_crud.update_user(db, user_info)
          │          │           │   └ {'id': 'b1f85902-dadb-4e73-b6f2-1f4234d50729', 'name': '山田八郎1', 'email': '008@demo.com', 'role_type': '', 'org_id': '', 'perm...
          │          │           └ <providers.psql_provider.DB object at 0x104cc12b0>
          │          └ <function update_user at 0x104b7cf70>
          └ <module 'app.crud.users_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/users_crud.py", line 154, in update_user
    role = await db.fetch_one(sql)
                 │  │         └ "\n    INSERT INTO roles (type, user_id, org_id)\n    VALUES (\n        '',\n        'b1f85902-dadb-4e73-b6f2-1f4234d50729',\...
                 │  └ <function DB.fetch_one at 0x10484e940>
                 └ <providers.psql_provider.DB object at 0x104cc12b0>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/providers/psql_provider.py", line 31, in fetch_one
    result = await con.fetchrow(query)
                   │   │        └ "\n    INSERT INTO roles (type, user_id, org_id)\n    VALUES (\n        '',\n        'b1f85902-dadb-4e73-b6f2-1f4234d50729',\...
                   │   └ <function Connection.fetchrow at 0x1045a9f70>
                   └ <PoolConnectionProxy [released] 0x104fc67c0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 749, in fetchrow
    data = await self._execute(
                 │    └ <function Connection._execute at 0x10459e040>
                 └ <asyncpg.connection.Connection object at 0x104dd0c70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x104dd0c70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x10459e430>
                         └ <asyncpg.connection.Connection object at 0x104dd0c70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x10459b550>
                 └ <asyncpg.connection.Connection object at 0x104dd0c70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x104dd0c70>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: ""

2023-12-24 09:16:20.267 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57152 - "PUT /user HTTP/1.1" 500
2023-12-24 09:18:21.445 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 09:18:21.546 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 09:18:21.547 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 09:18:21.547 | INFO     | uvicorn.server:serve:86 - Finished server process [8914]
2023-12-24 09:18:21.958 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 09:18:44.180 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 09:18:44.282 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 09:18:44.283 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 09:18:44.283 | INFO     | uvicorn.server:serve:86 - Finished server process [9032]
2023-12-24 09:18:44.700 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-24 09:18:55.873 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE users
    SET
        name = '山田八郎1',
        email = '008@demo.com'
    WHERE
        id = 'b1f85902-dadb-4e73-b6f2-1f4234d50729';
    
2023-12-24 09:18:55.883 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57879 - "PUT /user HTTP/1.1" 200
2023-12-24 09:18:55.899 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 09:18:55.902 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 09:18:55.909 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 09:18:55.911 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 09:18:55.913 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 09:18:55.916 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 09:18:55.917 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 09:18:55.918 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 09:18:55.919 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 09:18:55.920 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 09:18:55.923 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 09:18:55.925 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 09:18:55.926 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 09:18:55.931 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'b1f85902-dadb-4e73-b6f2-1f4234d50729';
        
2023-12-24 09:18:55.934 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57879 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:19:02.569 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE users
    SET
        name = '山田八郎',
        email = '008@demo.com'
    WHERE
        id = 'b1f85902-dadb-4e73-b6f2-1f4234d50729';
    
2023-12-24 09:19:02.575 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57906 - "PUT /user HTTP/1.1" 200
2023-12-24 09:19:02.588 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 09:19:02.590 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 09:19:02.592 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 09:19:02.596 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 09:19:02.597 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 09:19:02.598 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 09:19:02.603 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 09:19:02.604 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 09:19:02.608 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 09:19:02.611 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 09:19:02.614 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 09:19:02.615 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 09:19:02.616 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 09:19:02.620 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'b1f85902-dadb-4e73-b6f2-1f4234d50729';
        
2023-12-24 09:19:02.623 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57906 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:21:20.690 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 09:21:20.692 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 09:21:20.706 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58475 - "GET /role_types HTTP/1.1" 200
2023-12-24 09:21:20.707 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58477 - "GET /permission_types HTTP/1.1" 200
2023-12-24 09:21:20.708 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 09:21:20.709 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 09:21:20.710 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 09:21:20.711 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 09:21:20.712 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 09:21:20.713 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58477 - "GET /role_types HTTP/1.1" 200
2023-12-24 09:21:20.713 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 09:21:20.714 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58475 - "GET /permission_types HTTP/1.1" 200
2023-12-24 09:21:20.715 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 09:21:20.717 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58476 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:21:20.720 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 09:21:20.722 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58477 - "GET /role_types HTTP/1.1" 200
2023-12-24 09:21:20.724 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 09:21:20.725 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 09:21:20.726 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 09:21:20.726 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 09:21:20.728 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58476 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:21:20.728 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58477 - "GET /role_types HTTP/1.1" 200
2023-12-24 09:21:20.731 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 09:21:20.732 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 09:21:20.733 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 09:21:20.733 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 09:21:20.734 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 09:21:20.734 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 09:21:20.734 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 09:21:20.735 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 09:21:20.735 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 09:21:20.736 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'b1f85902-dadb-4e73-b6f2-1f4234d50729';
        
2023-12-24 09:21:20.737 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58478 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:21:20.753 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 09:21:20.754 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 09:21:20.755 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 09:21:20.756 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 09:21:20.756 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 09:21:20.757 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 09:21:20.758 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 09:21:20.758 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 09:21:20.759 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 09:21:20.760 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 09:21:20.761 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 09:21:20.761 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 09:21:20.762 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 09:21:20.763 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'b1f85902-dadb-4e73-b6f2-1f4234d50729';
        
2023-12-24 09:21:20.763 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58478 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:25:08.309 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58806 - "OPTIONS /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:25:08.311 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58807 - "OPTIONS /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:25:08.326 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 09:25:08.327 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 09:25:08.335 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 09:25:08.337 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 09:25:08.339 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58803 - "GET /role_types HTTP/1.1" 200
2023-12-24 09:25:08.343 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58805 - "GET /permission_types HTTP/1.1" 200
2023-12-24 09:25:08.350 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 09:25:08.350 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 09:25:08.353 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58803 - "GET /role_types HTTP/1.1" 200
2023-12-24 09:25:08.356 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58804 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:25:08.357 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 09:25:08.357 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 09:25:08.361 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58805 - "GET /permission_types HTTP/1.1" 200
2023-12-24 09:25:08.366 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 09:25:08.366 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 09:25:08.367 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58803 - "GET /role_types HTTP/1.1" 200
2023-12-24 09:25:08.367 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 09:25:08.371 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 09:25:08.371 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 09:25:08.372 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 09:25:08.372 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58803 - "GET /role_types HTTP/1.1" 200
2023-12-24 09:25:08.373 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58804 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:25:08.373 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 09:25:08.374 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 09:25:08.374 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 09:25:08.375 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 09:25:08.375 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 09:25:08.376 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 09:25:08.377 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 09:25:08.378 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 09:25:08.378 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 09:25:08.379 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'b1f85902-dadb-4e73-b6f2-1f4234d50729';
        
2023-12-24 09:25:08.379 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58806 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:25:08.383 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 09:25:08.384 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 09:25:08.385 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 09:25:08.386 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 09:25:08.387 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 09:25:08.387 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 09:25:08.388 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 09:25:08.388 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 09:25:08.389 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 09:25:08.390 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 09:25:08.390 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 09:25:08.391 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 09:25:08.392 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 09:25:08.393 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'b1f85902-dadb-4e73-b6f2-1f4234d50729';
        
2023-12-24 09:25:08.394 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58806 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:29:50.020 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58847 - "OPTIONS /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:29:50.022 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58848 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 09:29:50.022 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58849 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 09:29:50.023 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58847 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 09:29:50.024 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58851 - "OPTIONS /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:29:50.025 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58852 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 09:29:50.029 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 09:29:50.030 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 09:29:50.031 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 09:29:50.033 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 09:29:50.036 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58848 - "GET /permission_types HTTP/1.1" 200
2023-12-24 09:29:50.036 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58847 - "GET /role_types HTTP/1.1" 200
2023-12-24 09:29:50.040 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 09:29:50.041 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 09:29:50.044 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 09:29:50.044 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58849 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:29:50.048 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58847 - "GET /permission_types HTTP/1.1" 200
2023-12-24 09:29:50.049 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 09:29:50.051 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 09:29:50.052 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58848 - "GET /role_types HTTP/1.1" 200
2023-12-24 09:29:50.052 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 09:29:50.054 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 09:29:50.055 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 09:29:50.056 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 09:29:50.056 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 09:29:50.057 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 09:29:50.057 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 09:29:50.058 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58849 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:29:50.058 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 09:29:50.059 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 09:29:50.060 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 09:29:50.061 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 09:29:50.062 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 09:29:50.062 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'b1f85902-dadb-4e73-b6f2-1f4234d50729';
        
2023-12-24 09:29:50.063 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58850 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:29:50.067 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 09:29:50.069 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 09:29:50.070 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 09:29:50.071 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 09:29:50.071 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 09:29:50.072 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 09:29:50.073 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 09:29:50.074 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 09:29:50.075 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 09:29:50.075 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 09:29:50.076 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 09:29:50.076 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 09:29:50.077 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 09:29:50.077 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'b1f85902-dadb-4e73-b6f2-1f4234d50729';
        
2023-12-24 09:29:50.078 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58850 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:43:31.281 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58943 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 09:43:31.281 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58944 - "OPTIONS /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:43:31.282 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58945 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 09:43:31.282 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58946 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 09:43:31.282 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58947 - "OPTIONS /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:43:31.282 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58948 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 09:43:31.282 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58943 - "OPTIONS /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:43:31.284 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58946 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 09:43:31.284 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58945 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 09:43:31.284 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58947 - "OPTIONS /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:43:31.290 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 09:43:31.291 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 09:43:31.291 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 09:43:31.294 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58948 - "GET /permission_types HTTP/1.1" 200
2023-12-24 09:43:31.295 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58944 - "GET /role_types HTTP/1.1" 200
2023-12-24 09:43:31.295 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 09:43:31.297 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 09:43:31.299 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 09:43:31.303 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58946 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:43:31.305 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 09:43:31.306 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 09:43:31.306 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 09:43:31.307 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58948 - "GET /permission_types HTTP/1.1" 200
2023-12-24 09:43:31.308 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58944 - "GET /role_types HTTP/1.1" 200
2023-12-24 09:43:31.308 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 09:43:31.315 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 09:43:31.315 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 09:43:31.315 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 09:43:31.316 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58944 - "GET /role_types HTTP/1.1" 200
2023-12-24 09:43:31.317 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 09:43:31.317 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58946 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:43:31.322 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 09:43:31.323 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 09:43:31.323 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58944 - "GET /role_types HTTP/1.1" 200
2023-12-24 09:43:31.324 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 09:43:31.325 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 09:43:31.326 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 09:43:31.327 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 09:43:31.328 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 09:43:31.329 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 09:43:31.330 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 09:43:31.330 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'b1f85902-dadb-4e73-b6f2-1f4234d50729';
        
2023-12-24 09:43:31.331 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58943 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:43:31.335 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 09:43:31.337 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 09:43:31.338 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 09:43:31.339 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 09:43:31.340 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 09:43:31.341 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 09:43:31.342 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 09:43:31.342 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 09:43:31.344 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            orgs.id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 09:43:31.345 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '623421cd-b1fc-4efd-976b-b6e9ed8b8048';
        
2023-12-24 09:43:31.346 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '3361ea11-8fcc-4f5b-8dfe-e9b01faa5e00';
        
2023-12-24 09:43:31.346 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'ddf2ce90-1a7b-4958-a4c1-13bddcd558f5';
        
2023-12-24 09:43:31.347 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = '051260d6-5952-4a97-b37a-4630f09937f3';
        
2023-12-24 09:43:31.348 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            users
            ON
            users.id = roles.user_id
        LEFT JOIN
            orgs
            ON
            orgs.id = roles.org_id
        WHERE
            users.id = 'b1f85902-dadb-4e73-b6f2-1f4234d50729';
        
2023-12-24 09:43:31.348 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58943 - "GET /users?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 09:44:53.239 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 09:44:53.241 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58971 - "GET /role_types HTTP/1.1" 200
2023-12-24 09:44:53.248 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 09:44:53.250 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58971 - "GET /role_types HTTP/1.1" 200
2023-12-24 09:50:11.494 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 09:50:11.498 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59058 - "GET /role_types HTTP/1.1" 200
2023-12-24 09:50:11.508 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 09:50:11.511 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59058 - "GET /role_types HTTP/1.1" 200
2023-12-24 09:59:52.373 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59144 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 09:59:52.376 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59145 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 09:59:52.383 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 09:59:52.385 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59144 - "GET /role_types HTTP/1.1" 200
2023-12-24 09:59:52.392 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 09:59:52.398 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59144 - "GET /role_types HTTP/1.1" 200
2023-12-24 10:08:44.758 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 10:08:44.760 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59192 - "GET /role_types HTTP/1.1" 200
2023-12-24 10:08:44.770 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 10:08:44.773 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59192 - "GET /role_types HTTP/1.1" 200
2023-12-24 10:10:37.007 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59215 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 10:10:37.008 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59216 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 10:10:37.015 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 10:10:37.017 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59215 - "GET /role_types HTTP/1.1" 200
2023-12-24 10:10:37.025 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 10:10:37.027 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59215 - "GET /role_types HTTP/1.1" 200
2023-12-24 10:21:08.183 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59278 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 10:21:08.186 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59279 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 10:21:08.194 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 10:21:08.197 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59278 - "GET /role_types HTTP/1.1" 200
2023-12-24 10:21:08.204 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 10:21:08.205 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59278 - "GET /role_types HTTP/1.1" 200
2023-12-24 10:26:43.322 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 10:26:43.325 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59325 - "GET /role_types HTTP/1.1" 200
2023-12-24 10:26:43.331 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 10:26:43.332 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59325 - "GET /role_types HTTP/1.1" 200
2023-12-24 10:27:28.855 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 10:27:28.858 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59344 - "GET /role_types HTTP/1.1" 200
2023-12-24 10:27:28.864 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 10:27:28.866 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59344 - "GET /role_types HTTP/1.1" 200
2023-12-24 10:27:30.895 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 10:27:30.898 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59344 - "GET /role_types HTTP/1.1" 200
2023-12-24 10:27:30.913 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 10:27:30.916 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59344 - "GET /role_types HTTP/1.1" 200
2023-12-24 10:55:38.198 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59486 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 10:55:38.200 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59487 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 10:55:38.206 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 10:55:38.209 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59486 - "GET /role_types HTTP/1.1" 200
2023-12-24 10:55:38.217 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 10:55:38.218 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59486 - "GET /role_types HTTP/1.1" 200
2023-12-24 10:56:26.017 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 10:56:26.020 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59488 - "GET /role_types HTTP/1.1" 200
2023-12-24 10:56:26.031 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 10:56:26.033 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59488 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:02:09.246 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:02:09.248 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59555 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:02:09.255 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:02:09.257 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59555 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:02:58.515 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:02:58.529 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59571 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:02:58.546 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:02:58.549 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59571 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:03:00.658 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:03:00.661 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59571 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:03:00.675 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:03:00.679 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59571 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:12:33.120 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59659 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 11:12:33.120 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59660 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 11:12:33.127 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:12:33.130 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59659 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:12:33.135 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:12:33.137 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59659 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:14:36.281 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:14:36.283 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59684 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:14:36.289 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:14:36.291 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59684 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:14:38.519 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:14:38.523 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59684 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:14:38.530 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:14:38.533 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59684 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:25:58.447 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59747 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 11:25:58.447 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59748 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 11:25:58.455 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:25:58.465 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59747 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:25:58.473 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:25:58.477 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59747 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:28:25.082 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:28:25.088 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59772 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:28:25.095 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:28:25.100 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59772 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:28:53.794 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:28:53.799 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59787 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:28:53.811 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:28:53.814 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59787 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:30:45.599 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59809 - "OPTIONS /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:30:45.599 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59810 - "OPTIONS /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:30:45.607 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:30:45.607 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 11:30:45.609 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59808 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:30:45.610 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 11:30:45.614 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59809 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:30:45.619 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:30:45.620 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 11:30:45.623 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59808 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:30:45.624 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 11:30:45.626 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59809 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:37:31.894 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59890 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 11:37:31.895 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59892 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 11:37:31.900 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:37:31.901 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 11:37:31.902 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59890 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:37:31.908 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:37:31.911 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59890 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:37:31.911 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 11:37:31.915 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59891 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:37:31.922 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 11:37:31.928 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 11:37:31.930 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59891 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:37:36.983 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:37:36.984 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 11:37:36.991 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 11:37:36.991 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59893 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:37:36.993 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59900 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:37:37.002 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:37:37.003 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 11:37:37.006 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59893 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:37:37.006 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 11:37:37.008 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59900 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:39:37.001 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 11:39:37.002 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:39:37.011 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60405 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:39:37.019 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 11:39:37.019 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:39:37.023 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60405 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:39:37.023 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60406 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:39:37.035 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 11:39:37.040 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 11:39:37.042 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60405 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:43:10.578 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61297 - "OPTIONS /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:43:10.578 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61298 - "OPTIONS /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:43:10.589 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 11:43:10.592 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:43:10.602 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61296 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:43:10.603 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 11:43:10.609 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61297 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:43:10.616 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:43:10.625 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61296 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:43:10.627 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 11:43:10.631 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 11:43:10.635 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61297 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:43:33.350 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61399 - "OPTIONS /org/in/users?org_id=undefined HTTP/1.1" 200
2023-12-24 11:43:33.360 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61401 - "OPTIONS /org/in/users?org_id=undefined HTTP/1.1" 200
2023-12-24 11:43:33.372 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:43:33.374 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 11:43:33.380 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61299 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:43:33.382 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = 'undefined';
    
2023-12-24 11:43:33.385 | ERROR    | app.endpoints.orgs:org_in_users:78 - invalid input syntax for type uuid: "undefined"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104b919d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10490b430>
           └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1047f7a60>
    └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104b6db20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>
    │    └ <function subprocess_started at 0x111f623a0>
    └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104b6df70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x111f4f940>
           │       │   └ <uvicorn.server.Server object at 0x104b6df70>
           │       └ <function run at 0x104bcf790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x111f40940>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x111fa06d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1121c1eb0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1121c1e...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x112082ca0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x111fa06d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1121c1eb0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1121c1e...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1121c1eb0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1121c1e...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1121afee0>
          └ <fastapi.applications.FastAPI object at 0x112082ca0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1122a2e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1121c1e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1121afee0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1122a2e50>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1121c1e...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x110cf7940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1121c1e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1121afa30>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1122a2310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1121c1e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1121af9a0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1121afa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1122a2310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1121c1e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x112082dc0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1121af9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1122a2310>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1121c1e...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x110c4f940>
          └ APIRoute(path='/org/in/users', name='org_in_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1122a2310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1121c1e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1121b2160>
          └ APIRoute(path='/org/in/users', name='org_in_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x112297730>
                     └ <function get_request_handler.<locals>.app at 0x1121b20d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x110c2e5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x111f6f2e0>, 'org_id': 'undefined'}
                 │         └ <function org_in_users at 0x111e11700>
                 └ <fastapi.dependencies.models.Dependant object at 0x1121af430>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/orgs.py", line 72, in org_in_users
    users = await orgs_crud.query_in_org_users(db, org_id)
                  │         │                  │   └ 'undefined'
                  │         │                  └ <providers.psql_provider.DB object at 0x111f6f2e0>
                  │         └ <function query_in_org_users at 0x111df9790>
                  └ <module 'app.crud.orgs_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/orgs_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/orgs_crud.py", line 110, in query_in_org_users
    in_org_basic_users = await db.fetch_all(sql)
                               │  │         └ "\n    SELECT\n        users.id as id,\n        users.name as name,\n        users.email as email,\n        roles.id as role_...
                               │  └ <function DB.fetch_all at 0x111af3af0>
                               └ <providers.psql_provider.DB object at 0x111f6f2e0>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        users.id as id,\n        users.name as name,\n        users.email as email,\n        roles.id as role_...
                   │   └ <function Connection.fetch at 0x111851ee0>
                   └ <PoolConnectionProxy [released] 0x1122979d0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x111846040>
                 └ <asyncpg.connection.Connection object at 0x11228a5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x11228a5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x111846430>
                         └ <asyncpg.connection.Connection object at 0x11228a5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x111843550>
                 └ <asyncpg.connection.Connection object at 0x11228a5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x11228a5e0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "undefined"

2023-12-24 11:43:33.403 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61399 - "GET /org/in/users?org_id=undefined HTTP/1.1" 500
2023-12-24 11:43:33.403 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:43:33.406 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61299 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:43:33.407 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 11:43:33.410 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = 'undefined';
    
2023-12-24 11:43:33.413 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61400 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:43:33.413 | ERROR    | app.endpoints.orgs:org_in_users:78 - invalid input syntax for type uuid: "undefined"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104b919d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10490b430>
           └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1047f7a60>
    └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104b6db20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>
    │    └ <function subprocess_started at 0x111f623a0>
    └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104b6df70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x111f4f940>
           │       │   └ <uvicorn.server.Server object at 0x104b6df70>
           │       └ <function run at 0x104bcf790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x111f40940>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x111fa06d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11224d610>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11224d6...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x112082ca0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x111fa06d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11224d610>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11224d6...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11224d610>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11224d6...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1121afee0>
          └ <fastapi.applications.FastAPI object at 0x112082ca0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1122a2e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11224d6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1121afee0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1122a2e50>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11224d6...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x110cf7940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11224d6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1121afa30>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1122a2310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11224d6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1121af9a0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1121afa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1122a2310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11224d6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x112082dc0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1121af9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1122a2310>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11224d6...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x110c4f940>
          └ APIRoute(path='/org/in/users', name='org_in_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1122a2310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11224d6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1121b2160>
          └ APIRoute(path='/org/in/users', name='org_in_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x112092e80>
                     └ <function get_request_handler.<locals>.app at 0x1121b20d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x110c2e5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x111f6f2e0>, 'org_id': 'undefined'}
                 │         └ <function org_in_users at 0x111e11700>
                 └ <fastapi.dependencies.models.Dependant object at 0x1121af430>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/orgs.py", line 72, in org_in_users
    users = await orgs_crud.query_in_org_users(db, org_id)
                  │         │                  │   └ 'undefined'
                  │         │                  └ <providers.psql_provider.DB object at 0x111f6f2e0>
                  │         └ <function query_in_org_users at 0x111df9790>
                  └ <module 'app.crud.orgs_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/orgs_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/orgs_crud.py", line 110, in query_in_org_users
    in_org_basic_users = await db.fetch_all(sql)
                               │  │         └ "\n    SELECT\n        users.id as id,\n        users.name as name,\n        users.email as email,\n        roles.id as role_...
                               │  └ <function DB.fetch_all at 0x111af3af0>
                               └ <providers.psql_provider.DB object at 0x111f6f2e0>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        users.id as id,\n        users.name as name,\n        users.email as email,\n        roles.id as role_...
                   │   └ <function Connection.fetch at 0x111851ee0>
                   └ <PoolConnectionProxy [released] 0x1122a38b0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x111846040>
                 └ <asyncpg.connection.Connection object at 0x112526c70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x112526c70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x111846430>
                         └ <asyncpg.connection.Connection object at 0x112526c70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x111843550>
                 └ <asyncpg.connection.Connection object at 0x112526c70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x112526c70>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "undefined"

2023-12-24 11:43:33.419 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61399 - "GET /org/in/users?org_id=undefined HTTP/1.1" 500
2023-12-24 11:43:33.436 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 11:43:33.438 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 11:43:33.440 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61400 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:44:19.215 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 11:44:19.216 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:44:19.218 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 11:44:19.219 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61402 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:44:19.229 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61604 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:44:19.238 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:44:19.241 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61402 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:44:19.244 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 11:44:19.248 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 11:44:19.254 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61604 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:44:57.455 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = 'undefined';
    
2023-12-24 11:44:57.455 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:44:57.464 | ERROR    | app.endpoints.orgs:org_in_users:78 - invalid input syntax for type uuid: "undefined"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104b919d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10490b430>
           └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1047f7a60>
    └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104b6db20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>
    │    └ <function subprocess_started at 0x111f623a0>
    └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104b6df70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x111f4f940>
           │       │   └ <uvicorn.server.Server object at 0x104b6df70>
           │       └ <function run at 0x104bcf790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x111f40940>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x111fa06d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11224dc70>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11224dc...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x112082ca0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x111fa06d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11224dc70>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11224dc...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11224dc70>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11224dc...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1121afee0>
          └ <fastapi.applications.FastAPI object at 0x112082ca0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x11303c5e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11224dc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1121afee0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x11303c5e0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11224dc...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x110cf7940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11224dc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1121afa30>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x11303c700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11224dc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1121af9a0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1121afa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x11303c700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11224dc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x112082dc0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1121af9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x11303c700>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11224dc...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x110c4f940>
          └ APIRoute(path='/org/in/users', name='org_in_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x11303c700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11224dc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1121b2160>
          └ APIRoute(path='/org/in/users', name='org_in_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x112270310>
                     └ <function get_request_handler.<locals>.app at 0x1121b20d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x110c2e5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x111f6f2e0>, 'org_id': 'undefined'}
                 │         └ <function org_in_users at 0x111e11700>
                 └ <fastapi.dependencies.models.Dependant object at 0x1121af430>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/orgs.py", line 72, in org_in_users
    users = await orgs_crud.query_in_org_users(db, org_id)
                  │         │                  │   └ 'undefined'
                  │         │                  └ <providers.psql_provider.DB object at 0x111f6f2e0>
                  │         └ <function query_in_org_users at 0x111df9790>
                  └ <module 'app.crud.orgs_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/orgs_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/orgs_crud.py", line 110, in query_in_org_users
    in_org_basic_users = await db.fetch_all(sql)
                               │  │         └ "\n    SELECT\n        users.id as id,\n        users.name as name,\n        users.email as email,\n        roles.id as role_...
                               │  └ <function DB.fetch_all at 0x111af3af0>
                               └ <providers.psql_provider.DB object at 0x111f6f2e0>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        users.id as id,\n        users.name as name,\n        users.email as email,\n        roles.id as role_...
                   │   └ <function Connection.fetch at 0x111851ee0>
                   └ <PoolConnectionProxy [released] 0x1121c1dc0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x111846040>
                 └ <asyncpg.connection.Connection object at 0x11228a220>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x11228a220>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x111846430>
                         └ <asyncpg.connection.Connection object at 0x11228a220>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x111843550>
                 └ <asyncpg.connection.Connection object at 0x11228a220>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x11228a220>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "undefined"

2023-12-24 11:44:57.470 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61772 - "GET /org/in/users?org_id=undefined HTTP/1.1" 500
2023-12-24 11:44:57.470 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 11:44:57.472 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61771 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:44:57.479 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = 'undefined';
    
2023-12-24 11:44:57.480 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:44:57.481 | ERROR    | app.endpoints.orgs:org_in_users:78 - invalid input syntax for type uuid: "undefined"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104b919d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10490b430>
           └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1047f7a60>
    └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104b6db20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>
    │    └ <function subprocess_started at 0x111f623a0>
    └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104b6df70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x111f4f940>
           │       │   └ <uvicorn.server.Server object at 0x104b6df70>
           │       └ <function run at 0x104bcf790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x111f40940>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x111fa06d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112270430>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122704...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x112082ca0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x111fa06d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112270430>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122704...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112270430>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122704...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1121afee0>
          └ <fastapi.applications.FastAPI object at 0x112082ca0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x11303c5e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122704...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1121afee0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x11303c5e0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122704...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x110cf7940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122704...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1121afa30>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x11303cdc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122704...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1121af9a0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1121afa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x11303cdc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122704...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x112082dc0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1121af9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x11303cdc0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122704...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x110c4f940>
          └ APIRoute(path='/org/in/users', name='org_in_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x11303cdc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122704...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1121b2160>
          └ APIRoute(path='/org/in/users', name='org_in_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x11224d370>
                     └ <function get_request_handler.<locals>.app at 0x1121b20d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x110c2e5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x111f6f2e0>, 'org_id': 'undefined'}
                 │         └ <function org_in_users at 0x111e11700>
                 └ <fastapi.dependencies.models.Dependant object at 0x1121af430>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/orgs.py", line 72, in org_in_users
    users = await orgs_crud.query_in_org_users(db, org_id)
                  │         │                  │   └ 'undefined'
                  │         │                  └ <providers.psql_provider.DB object at 0x111f6f2e0>
                  │         └ <function query_in_org_users at 0x111df9790>
                  └ <module 'app.crud.orgs_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/orgs_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/orgs_crud.py", line 110, in query_in_org_users
    in_org_basic_users = await db.fetch_all(sql)
                               │  │         └ "\n    SELECT\n        users.id as id,\n        users.name as name,\n        users.email as email,\n        roles.id as role_...
                               │  └ <function DB.fetch_all at 0x111af3af0>
                               └ <providers.psql_provider.DB object at 0x111f6f2e0>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        users.id as id,\n        users.name as name,\n        users.email as email,\n        roles.id as role_...
                   │   └ <function Connection.fetch at 0x111851ee0>
                   └ <PoolConnectionProxy [released] 0x112297460>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x111846040>
                 └ <asyncpg.connection.Connection object at 0x112078a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x112078a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x111846430>
                         └ <asyncpg.connection.Connection object at 0x112078a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x111843550>
                 └ <asyncpg.connection.Connection object at 0x112078a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x112078a90>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "undefined"

2023-12-24 11:44:57.487 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61772 - "GET /org/in/users?org_id=undefined HTTP/1.1" 500
2023-12-24 11:44:57.488 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 11:44:57.489 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61771 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:44:57.493 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61773 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:44:57.501 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 11:44:57.503 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 11:44:57.505 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61773 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:45:39.735 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:45:39.737 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 11:45:39.738 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = 'undefined';
    
2023-12-24 11:45:39.738 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61959 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:45:39.743 | ERROR    | app.endpoints.orgs:org_in_users:78 - invalid input syntax for type uuid: "undefined"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104b919d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10490b430>
           └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1047f7a60>
    └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104b6db20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>
    │    └ <function subprocess_started at 0x111f623a0>
    └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104b6df70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x111f4f940>
           │       │   └ <uvicorn.server.Server object at 0x104b6df70>
           │       └ <function run at 0x104bcf790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x111f40940>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x111fa06d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122a3e80>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122a3e...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x112082ca0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x111fa06d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122a3e80>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122a3e...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122a3e80>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122a3e...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1121afee0>
          └ <fastapi.applications.FastAPI object at 0x112082ca0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1122a29d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122a3e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1121afee0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1122a29d0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122a3e...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x110cf7940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122a3e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1121afa30>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1122a2ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122a3e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1121af9a0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1121afa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1122a2ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122a3e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x112082dc0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1121af9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1122a2ee0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122a3e...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x110c4f940>
          └ APIRoute(path='/org/in/users', name='org_in_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1122a2ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122a3e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1121b2160>
          └ APIRoute(path='/org/in/users', name='org_in_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x112092eb0>
                     └ <function get_request_handler.<locals>.app at 0x1121b20d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x110c2e5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x111f6f2e0>, 'org_id': 'undefined'}
                 │         └ <function org_in_users at 0x111e11700>
                 └ <fastapi.dependencies.models.Dependant object at 0x1121af430>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/orgs.py", line 72, in org_in_users
    users = await orgs_crud.query_in_org_users(db, org_id)
                  │         │                  │   └ 'undefined'
                  │         │                  └ <providers.psql_provider.DB object at 0x111f6f2e0>
                  │         └ <function query_in_org_users at 0x111df9790>
                  └ <module 'app.crud.orgs_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/orgs_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/orgs_crud.py", line 110, in query_in_org_users
    in_org_basic_users = await db.fetch_all(sql)
                               │  │         └ "\n    SELECT\n        users.id as id,\n        users.name as name,\n        users.email as email,\n        roles.id as role_...
                               │  └ <function DB.fetch_all at 0x111af3af0>
                               └ <providers.psql_provider.DB object at 0x111f6f2e0>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        users.id as id,\n        users.name as name,\n        users.email as email,\n        roles.id as role_...
                   │   └ <function Connection.fetch at 0x111851ee0>
                   └ <PoolConnectionProxy [released] 0x11226db20>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x111846040>
                 └ <asyncpg.connection.Connection object at 0x1130874f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1130874f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x111846430>
                         └ <asyncpg.connection.Connection object at 0x1130874f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x111843550>
                 └ <asyncpg.connection.Connection object at 0x1130874f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1130874f0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "undefined"

2023-12-24 11:45:39.749 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61960 - "GET /org/in/users?org_id=undefined HTTP/1.1" 500
2023-12-24 11:45:39.755 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:45:39.757 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61959 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:45:39.759 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = 'undefined';
    
2023-12-24 11:45:39.759 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 11:45:39.760 | ERROR    | app.endpoints.orgs:org_in_users:78 - invalid input syntax for type uuid: "undefined"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104b919d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10490b430>
           └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1047f7a60>
    └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104b6db20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>
    │    └ <function subprocess_started at 0x111f623a0>
    └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104b6df70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x111f4f940>
           │       │   └ <uvicorn.server.Server object at 0x104b6df70>
           │       └ <function run at 0x104bcf790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x111f40940>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x111fa06d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112092e80>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112092e...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x112082ca0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x111fa06d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112092e80>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112092e...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112092e80>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112092e...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1121afee0>
          └ <fastapi.applications.FastAPI object at 0x112082ca0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1122a29d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112092e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1121afee0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1122a29d0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112092e...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x110cf7940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112092e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1121afa30>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x11208cee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112092e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1121af9a0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1121afa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x11208cee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112092e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x112082dc0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1121af9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x11208cee0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112092e...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x110c4f940>
          └ APIRoute(path='/org/in/users', name='org_in_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x11208cee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112092e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1121b2160>
          └ APIRoute(path='/org/in/users', name='org_in_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x112297070>
                     └ <function get_request_handler.<locals>.app at 0x1121b20d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x110c2e5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x111f6f2e0>, 'org_id': 'undefined'}
                 │         └ <function org_in_users at 0x111e11700>
                 └ <fastapi.dependencies.models.Dependant object at 0x1121af430>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/orgs.py", line 72, in org_in_users
    users = await orgs_crud.query_in_org_users(db, org_id)
                  │         │                  │   └ 'undefined'
                  │         │                  └ <providers.psql_provider.DB object at 0x111f6f2e0>
                  │         └ <function query_in_org_users at 0x111df9790>
                  └ <module 'app.crud.orgs_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/orgs_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/orgs_crud.py", line 110, in query_in_org_users
    in_org_basic_users = await db.fetch_all(sql)
                               │  │         └ "\n    SELECT\n        users.id as id,\n        users.name as name,\n        users.email as email,\n        roles.id as role_...
                               │  └ <function DB.fetch_all at 0x111af3af0>
                               └ <providers.psql_provider.DB object at 0x111f6f2e0>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        users.id as id,\n        users.name as name,\n        users.email as email,\n        roles.id as role_...
                   │   └ <function Connection.fetch at 0x111851ee0>
                   └ <PoolConnectionProxy [released] 0x1121bc7f0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x111846040>
                 └ <asyncpg.connection.Connection object at 0x1130876d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1130876d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x111846430>
                         └ <asyncpg.connection.Connection object at 0x1130876d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x111843550>
                 └ <asyncpg.connection.Connection object at 0x1130876d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1130876d0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "undefined"

2023-12-24 11:45:39.766 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61960 - "GET /org/in/users?org_id=undefined HTTP/1.1" 500
2023-12-24 11:45:39.767 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61961 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:45:39.774 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 11:45:39.776 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 11:45:39.778 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61961 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:46:25.829 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62155 - "OPTIONS /org/in/users?org_id= HTTP/1.1" 200
2023-12-24 11:46:25.835 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = '';
    
2023-12-24 11:46:25.837 | ERROR    | app.endpoints.orgs:org_in_users:78 - invalid input syntax for type uuid: ""Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104b919d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10490b430>
           └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1047f7a60>
    └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104b6db20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>
    │    └ <function subprocess_started at 0x111f623a0>
    └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104b6df70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x111f4f940>
           │       │   └ <uvicorn.server.Server object at 0x104b6df70>
           │       └ <function run at 0x104bcf790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x111f40940>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x111fa06d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122806a0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122806...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x112082ca0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x111fa06d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122806a0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122806...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122806a0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122806...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1121afee0>
          └ <fastapi.applications.FastAPI object at 0x112082ca0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x11208cee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122806...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1121afee0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x11208cee0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122806...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x110cf7940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122806...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1121afa30>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1122a29d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122806...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1121af9a0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1121afa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1122a29d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122806...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x112082dc0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1121af9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1122a29d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122806...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x110c4f940>
          └ APIRoute(path='/org/in/users', name='org_in_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1122a29d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122806...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1121b2160>
          └ APIRoute(path='/org/in/users', name='org_in_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1121a96d0>
                     └ <function get_request_handler.<locals>.app at 0x1121b20d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x110c2e5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x111f6f2e0>, 'org_id': ''}
                 │         └ <function org_in_users at 0x111e11700>
                 └ <fastapi.dependencies.models.Dependant object at 0x1121af430>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/orgs.py", line 72, in org_in_users
    users = await orgs_crud.query_in_org_users(db, org_id)
                  │         │                  │   └ ''
                  │         │                  └ <providers.psql_provider.DB object at 0x111f6f2e0>
                  │         └ <function query_in_org_users at 0x111df9790>
                  └ <module 'app.crud.orgs_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/orgs_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/orgs_crud.py", line 110, in query_in_org_users
    in_org_basic_users = await db.fetch_all(sql)
                               │  │         └ "\n    SELECT\n        users.id as id,\n        users.name as name,\n        users.email as email,\n        roles.id as role_...
                               │  └ <function DB.fetch_all at 0x111af3af0>
                               └ <providers.psql_provider.DB object at 0x111f6f2e0>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        users.id as id,\n        users.name as name,\n        users.email as email,\n        roles.id as role_...
                   │   └ <function Connection.fetch at 0x111851ee0>
                   └ <PoolConnectionProxy [released] 0x1122561c0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x111846040>
                 └ <asyncpg.connection.Connection object at 0x11228a400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x11228a400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x111846430>
                         └ <asyncpg.connection.Connection object at 0x11228a400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x111843550>
                 └ <asyncpg.connection.Connection object at 0x11228a400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x11228a400>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: ""

2023-12-24 11:46:25.841 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62155 - "GET /org/in/users?org_id= HTTP/1.1" 500
2023-12-24 11:46:29.194 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:46:29.209 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62155 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:46:29.222 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = '';
    
2023-12-24 11:46:29.226 | ERROR    | app.endpoints.orgs:org_in_users:78 - invalid input syntax for type uuid: ""Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104b919d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10490b430>
           └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1047f7a60>
    └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104b6db20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>
    │    └ <function subprocess_started at 0x111f623a0>
    └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104b6df70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x111f4f940>
           │       │   └ <uvicorn.server.Server object at 0x104b6df70>
           │       └ <function run at 0x104bcf790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x111f40940>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x111fa06d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112270430>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122704...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x112082ca0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x111fa06d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112270430>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122704...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112270430>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122704...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1121afee0>
          └ <fastapi.applications.FastAPI object at 0x112082ca0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1122a2af0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122704...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1121afee0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1122a2af0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122704...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x110cf7940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122704...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1121afa30>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1121ac670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122704...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1121af9a0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1121afa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1121ac670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122704...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x112082dc0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1121af9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1121ac670>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122704...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x110c4f940>
          └ APIRoute(path='/org/in/users', name='org_in_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1121ac670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122704...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1121b2160>
          └ APIRoute(path='/org/in/users', name='org_in_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x112270a90>
                     └ <function get_request_handler.<locals>.app at 0x1121b20d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x110c2e5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x111f6f2e0>, 'org_id': ''}
                 │         └ <function org_in_users at 0x111e11700>
                 └ <fastapi.dependencies.models.Dependant object at 0x1121af430>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/orgs.py", line 72, in org_in_users
    users = await orgs_crud.query_in_org_users(db, org_id)
                  │         │                  │   └ ''
                  │         │                  └ <providers.psql_provider.DB object at 0x111f6f2e0>
                  │         └ <function query_in_org_users at 0x111df9790>
                  └ <module 'app.crud.orgs_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/orgs_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/orgs_crud.py", line 110, in query_in_org_users
    in_org_basic_users = await db.fetch_all(sql)
                               │  │         └ "\n    SELECT\n        users.id as id,\n        users.name as name,\n        users.email as email,\n        roles.id as role_...
                               │  └ <function DB.fetch_all at 0x111af3af0>
                               └ <providers.psql_provider.DB object at 0x111f6f2e0>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        users.id as id,\n        users.name as name,\n        users.email as email,\n        roles.id as role_...
                   │   └ <function Connection.fetch at 0x111851ee0>
                   └ <PoolConnectionProxy [released] 0x1122407c0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x111846040>
                 └ <asyncpg.connection.Connection object at 0x113087b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x113087b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x111846430>
                         └ <asyncpg.connection.Connection object at 0x113087b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x111843550>
                 └ <asyncpg.connection.Connection object at 0x113087b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x113087b80>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: ""

2023-12-24 11:46:29.244 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62156 - "GET /org/in/users?org_id= HTTP/1.1" 500
2023-12-24 11:46:29.244 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 11:46:29.247 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:46:29.250 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62155 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:46:29.252 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = '';
    
2023-12-24 11:46:29.254 | ERROR    | app.endpoints.orgs:org_in_users:78 - invalid input syntax for type uuid: ""Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104b919d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10490b430>
           └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1047f7a60>
    └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104b6db20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>
    │    └ <function subprocess_started at 0x111f623a0>
    └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104b6df70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x111f4f940>
           │       │   └ <uvicorn.server.Server object at 0x104b6df70>
           │       └ <function run at 0x104bcf790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x111f40940>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x111fa06d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112240e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112240e...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x112082ca0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x111fa06d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112240e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112240e...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112240e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112240e...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1121afee0>
          └ <fastapi.applications.FastAPI object at 0x112082ca0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1121ac670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112240e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1121afee0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1121ac670>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112240e...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x110cf7940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112240e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1121afa30>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1122a2820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112240e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1121af9a0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1121afa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1122a2820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112240e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x112082dc0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1121af9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1122a2820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112240e...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x110c4f940>
          └ APIRoute(path='/org/in/users', name='org_in_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1122a2820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112240e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1121b2160>
          └ APIRoute(path='/org/in/users', name='org_in_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x112270e50>
                     └ <function get_request_handler.<locals>.app at 0x1121b20d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x110c2e5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x111f6f2e0>, 'org_id': ''}
                 │         └ <function org_in_users at 0x111e11700>
                 └ <fastapi.dependencies.models.Dependant object at 0x1121af430>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/orgs.py", line 72, in org_in_users
    users = await orgs_crud.query_in_org_users(db, org_id)
                  │         │                  │   └ ''
                  │         │                  └ <providers.psql_provider.DB object at 0x111f6f2e0>
                  │         └ <function query_in_org_users at 0x111df9790>
                  └ <module 'app.crud.orgs_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/orgs_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/orgs_crud.py", line 110, in query_in_org_users
    in_org_basic_users = await db.fetch_all(sql)
                               │  │         └ "\n    SELECT\n        users.id as id,\n        users.name as name,\n        users.email as email,\n        roles.id as role_...
                               │  └ <function DB.fetch_all at 0x111af3af0>
                               └ <providers.psql_provider.DB object at 0x111f6f2e0>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        users.id as id,\n        users.name as name,\n        users.email as email,\n        roles.id as role_...
                   │   └ <function Connection.fetch at 0x111851ee0>
                   └ <PoolConnectionProxy [released] 0x112280fd0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x111846040>
                 └ <asyncpg.connection.Connection object at 0x113087e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x113087e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x111846430>
                         └ <asyncpg.connection.Connection object at 0x113087e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x111843550>
                 └ <asyncpg.connection.Connection object at 0x113087e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x113087e50>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: ""

2023-12-24 11:46:29.259 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62156 - "GET /org/in/users?org_id= HTTP/1.1" 500
2023-12-24 11:46:29.259 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 11:46:29.262 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62177 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:46:29.269 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 11:46:29.274 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 11:46:29.276 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62177 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:46:51.002 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:46:51.004 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62277 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:46:51.011 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 11:46:51.019 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 11:46:51.019 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:46:51.020 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62277 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:46:51.021 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62278 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:46:51.026 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 11:46:51.030 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 11:46:51.034 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62278 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:46:54.351 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = '';
    
2023-12-24 11:46:54.357 | ERROR    | app.endpoints.orgs:org_in_users:78 - invalid input syntax for type uuid: ""Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104b919d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10490b430>
           └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1047f7a60>
    └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104b6db20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>
    │    └ <function subprocess_started at 0x111f623a0>
    └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104b6df70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x111f4f940>
           │       │   └ <uvicorn.server.Server object at 0x104b6df70>
           │       └ <function run at 0x104bcf790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x111f40940>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x111fa06d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112240df0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112240d...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x112082ca0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x111fa06d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112240df0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112240d...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112240df0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112240d...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1121afee0>
          └ <fastapi.applications.FastAPI object at 0x112082ca0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1121ac670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112240d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1121afee0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1121ac670>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112240d...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x110cf7940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112240d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1121afa30>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x11303cb80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112240d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1121af9a0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1121afa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x11303cb80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112240d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x112082dc0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1121af9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x11303cb80>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112240d...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x110c4f940>
          └ APIRoute(path='/org/in/users', name='org_in_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x11303cb80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x112240d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1121b2160>
          └ APIRoute(path='/org/in/users', name='org_in_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1122705e0>
                     └ <function get_request_handler.<locals>.app at 0x1121b20d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x110c2e5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x111f6f2e0>, 'org_id': ''}
                 │         └ <function org_in_users at 0x111e11700>
                 └ <fastapi.dependencies.models.Dependant object at 0x1121af430>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/orgs.py", line 72, in org_in_users
    users = await orgs_crud.query_in_org_users(db, org_id)
                  │         │                  │   └ ''
                  │         │                  └ <providers.psql_provider.DB object at 0x111f6f2e0>
                  │         └ <function query_in_org_users at 0x111df9790>
                  └ <module 'app.crud.orgs_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/orgs_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/orgs_crud.py", line 110, in query_in_org_users
    in_org_basic_users = await db.fetch_all(sql)
                               │  │         └ "\n    SELECT\n        users.id as id,\n        users.name as name,\n        users.email as email,\n        roles.id as role_...
                               │  └ <function DB.fetch_all at 0x111af3af0>
                               └ <providers.psql_provider.DB object at 0x111f6f2e0>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        users.id as id,\n        users.name as name,\n        users.email as email,\n        roles.id as role_...
                   │   └ <function Connection.fetch at 0x111851ee0>
                   └ <PoolConnectionProxy [released] 0x11225e5b0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x111846040>
                 └ <asyncpg.connection.Connection object at 0x1130ae4f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1130ae4f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x111846430>
                         └ <asyncpg.connection.Connection object at 0x1130ae4f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x111843550>
                 └ <asyncpg.connection.Connection object at 0x1130ae4f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1130ae4f0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: ""

2023-12-24 11:46:54.380 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62278 - "GET /org/in/users?org_id= HTTP/1.1" 500
2023-12-24 11:47:34.857 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62476 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 11:47:34.858 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62477 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 11:47:34.865 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:47:34.867 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62476 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:47:34.874 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:47:34.875 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62476 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:47:43.874 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 11:47:43.874 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:47:43.876 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62478 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:47:43.884 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 11:47:43.886 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:47:43.891 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62478 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:47:43.892 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62526 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:47:43.898 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 11:47:43.900 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 11:47:43.906 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62526 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:47:52.056 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = '';
    
2023-12-24 11:47:52.058 | ERROR    | app.endpoints.orgs:org_in_users:78 - invalid input syntax for type uuid: ""Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104b919d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10490b430>
           └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1047f7a60>
    └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104b6db20>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>
    │    └ <function subprocess_started at 0x111f623a0>
    └ <SpawnProcess name='SpawnProcess-78' parent=96820 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104b6df70>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x111f4f940>
           │       │   └ <uvicorn.server.Server object at 0x104b6df70>
           │       └ <function run at 0x104bcf790>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x111f40940>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x111fa06d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122a38b0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122a38...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x112082ca0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x111fa06d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122a38b0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122a38...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122a38b0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122a38...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1121afee0>
          └ <fastapi.applications.FastAPI object at 0x112082ca0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1121ac0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122a38...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1121afee0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1121ac0d0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122a38...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x110cf7940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122a38...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1121afa30>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1121afaf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1121ac670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122a38...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1121af9a0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1121afa30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1121ac670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122a38...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x112082dc0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1121af9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1121ac670>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122a38...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x110c4f940>
          └ APIRoute(path='/org/in/users', name='org_in_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1121ac670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1122a38...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1121b2160>
          └ APIRoute(path='/org/in/users', name='org_in_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x11225e160>
                     └ <function get_request_handler.<locals>.app at 0x1121b20d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x110c2e5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x111f6f2e0>, 'org_id': ''}
                 │         └ <function org_in_users at 0x111e11700>
                 └ <fastapi.dependencies.models.Dependant object at 0x1121af430>

> File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/endpoints/orgs.py", line 72, in org_in_users
    users = await orgs_crud.query_in_org_users(db, org_id)
                  │         │                  │   └ ''
                  │         │                  └ <providers.psql_provider.DB object at 0x111f6f2e0>
                  │         └ <function query_in_org_users at 0x111df9790>
                  └ <module 'app.crud.orgs_crud' from '/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/orgs_crud.py'>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/app/crud/orgs_crud.py", line 110, in query_in_org_users
    in_org_basic_users = await db.fetch_all(sql)
                               │  │         └ "\n    SELECT\n        users.id as id,\n        users.name as name,\n        users.email as email,\n        roles.id as role_...
                               │  └ <function DB.fetch_all at 0x111af3af0>
                               └ <providers.psql_provider.DB object at 0x111f6f2e0>

  File "/Users/ryu/Desktop/loan-ledger-v4/loan-ledger-if-v4/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        users.id as id,\n        users.name as name,\n        users.email as email,\n        roles.id as role_...
                   │   └ <function Connection.fetch at 0x111851ee0>
                   └ <PoolConnectionProxy [released] 0x112240e20>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x111846040>
                 └ <asyncpg.connection.Connection object at 0x1130ae5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1130ae5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x111846430>
                         └ <asyncpg.connection.Connection object at 0x1130ae5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x111843550>
                 └ <asyncpg.connection.Connection object at 0x1130ae5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-v4-_WxevXHE/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1130ae5e0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: ""

2023-12-24 11:47:52.062 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62564 - "GET /org/in/users?org_id= HTTP/1.1" 500
2023-12-24 11:48:39.557 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 11:48:39.562 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:48:39.564 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62765 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:48:39.565 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 11:48:39.569 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62766 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:48:39.571 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:48:39.576 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62765 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:48:39.578 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 11:48:39.580 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 11:48:39.583 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62766 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:48:41.932 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62766 - "OPTIONS /org/in/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 11:48:41.941 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
    
2023-12-24 11:48:41.944 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '109077c2-3552-4c47-9dea-fec85c0eae0f';
        
2023-12-24 11:48:41.952 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '35612b8c-6e47-4dfe-9fd4-7483348f5423';
        
2023-12-24 11:48:41.954 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '7d8d3db7-7c1f-4b37-b688-9b3c8ee7fc87';
        
2023-12-24 11:48:41.956 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d';
        
2023-12-24 11:48:41.959 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62765 - "GET /org/in/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 11:56:12.210 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64650 - "OPTIONS /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:56:12.210 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64651 - "OPTIONS /bank_types HTTP/1.1" 200
2023-12-24 11:56:12.210 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64652 - "OPTIONS /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:56:12.211 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64653 - "OPTIONS /bank_types HTTP/1.1" 200
2023-12-24 11:56:12.219 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:56:12.225 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 11:56:12.227 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 11:56:12.228 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64649 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:56:12.228 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64651 - "GET /bank_types HTTP/1.1" 200
2023-12-24 11:56:12.235 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 11:56:12.239 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 11:56:12.240 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64649 - "GET /role_types HTTP/1.1" 200
2023-12-24 11:56:12.241 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64651 - "GET /bank_types HTTP/1.1" 200
2023-12-24 11:56:12.241 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 11:56:12.245 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64654 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 11:56:12.251 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 11:56:12.254 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 11:56:12.256 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64654 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 12:08:34.422 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51331 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 12:08:34.424 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51332 - "OPTIONS /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 12:08:34.427 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51333 - "OPTIONS /bank_types HTTP/1.1" 200
2023-12-24 12:08:34.433 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51334 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 12:08:34.437 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51335 - "OPTIONS /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 12:08:34.437 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51336 - "OPTIONS /bank_types HTTP/1.1" 200
2023-12-24 12:08:34.449 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 12:08:34.450 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 12:08:34.452 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51331 - "GET /role_types HTTP/1.1" 200
2023-12-24 12:08:34.453 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 12:08:34.460 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 12:08:34.461 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51332 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 12:08:34.468 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51333 - "GET /bank_types HTTP/1.1" 200
2023-12-24 12:08:34.473 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 12:08:34.475 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 12:08:34.477 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51331 - "GET /role_types HTTP/1.1" 200
2023-12-24 12:08:34.477 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 12:08:34.477 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 12:08:34.479 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51332 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 12:08:34.479 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51333 - "GET /bank_types HTTP/1.1" 200
2023-12-24 12:10:56.573 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 12:10:56.575 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 12:10:56.576 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51924 - "GET /role_types HTTP/1.1" 200
2023-12-24 12:10:56.578 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 12:10:56.586 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51926 - "GET /bank_types HTTP/1.1" 200
2023-12-24 12:10:56.590 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 12:10:56.596 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 12:10:56.598 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51924 - "GET /role_types HTTP/1.1" 200
2023-12-24 12:10:56.598 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 12:10:56.601 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51926 - "GET /bank_types HTTP/1.1" 200
2023-12-24 12:10:56.602 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51925 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 12:10:56.610 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 12:10:56.612 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 12:10:56.613 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51926 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 12:16:37.054 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53313 - "OPTIONS /org_types HTTP/1.1" 200
2023-12-24 12:16:37.056 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53315 - "OPTIONS /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 12:16:37.056 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53316 - "OPTIONS /org_types HTTP/1.1" 200
2023-12-24 12:16:37.057 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53317 - "OPTIONS /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 12:16:37.063 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 12:16:37.065 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM org_types;
2023-12-24 12:16:37.065 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 12:16:37.066 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53314 - "GET /role_types HTTP/1.1" 200
2023-12-24 12:16:37.072 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53313 - "GET /org_types HTTP/1.1" 200
2023-12-24 12:16:37.081 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 12:16:37.083 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 12:16:37.083 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM org_types;
2023-12-24 12:16:37.086 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53314 - "GET /role_types HTTP/1.1" 200
2023-12-24 12:16:37.089 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53313 - "GET /org_types HTTP/1.1" 200
2023-12-24 12:16:37.089 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 12:16:37.091 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 12:16:37.092 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 12:16:37.093 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 12:16:37.094 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 12:16:37.095 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 12:16:37.096 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 12:16:37.097 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53315 - "GET /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 12:16:37.105 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 12:16:37.107 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 12:16:37.109 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
        
2023-12-24 12:16:37.110 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '4754b2d5-add2-4b47-9891-dfde3c992635';
        
2023-12-24 12:16:37.111 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '2066b1f1-d6c3-4520-ac06-c01dacc76f03';
        
2023-12-24 12:16:37.112 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = 'ecefbd09-a4e7-4b0a-9885-759e8b164397';
        
2023-12-24 12:16:37.113 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '7c56b92c-2210-4243-b5ce-a0347fe3cb64';
        
2023-12-24 12:16:37.114 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '90619bdf-61e4-4248-91f9-715c948bdab8';
        
2023-12-24 12:16:37.114 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            users.id as id,
            users.name as name,
            users.email as email,
            roles.type as type
        FROM
            users
        JOIN
            roles
            ON
            roles.user_id = users.id
        WHERE
            roles.org_id = '77607553-35da-4c13-973f-dd9088a68759';
        
2023-12-24 12:16:37.115 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53315 - "GET /orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 12:16:38.469 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53313 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 12:16:38.470 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53314 - "OPTIONS /org/out/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 12:16:38.470 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53317 - "OPTIONS /org/in/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 12:16:38.471 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53316 - "OPTIONS /permission_types HTTP/1.1" 200
2023-12-24 12:16:38.471 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53318 - "OPTIONS /org/out/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 12:16:38.472 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53313 - "OPTIONS /org/in/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 12:16:38.486 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 12:16:38.495 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53315 - "GET /role_types HTTP/1.1" 200
2023-12-24 12:16:38.500 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
    
2023-12-24 12:16:38.506 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 12:16:38.507 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
    
2023-12-24 12:16:38.510 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53317 - "GET /permission_types HTTP/1.1" 200
2023-12-24 12:16:38.513 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 12:16:38.518 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53315 - "GET /role_types HTTP/1.1" 200
2023-12-24 12:16:38.519 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM permissions ORDER BY name;
2023-12-24 12:16:38.520 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '109077c2-3552-4c47-9dea-fec85c0eae0f';
        
2023-12-24 12:16:38.522 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53317 - "GET /permission_types HTTP/1.1" 200
2023-12-24 12:16:38.523 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '35612b8c-6e47-4dfe-9fd4-7483348f5423';
        
2023-12-24 12:16:38.523 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name,
        email
    FROM
        users;
    
2023-12-24 12:16:38.525 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '7d8d3db7-7c1f-4b37-b688-9b3c8ee7fc87';
        
2023-12-24 12:16:38.525 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53318 - "GET /org/out/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 12:16:38.537 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
    
2023-12-24 12:16:38.537 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d';
        
2023-12-24 12:16:38.540 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53314 - "GET /org/in/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 12:16:38.546 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name,
        email
    FROM
        users;
    
2023-12-24 12:16:38.548 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id as id,
        users.name as name,
        users.email as email,
        roles.id as role_id,
        roles.type as role_type
    FROM
        users
    JOIN
        roles
        ON
        roles.user_id = users.id
    WHERE
        roles.org_id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af';
    
2023-12-24 12:16:38.549 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53318 - "GET /org/out/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 12:16:38.551 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '109077c2-3552-4c47-9dea-fec85c0eae0f';
        
2023-12-24 12:16:38.555 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '35612b8c-6e47-4dfe-9fd4-7483348f5423';
        
2023-12-24 12:16:38.557 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = '7d8d3db7-7c1f-4b37-b688-9b3c8ee7fc87';
        
2023-12-24 12:16:38.561 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            code,
            name
        FROM
            permissions
        JOIN
            role_permission_rels
            ON
            role_permission_rels.permission_code = permissions.code
        WHERE
            role_permission_rels.role_id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d';
        
2023-12-24 12:16:38.566 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53314 - "GET /org/in/users?org_id=7a756ca8-83ca-47aa-96f0-385bc82ba7af HTTP/1.1" 200
2023-12-24 12:17:57.375 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 12:17:57.379 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 12:17:57.386 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53676 - "GET /role_types HTTP/1.1" 200
2023-12-24 12:17:57.387 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 12:17:57.399 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53678 - "GET /bank_types HTTP/1.1" 200
2023-12-24 12:17:57.404 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 12:17:57.407 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 12:17:57.410 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53677 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 12:17:57.411 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53676 - "GET /role_types HTTP/1.1" 200
2023-12-24 12:17:57.411 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 12:17:57.422 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53678 - "GET /bank_types HTTP/1.1" 200
2023-12-24 12:17:57.426 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 12:17:57.428 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 12:17:57.432 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53676 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 12:30:33.325 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56788 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 12:30:33.326 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56789 - "OPTIONS /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 12:30:33.328 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56790 - "OPTIONS /bank_types HTTP/1.1" 200
2023-12-24 12:30:33.330 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56791 - "OPTIONS /role_types HTTP/1.1" 200
2023-12-24 12:30:33.331 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56792 - "OPTIONS /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 12:30:33.331 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56793 - "OPTIONS /bank_types HTTP/1.1" 200
2023-12-24 12:30:33.339 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 12:30:33.340 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 12:30:33.345 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 12:30:33.345 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56788 - "GET /role_types HTTP/1.1" 200
2023-12-24 12:30:33.346 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56790 - "GET /bank_types HTTP/1.1" 200
2023-12-24 12:30:33.350 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 12:30:33.356 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM role_types;
2023-12-24 12:30:33.357 | INFO     | providers.psql_provider:fetch_all:39 - SELECT * FROM bank_types;
2023-12-24 12:30:33.357 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56789 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 12:30:33.359 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56790 - "GET /bank_types HTTP/1.1" 200
2023-12-24 12:30:33.360 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56788 - "GET /role_types HTTP/1.1" 200
2023-12-24 12:30:33.367 | INFO     | providers.psql_provider:fetch_one:30 - SELECT org_id FROM roles WHERE id = 'e2fa169b-f1d0-4564-b970-e6de28475a8d'
2023-12-24 12:30:33.370 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
        SELECT id, type, name, parent_id, 0 as depth FROM orgs WHERE id = '7a756ca8-83ca-47aa-96f0-385bc82ba7af'
        UNION ALL 
        SELECT child.id, child.type, child.name, child.parent_id, parents.depth + 1 as depth FROM orgs as child INNER JOIN parents ON parents.id = child.parent_id
    )
    SELECT
        parents.*
    FROM
        parents;
    
2023-12-24 12:30:33.372 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56789 - "GET /options/orgs?role_id=e2fa169b-f1d0-4564-b970-e6de28475a8d HTTP/1.1" 200
2023-12-24 12:46:25.429 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-24 12:46:25.532 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-24 12:46:25.533 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-24 12:46:25.533 | INFO     | uvicorn.server:serve:86 - Finished server process [9044]
