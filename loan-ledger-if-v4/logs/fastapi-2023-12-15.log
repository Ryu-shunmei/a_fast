2023-12-15 00:00:46.635 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:05:37.968 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:05:38.070 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:05:38.070 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:05:38.070 | INFO     | uvicorn.server:serve:86 - Finished server process [26591]
2023-12-15 00:05:38.474 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:08:57.051 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:08:57.153 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:08:57.153 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:08:57.153 | INFO     | uvicorn.server:serve:86 - Finished server process [26646]
2023-12-15 00:08:57.573 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:09:02.548 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:09:02.650 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:09:02.651 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:09:02.651 | INFO     | uvicorn.server:serve:86 - Finished server process [26678]
2023-12-15 00:09:03.086 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:11:24.399 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:11:24.501 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:11:24.501 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:11:24.502 | INFO     | uvicorn.server:serve:86 - Finished server process [26686]
2023-12-15 00:11:24.933 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:14:32.422 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:14:32.524 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:14:32.524 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:14:32.525 | INFO     | uvicorn.server:serve:86 - Finished server process [26712]
2023-12-15 00:14:32.928 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:14:34.649 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:14:34.751 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:14:34.751 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:14:34.751 | INFO     | uvicorn.server:serve:86 - Finished server process [26746]
2023-12-15 00:14:35.172 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:14:49.548 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:14:49.649 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:14:49.649 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:14:49.649 | INFO     | uvicorn.server:serve:86 - Finished server process [26753]
2023-12-15 00:14:50.046 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:15:43.825 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:15:43.927 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:15:43.928 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:15:43.928 | INFO     | uvicorn.server:serve:86 - Finished server process [26761]
2023-12-15 00:15:44.337 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:18:11.945 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:18:12.046 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:18:12.047 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:18:12.047 | INFO     | uvicorn.server:serve:86 - Finished server process [26774]
2023-12-15 00:18:12.456 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:19:00.706 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:19:00.808 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:19:00.808 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:19:00.809 | INFO     | uvicorn.server:serve:86 - Finished server process [26799]
2023-12-15 00:19:01.209 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:24:10.353 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:24:10.454 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:24:10.454 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:24:10.454 | INFO     | uvicorn.server:serve:86 - Finished server process [26814]
2023-12-15 00:24:10.872 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:24:23.123 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:24:23.224 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:24:23.225 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:24:23.225 | INFO     | uvicorn.server:serve:86 - Finished server process [26871]
2023-12-15 00:24:23.635 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:29:19.089 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:29:19.189 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:29:19.190 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:29:19.190 | INFO     | uvicorn.server:serve:86 - Finished server process [26884]
2023-12-15 00:29:19.592 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:31:17.821 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:31:17.923 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:31:17.924 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:31:17.924 | INFO     | uvicorn.server:serve:86 - Finished server process [26937]
2023-12-15 00:31:18.331 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:31:27.050 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:31:27.151 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:31:27.152 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:31:27.152 | INFO     | uvicorn.server:serve:86 - Finished server process [26963]
2023-12-15 00:31:27.559 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:31:53.970 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:31:54.071 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:31:54.072 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:31:54.072 | INFO     | uvicorn.server:serve:86 - Finished server process [26975]
2023-12-15 00:31:54.484 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:32:42.467 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:32:42.569 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:32:42.570 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:32:42.570 | INFO     | uvicorn.server:serve:86 - Finished server process [26983]
2023-12-15 00:32:42.985 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:36:34.685 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:36:34.786 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:36:34.787 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:36:34.787 | INFO     | uvicorn.server:serve:86 - Finished server process [26995]
2023-12-15 00:36:35.215 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:36:45.337 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:36:45.439 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:36:45.440 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:36:45.440 | INFO     | uvicorn.server:serve:86 - Finished server process [27039]
2023-12-15 00:36:45.850 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:37:06.690 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:37:06.792 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:37:06.792 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:37:06.793 | INFO     | uvicorn.server:serve:86 - Finished server process [27048]
2023-12-15 00:37:07.212 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:37:58.625 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:37:58.727 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:37:58.728 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:37:58.728 | INFO     | uvicorn.server:serve:86 - Finished server process [27059]
2023-12-15 00:37:59.144 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:38:53.928 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:38:54.030 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:38:54.031 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:38:54.031 | INFO     | uvicorn.server:serve:86 - Finished server process [27073]
2023-12-15 00:38:54.467 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:39:05.397 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:39:05.498 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:39:05.499 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:39:05.499 | INFO     | uvicorn.server:serve:86 - Finished server process [27089]
2023-12-15 00:39:05.909 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:39:12.386 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:39:12.488 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:39:12.489 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:39:12.489 | INFO     | uvicorn.server:serve:86 - Finished server process [27099]
2023-12-15 00:39:12.884 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:40:19.056 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id
    FROM
        users
    WHERE
        users.email = 'admin@demo.com';
    
2023-12-15 00:40:19.060 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65144 - "POST /user HTTP/1.1" 400
2023-12-15 00:41:13.326 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password
    FROM
        users
    WHERE
        users.email = 'admin@demo.com';
    
2023-12-15 00:41:13.329 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 00:41:13.331 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.type,
        orgs.name,
        orgs.remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 00:41:13.335 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 00:41:13.345 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 00:41:13.351 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65365 - "POST /token HTTP/1.1" 200
2023-12-15 00:44:05.536 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:44:05.639 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:44:05.640 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:44:05.640 | INFO     | uvicorn.server:serve:86 - Finished server process [27107]
2023-12-15 00:44:06.121 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:44:25.042 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:44:25.143 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:44:25.143 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:44:25.144 | INFO     | uvicorn.server:serve:86 - Finished server process [27210]
2023-12-15 00:44:25.565 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:44:32.643 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password
    FROM
        users
    WHERE
        users.email = 'admin@demo.com';
    
2023-12-15 00:44:32.647 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 00:44:32.648 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.type,
        orgs.name,
        orgs.remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 00:44:32.659 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 00:44:32.668 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 00:44:32.672 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49881 - "POST /token HTTP/1.1" 200
2023-12-15 00:50:21.595 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password
    FROM
        users
    WHERE
        users.email = '001@demo.com';
    
2023-12-15 00:50:21.600 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 00:50:21.603 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.type,
        orgs.name,
        orgs.remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 00:50:21.610 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 00:50:21.630 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 00:50:21.635 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51280 - "POST /token HTTP/1.1" 200
2023-12-15 00:51:15.225 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password
    FROM
        users
    WHERE
        users.email = '003@demo.com';
    
2023-12-15 00:51:15.231 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'cf3facb5-de15-4b25-8f13-c3cbe6db0a25';
    
2023-12-15 00:51:15.236 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.type,
        orgs.name,
        orgs.remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'cf3facb5-de15-4b25-8f13-c3cbe6db0a25';
    
2023-12-15 00:51:15.243 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'cf3facb5-de15-4b25-8f13-c3cbe6db0a25';
    
2023-12-15 00:51:15.249 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'cf3facb5-de15-4b25-8f13-c3cbe6db0a25';
    
2023-12-15 00:51:15.253 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51500 - "POST /token HTTP/1.1" 200
2023-12-15 00:51:44.556 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 00:51:44.560 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 00:51:44.562 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.type,
        orgs.name,
        orgs.remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 00:51:44.565 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 00:51:44.577 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 00:51:44.580 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51627 - "POST /token HTTP/1.1" 200
2023-12-15 00:53:12.276 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:53:12.377 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:53:12.378 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:53:12.378 | INFO     | uvicorn.server:serve:86 - Finished server process [27223]
2023-12-15 00:53:12.782 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:53:27.726 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 00:53:27.732 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 00:53:27.735 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOINT
        user_role_rels
        ON
        user_role_rels.role_is = roles.id
    JOINT
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOINT
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 00:53:27.738 | ERROR    | app.endpoints.auth:auth_for_token:36 - syntax error at or near "user_role_rels"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104a899d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104807430>
           └ <SpawnProcess name='SpawnProcess-113' parent=19712 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1047fba60>
    └ <SpawnProcess name='SpawnProcess-113' parent=19712 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104a9a9d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-113' parent=19712 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-113' parent=19712 started>
    │    └ <function subprocess_started at 0x106f1e040>
    └ <SpawnProcess name='SpawnProcess-113' parent=19712 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104a9aaf0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x106f075e0>
           │       │   └ <uvicorn.server.Server object at 0x104a9aaf0>
           │       └ <function run at 0x104ac6820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x106f083c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106f5a460>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10704bd90>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10704bd...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10703abe0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106f5a460>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10704bd90>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10704bd...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10704bd90>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10704bd...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1070451c0>
          └ <fastapi.applications.FastAPI object at 0x10703abe0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10703f3a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10704bd...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x107040fa0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1070451c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10703f3a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10704bd...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107040e50>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107040fa0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106aa9700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10704bd...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1070403d0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107040e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106aa9700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10704bd...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10703ad00>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1070403d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106aa9700>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10704bd...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106619af0>
          └ APIRoute(path='/token', name='auth_for_token', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106aa9700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10704bd...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10703f1f0>
          └ APIRoute(path='/token', name='auth_for_token', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x107045340>
                     └ <function get_request_handler.<locals>.app at 0x10703f160>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x106608790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x106f282b0>, 'auth_user': {'email': '004@demo.com', 'password': '12345678'}}
                 │         └ <function auth_for_token at 0x106dba9d0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10703a730>

> File "/Users/ryu/loan-ledger-if/app/endpoints/auth.py", line 29, in auth_for_token
    payload = await auth_crud.query_token_payload(db, db_user["id"])
                    │         │                   │   └ {'id': '37c0b84f-d73b-4a2f-ace0-a750ef7e288e', 'email': '004@demo.com', 'password': '12345678', 'curr_role_id': None}
                    │         │                   └ <providers.psql_provider.DB object at 0x106f282b0>
                    │         └ <function query_token_payload at 0x106ad49d0>
                    └ <module 'app.crud.auth_crud' from '/Users/ryu/loan-ledger-if/app/crud/auth_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/auth_crud.py", line 57, in query_token_payload
    roles = await db.fetch_all(sql)
                  │  │         └ "\n    SELECT\n        roles.id,\n        roles.type,\n        orgs.name as org_name\n    FROM\n        roles\n    JOINT\n   ...
                  │  └ <function DB.fetch_all at 0x106ac9c10>
                  └ <providers.psql_provider.DB object at 0x106f282b0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        roles.id,\n        roles.type,\n        orgs.name as org_name\n    FROM\n        roles\n    JOINT\n   ...
                   │   └ <function Connection.fetch at 0x1068230d0>
                   └ <PoolConnectionProxy [released] 0x10705aa90>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x1068101f0>
                 └ <asyncpg.connection.Connection object at 0x10717c6d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x10717c6d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1068105e0>
                         └ <asyncpg.connection.Connection object at 0x10717c6d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x10680e700>
                 └ <asyncpg.connection.Connection object at 0x10717c6d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x10717c6d0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.PostgresSyntaxError: syntax error at or near "user_role_rels"

2023-12-15 00:53:27.767 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52048 - "POST /token HTTP/1.1" 500
2023-12-15 00:54:09.707 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:54:09.809 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:54:09.811 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:54:09.811 | INFO     | uvicorn.server:serve:86 - Finished server process [27345]
2023-12-15 00:54:10.257 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:54:29.679 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:54:29.781 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:54:29.782 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:54:29.782 | INFO     | uvicorn.server:serve:86 - Finished server process [27368]
2023-12-15 00:54:30.186 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:54:35.530 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 00:54:35.536 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 00:54:35.540 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_is = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 00:54:35.542 | ERROR    | app.endpoints.auth:auth_for_token:36 - column user_role_rels.role_is does not exist
HINT:  Perhaps you meant to reference the column "user_role_rels.role_id".Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104b5d9d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1048db430>
           └ <SpawnProcess name='SpawnProcess-115' parent=19712 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1048cfa60>
    └ <SpawnProcess name='SpawnProcess-115' parent=19712 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104b6e9d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-115' parent=19712 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-115' parent=19712 started>
    │    └ <function subprocess_started at 0x10743d040>
    └ <SpawnProcess name='SpawnProcess-115' parent=19712 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104b6eaf0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1074265e0>
           │       │   └ <uvicorn.server.Server object at 0x104b6eaf0>
           │       └ <function run at 0x104b9a820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1074283c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x107479460>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10756bd90>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10756bd...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10755abe0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x107479460>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10756bd90>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10756bd...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10756bd90>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10756bd...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1075641c0>
          └ <fastapi.applications.FastAPI object at 0x10755abe0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10755b3a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10756bd...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x107560fa0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1075641c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10755b3a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10756bd...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107560e50>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107560fa0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106e9d700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10756bd...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1075603d0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107560e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106e9d700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10756bd...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10755ad00>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1075603d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106e9d700>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10756bd...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106a0daf0>
          └ APIRoute(path='/token', name='auth_for_token', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106e9d700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10756bd...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10755b1f0>
          └ APIRoute(path='/token', name='auth_for_token', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x107564340>
                     └ <function get_request_handler.<locals>.app at 0x10755b160>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1068fb790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1074492b0>, 'auth_user': {'email': '004@demo.com', 'password': '12345678'}}
                 │         └ <function auth_for_token at 0x1071ae9d0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10755a730>

> File "/Users/ryu/loan-ledger-if/app/endpoints/auth.py", line 29, in auth_for_token
    payload = await auth_crud.query_token_payload(db, db_user["id"])
                    │         │                   │   └ {'id': '37c0b84f-d73b-4a2f-ace0-a750ef7e288e', 'email': '004@demo.com', 'password': '12345678', 'curr_role_id': None}
                    │         │                   └ <providers.psql_provider.DB object at 0x1074492b0>
                    │         └ <function query_token_payload at 0x106ec89d0>
                    └ <module 'app.crud.auth_crud' from '/Users/ryu/loan-ledger-if/app/crud/auth_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/auth_crud.py", line 57, in query_token_payload
    roles = await db.fetch_all(sql)
                  │  │         └ "\n    SELECT\n        roles.id,\n        roles.type,\n        orgs.name as org_name\n    FROM\n        roles\n    JOIN\n    ...
                  │  └ <function DB.fetch_all at 0x106ebdc10>
                  └ <providers.psql_provider.DB object at 0x1074492b0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        roles.id,\n        roles.type,\n        orgs.name as org_name\n    FROM\n        roles\n    JOIN\n    ...
                   │   └ <function Connection.fetch at 0x106c170d0>
                   └ <PoolConnectionProxy [released] 0x10757aa90>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x106c041f0>
                 └ <asyncpg.connection.Connection object at 0x10769c6d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x10769c6d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x106c045e0>
                         └ <asyncpg.connection.Connection object at 0x10769c6d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x106c02700>
                 └ <asyncpg.connection.Connection object at 0x10769c6d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x10769c6d0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.UndefinedColumnError: column user_role_rels.role_is does not exist
HINT:  Perhaps you meant to reference the column "user_role_rels.role_id".

2023-12-15 00:54:35.572 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52334 - "POST /token HTTP/1.1" 500
2023-12-15 00:55:07.254 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:55:07.356 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:55:07.356 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:55:07.356 | INFO     | uvicorn.server:serve:86 - Finished server process [27381]
2023-12-15 00:55:07.776 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:55:10.505 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 00:55:10.513 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 00:55:10.517 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 00:55:10.523 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            id
        FROM
            roles
        JOIN
            user_role_rels
            ON
            user_role_rels.role_is = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 00:55:10.524 | ERROR    | app.endpoints.auth:auth_for_token:36 - column user_role_rels.role_is does not exist
HINT:  Perhaps you meant to reference the column "user_role_rels.role_id".Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1030d19d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102e4f430>
           └ <SpawnProcess name='SpawnProcess-116' parent=19712 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102e43a60>
    └ <SpawnProcess name='SpawnProcess-116' parent=19712 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1030e29d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-116' parent=19712 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-116' parent=19712 started>
    │    └ <function subprocess_started at 0x106252040>
    └ <SpawnProcess name='SpawnProcess-116' parent=19712 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1030e2af0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x10623a5e0>
           │       │   └ <uvicorn.server.Server object at 0x1030e2af0>
           │       └ <function run at 0x10310e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10623d3c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10628e430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10637fca0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10637fc...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10636ebb0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10628e430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10637fca0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10637fc...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10637fca0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10637fc...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x106374f70>
          └ <fastapi.applications.FastAPI object at 0x10636ebb0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1063723a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10637fc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x106374e20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x106374f70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1063723a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10637fc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x106374fa0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x106374e20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105ddd700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10637fc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x106387370>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x106374fa0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105ddd700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10637fc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10636ecd0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x106387370>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105ddd700>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10637fc...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x105825af0>
          └ APIRoute(path='/token', name='auth_for_token', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105ddd700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10637fc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1063721f0>
          └ APIRoute(path='/token', name='auth_for_token', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x106378220>
                     └ <function get_request_handler.<locals>.app at 0x106372160>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1056fc790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x10625e280>, 'auth_user': {'email': '004@demo.com', 'password': '12345678'}}
                 │         └ <function auth_for_token at 0x1060ee9d0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10636e910>

> File "/Users/ryu/loan-ledger-if/app/endpoints/auth.py", line 29, in auth_for_token
    payload = await auth_crud.query_token_payload(db, db_user["id"])
                    │         │                   │   └ {'id': '37c0b84f-d73b-4a2f-ace0-a750ef7e288e', 'email': '004@demo.com', 'password': '12345678', 'curr_role_id': None}
                    │         │                   └ <providers.psql_provider.DB object at 0x10625e280>
                    │         └ <function query_token_payload at 0x105e089d0>
                    └ <module 'app.crud.auth_crud' from '/Users/ryu/loan-ledger-if/app/crud/auth_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/auth_crud.py", line 104, in query_token_payload
    curr_role_id = await db.fetch_value(sql)
                         │  │           └ "\n        SELECT\n            id\n        FROM\n            roles\n        JOIN\n            user_role_rels\n            ON\...
                         │  └ <function DB.fetch_value at 0x105dfdf70>
                         └ <providers.psql_provider.DB object at 0x10625e280>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n        SELECT\n            id\n        FROM\n            roles\n        JOIN\n            user_role_rels\n            ON\...
                   │   └ <function Connection.fetchval at 0x105b571f0>
                   └ <PoolConnectionProxy [released] 0x10638e910>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n        SELECT\n            id\n        FROM\n            roles\n        JOIN\n            user_role_rels\n            ON\...
                 │    └ <function Connection._execute at 0x105b441f0>
                 └ <asyncpg.connection.Connection object at 0x1064b06d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1064b06d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x105b445e0>
                         └ <asyncpg.connection.Connection object at 0x1064b06d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x105b42700>
                 └ <asyncpg.connection.Connection object at 0x1064b06d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1064b06d0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.UndefinedColumnError: column user_role_rels.role_is does not exist
HINT:  Perhaps you meant to reference the column "user_role_rels.role_id".

2023-12-15 00:55:10.555 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52479 - "POST /token HTTP/1.1" 500
2023-12-15 00:55:26.193 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:55:26.294 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:55:26.295 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:55:26.295 | INFO     | uvicorn.server:serve:86 - Finished server process [27395]
2023-12-15 00:55:26.691 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:55:29.463 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 00:55:29.468 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 00:55:29.470 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 00:55:29.479 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            id
        FROM
            roles
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 00:55:29.482 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 00:55:29.499 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 00:55:29.500 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52560 - "POST /token HTTP/1.1" 200
2023-12-15 00:56:55.333 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 00:56:55.434 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 00:56:55.435 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 00:56:55.435 | INFO     | uvicorn.server:serve:86 - Finished server process [27406]
2023-12-15 00:56:55.848 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 00:56:59.835 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 00:56:59.839 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 00:56:59.842 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 00:56:59.846 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            id
        FROM
            roles
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 00:56:59.848 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 00:56:59.854 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 00:56:59.858 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52929 - "POST /token HTTP/1.1" 200
2023-12-15 01:00:18.294 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 01:00:18.395 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 01:00:18.396 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 01:00:18.396 | INFO     | uvicorn.server:serve:86 - Finished server process [27423]
2023-12-15 01:00:18.834 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 01:00:47.358 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 01:00:47.460 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 01:00:47.460 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 01:00:47.460 | INFO     | uvicorn.server:serve:86 - Finished server process [27464]
2023-12-15 01:00:47.872 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 01:01:02.333 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:01:02.336 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:01:02.338 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:01:02.346 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            id
        FROM
            roles
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 01:01:02.348 | INFO     | providers.psql_provider:execute:57 - 
        UPDATE users SET curr_role_id = '422d128d-aad1-41e1-aeea-2862e3a63da8' WHERE users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 01:01:02.351 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            id,
            email,
            last_name,
            first_name,
            curr_role_id,
            is_super
        FROM
            users
        WHERE
            users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 01:01:02.352 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:01:02.358 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:01:02.360 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53915 - "POST /token HTTP/1.1" 200
2023-12-15 01:01:34.757 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 01:01:34.859 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 01:01:34.860 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 01:01:34.861 | INFO     | uvicorn.server:serve:86 - Finished server process [27477]
2023-12-15 01:01:35.264 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 01:03:15.451 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54464 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-15 01:03:15.452 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54465 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 01:03:15.452 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54466 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-15 01:03:15.452 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54467 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 01:03:15.458 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:03:15.458 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:03:15.462 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54464 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:03:15.488 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:03:15.489 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:03:15.492 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54466 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:03:15.492 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 01:03:15.495 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54467 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 01:03:15.508 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:03:15.511 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:03:15.516 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 01:03:15.522 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54466 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 01:05:12.924 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54953 - "OPTIONS /token HTTP/1.1" 200
2023-12-15 01:05:12.942 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:05:12.945 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:05:12.952 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:05:12.959 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:05:12.971 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:05:12.974 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54953 - "POST /token HTTP/1.1" 200
2023-12-15 01:07:25.744 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55501 - "OPTIONS /token?id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 01:07:25.745 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55502 - "OPTIONS /token?id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 01:07:25.758 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:07:25.762 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:07:25.769 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:07:25.780 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:07:25.782 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55501 - "GET /token?id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 01:07:25.793 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:07:25.797 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:07:25.805 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:07:25.814 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:07:25.816 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55502 - "GET /token?id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 01:07:32.541 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55533 - "OPTIONS /token HTTP/1.1" 200
2023-12-15 01:07:32.554 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = 'admin@demo.com';
    
2023-12-15 01:07:32.558 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:07:32.562 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:07:32.569 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 01:07:32.577 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55533 - "POST /token HTTP/1.1" 200
2023-12-15 01:09:18.979 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:09:18.985 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:09:18.997 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 01:09:19.002 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55980 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 01:09:19.014 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:09:19.016 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:09:19.019 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 01:09:19.026 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55982 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 01:09:47.570 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:09:47.574 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56098 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:09:47.580 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:09:47.584 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56100 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:17:43.063 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58034 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-15 01:17:43.063 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58035 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 01:17:43.063 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58036 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-15 01:17:43.069 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:17:43.069 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:17:43.073 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:17:43.074 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58034 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:17:43.083 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:17:43.091 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 01:17:43.094 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58035 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:17:43.096 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58036 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 01:17:43.098 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:17:43.100 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:17:43.100 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58034 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:17:43.113 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:17:43.113 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:17:43.115 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 01:17:43.115 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58036 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:17:43.117 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58035 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 01:17:43.121 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:17:43.122 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:17:43.123 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 01:17:43.125 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58036 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 01:19:42.749 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:19:42.749 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:19:42.751 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:19:42.752 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58529 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:19:42.764 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:19:42.765 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 01:19:42.769 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58533 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:19:42.772 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58530 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 01:19:42.776 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:19:42.778 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:19:42.779 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58529 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:19:42.780 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:19:42.786 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:19:42.788 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 01:19:42.790 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58530 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:19:42.792 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58533 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 01:19:42.797 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:19:42.799 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:19:42.800 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 01:19:42.803 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58530 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 01:20:20.055 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:20:20.055 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:20:20.060 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:20:20.061 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58694 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:20:20.068 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:20:20.069 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 01:20:20.071 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58698 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:20:20.073 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58695 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 01:20:20.078 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:20:20.079 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:20:20.083 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:20:20.084 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58694 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:20:20.089 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:20:20.090 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 01:20:20.092 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58695 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:20:20.093 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58698 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 01:20:20.102 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:20:20.103 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:20:20.104 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 01:20:20.106 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58695 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 01:21:00.799 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:21:00.799 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:21:00.803 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58875 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:21:00.808 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:21:00.812 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:21:00.815 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58880 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:21:00.820 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 01:21:00.823 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:21:00.825 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58876 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 01:21:00.827 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58875 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:21:00.831 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:21:00.832 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:21:00.835 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58876 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:21:00.836 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:21:00.839 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 01:21:00.841 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58880 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 01:21:00.846 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:21:00.849 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:21:00.851 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 01:21:00.854 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58876 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 01:23:03.459 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:23:03.459 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:23:03.462 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:23:03.464 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59401 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:23:03.469 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 01:23:03.470 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:23:03.475 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59405 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:23:03.476 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59402 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 01:23:03.484 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:23:03.485 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:23:03.488 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59401 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:23:03.493 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:23:03.493 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:23:03.495 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59402 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:23:03.496 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 01:23:03.498 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59405 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 01:23:03.503 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:23:03.504 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:23:03.506 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 01:23:03.509 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59402 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 01:23:16.138 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:23:16.138 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:23:16.147 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59467 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:23:16.149 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:23:16.152 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:23:16.156 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59474 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:23:16.158 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 01:23:16.165 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:23:16.166 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59468 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 01:23:16.168 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59474 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:23:16.171 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:23:16.172 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:23:16.174 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59468 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:23:16.177 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:23:16.178 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 01:23:16.180 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59467 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 01:23:16.184 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:23:16.185 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:23:16.186 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 01:23:16.187 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59468 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 01:23:37.060 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:23:37.061 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:23:37.066 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:23:37.067 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59567 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:23:37.081 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:23:37.082 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 01:23:37.084 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59571 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:23:37.087 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59568 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 01:23:37.090 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:23:37.092 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:23:37.093 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:23:37.094 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59567 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:23:37.100 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 01:23:37.100 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:23:37.109 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59568 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:23:37.110 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59571 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 01:23:37.114 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:23:37.116 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:23:37.117 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 01:23:37.119 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59568 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 01:24:20.071 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:24:20.071 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:24:20.074 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:24:20.074 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59762 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:24:20.081 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:24:20.083 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 01:24:20.084 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59766 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:24:20.088 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59763 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 01:26:30.045 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:26:30.048 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60305 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:26:30.074 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:26:30.087 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60307 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:27:00.704 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60438 - "OPTIONS /token HTTP/1.1" 200
2023-12-15 01:27:00.717 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = 'admin@demo.com';
    
2023-12-15 01:27:00.722 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:27:00.727 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 01:27:00.735 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 01:27:00.748 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60438 - "POST /token HTTP/1.1" 200
2023-12-15 01:28:06.352 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:28:06.359 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:28:06.364 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:28:06.371 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:28:06.393 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:28:06.395 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60716 - "POST /token HTTP/1.1" 200
2023-12-15 01:33:05.418 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61941 - "OPTIONS /token?id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 01:33:05.419 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61942 - "OPTIONS /token?id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 01:33:05.433 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:33:05.437 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:33:05.444 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:33:05.450 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:33:05.452 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61942 - "GET /token?id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 01:33:05.457 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:33:05.459 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:33:05.461 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:33:05.470 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:33:05.474 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61941 - "GET /token?id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 01:33:17.076 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:33:17.080 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:33:17.087 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:33:17.094 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:33:17.097 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62003 - "GET /token?id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 01:33:17.113 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:33:17.126 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:33:17.144 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:33:17.147 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:33:17.149 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62005 - "GET /token?id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 01:33:40.291 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62102 - "OPTIONS /token HTTP/1.1" 200
2023-12-15 01:33:40.303 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:33:40.313 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:33:40.316 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:33:40.320 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:33:40.326 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:33:40.332 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62102 - "POST /token HTTP/1.1" 200
2023-12-15 01:34:31.117 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:34:31.124 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:31.134 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:31.150 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:31.163 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:34:31.167 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62311 - "POST /token HTTP/1.1" 200
2023-12-15 01:34:34.389 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:34:34.396 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:34.401 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:34.409 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:34.426 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:34:34.429 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62311 - "POST /token HTTP/1.1" 200
2023-12-15 01:34:35.135 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:34:35.144 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:35.145 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:35.149 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:35.160 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:34:35.164 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62311 - "POST /token HTTP/1.1" 200
2023-12-15 01:34:35.948 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:34:35.951 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:35.952 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:35.956 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:35.962 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:34:35.971 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62311 - "POST /token HTTP/1.1" 200
2023-12-15 01:34:36.565 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:34:36.569 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:36.571 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:36.576 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:36.588 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:34:36.591 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62311 - "POST /token HTTP/1.1" 200
2023-12-15 01:34:36.923 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:34:36.929 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:36.932 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:36.937 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:36.951 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:34:36.955 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62311 - "POST /token HTTP/1.1" 200
2023-12-15 01:34:37.147 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:34:37.149 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:37.150 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:37.153 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:37.157 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:34:37.158 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62311 - "POST /token HTTP/1.1" 200
2023-12-15 01:34:37.530 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:34:37.535 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:37.539 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:37.549 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:37.558 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:34:37.562 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62311 - "POST /token HTTP/1.1" 200
2023-12-15 01:34:37.828 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:34:37.840 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:37.845 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:37.852 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:37.859 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:34:37.867 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62311 - "POST /token HTTP/1.1" 200
2023-12-15 01:34:38.010 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:34:38.019 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:38.023 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:38.031 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:38.042 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:34:38.043 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62311 - "POST /token HTTP/1.1" 200
2023-12-15 01:34:38.205 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:34:38.210 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:38.214 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:38.221 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:38.234 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:34:38.237 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62311 - "POST /token HTTP/1.1" 200
2023-12-15 01:34:38.400 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:34:38.404 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:38.406 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:38.412 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:38.425 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:34:38.428 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62311 - "POST /token HTTP/1.1" 200
2023-12-15 01:34:38.569 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:34:38.574 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:38.579 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:38.585 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:38.593 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:34:38.596 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62311 - "POST /token HTTP/1.1" 200
2023-12-15 01:34:38.783 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:34:38.788 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:38.790 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:38.795 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:38.804 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:34:38.807 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62311 - "POST /token HTTP/1.1" 200
2023-12-15 01:34:39.005 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:34:39.011 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:39.015 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:39.021 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:39.033 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:34:39.036 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62311 - "POST /token HTTP/1.1" 200
2023-12-15 01:34:39.191 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:34:39.195 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:39.198 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:39.203 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:39.216 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:34:39.219 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62311 - "POST /token HTTP/1.1" 200
2023-12-15 01:34:39.351 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:34:39.356 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:39.363 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:39.367 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:39.376 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:34:39.380 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62311 - "POST /token HTTP/1.1" 200
2023-12-15 01:34:39.554 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:34:39.558 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:39.562 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:39.567 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:39.580 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:34:39.582 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62311 - "POST /token HTTP/1.1" 200
2023-12-15 01:34:39.718 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:34:39.723 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:39.725 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:39.728 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:39.735 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:34:39.738 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62311 - "POST /token HTTP/1.1" 200
2023-12-15 01:34:39.892 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:34:39.898 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:39.901 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:39.906 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:39.918 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:34:39.922 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62311 - "POST /token HTTP/1.1" 200
2023-12-15 01:34:40.059 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:34:40.065 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:40.068 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:40.071 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:40.079 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:34:40.083 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62311 - "POST /token HTTP/1.1" 200
2023-12-15 01:34:40.230 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:34:40.236 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:40.239 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:40.246 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:40.256 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:34:40.260 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62311 - "POST /token HTTP/1.1" 200
2023-12-15 01:34:40.403 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:34:40.408 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:40.412 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:40.415 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:40.423 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:34:40.426 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62311 - "POST /token HTTP/1.1" 200
2023-12-15 01:34:40.577 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:34:40.580 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:40.582 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:40.588 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:40.599 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:34:40.602 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62311 - "POST /token HTTP/1.1" 200
2023-12-15 01:34:40.751 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:34:40.754 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:40.756 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:40.762 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:40.773 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:34:40.776 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62311 - "POST /token HTTP/1.1" 200
2023-12-15 01:34:40.947 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:34:40.952 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:40.957 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:40.964 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:40.976 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:34:40.982 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62311 - "POST /token HTTP/1.1" 200
2023-12-15 01:34:41.120 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:34:41.124 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:41.131 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:41.135 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:41.141 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:34:41.144 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62311 - "POST /token HTTP/1.1" 200
2023-12-15 01:34:59.695 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:59.698 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:59.703 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:59.715 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:34:59.718 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62462 - "GET /token?id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 01:34:59.728 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:59.733 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:59.739 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:34:59.751 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:34:59.755 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62464 - "GET /token?id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 01:35:18.368 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:35:18.373 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:35:18.375 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:35:18.384 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:35:18.397 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:35:18.400 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62539 - "POST /token HTTP/1.1" 200
2023-12-15 01:36:51.689 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:36:51.691 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:36:51.694 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:36:51.701 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:36:51.703 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62924 - "GET /token?id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 01:37:00.290 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:37:00.294 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:37:00.298 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:37:00.305 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:37:00.320 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:37:00.322 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62962 - "POST /token HTTP/1.1" 200
2023-12-15 01:37:49.349 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:37:49.362 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:37:49.365 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:37:49.377 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:37:49.378 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63164 - "GET /token?id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 01:37:49.386 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:37:49.388 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:37:49.391 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:37:49.396 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:37:49.398 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63166 - "GET /token?id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 01:37:49.403 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:37:49.405 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:37:49.408 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:37:49.413 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:37:49.414 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63164 - "GET /token?id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 01:38:13.874 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:38:13.876 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:38:13.880 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:38:13.894 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:38:13.895 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63268 - "GET /token?id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 01:38:13.909 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:38:13.911 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:38:13.914 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:38:13.919 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:38:13.921 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63270 - "GET /token?id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 01:38:13.927 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:38:13.929 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:38:13.932 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:38:13.937 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:38:13.938 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63268 - "GET /token?id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 01:40:30.593 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 01:40:30.695 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 01:40:30.695 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 01:40:30.695 | INFO     | uvicorn.server:serve:86 - Finished server process [27494]
2023-12-15 01:40:31.160 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 01:40:50.491 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 01:40:50.593 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 01:40:50.593 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 01:40:50.593 | INFO     | uvicorn.server:serve:86 - Finished server process [28290]
2023-12-15 01:40:51.015 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 01:41:02.635 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:41:02.639 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63959 - "POST /token HTTP/1.1" 400
2023-12-15 01:41:14.677 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:41:14.683 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:41:14.691 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:41:14.702 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:41:14.726 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:41:14.728 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64010 - "POST /token HTTP/1.1" 200
2023-12-15 01:42:07.970 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '004@demo.com';
    
2023-12-15 01:42:07.979 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:42:07.982 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:42:07.992 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:42:08.007 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:42:08.011 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64229 - "POST /token HTTP/1.1" 200
2023-12-15 01:42:12.844 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64229 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-15 01:42:12.845 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64256 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-15 01:42:12.851 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:42:12.854 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64229 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:42:12.861 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:42:12.866 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64256 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:44:58.965 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:44:58.969 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64939 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:44:58.974 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:44:58.977 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64941 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:45:16.267 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65020 - "OPTIONS /token?id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 01:45:16.275 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65021 - "OPTIONS /token?id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 01:45:16.294 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:45:16.296 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:45:16.305 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65019 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:45:16.336 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:45:16.343 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:45:16.350 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65021 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:45:16.361 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:45:16.365 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:45:16.368 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65020 - "GET /token?id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 01:45:16.375 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:45:16.391 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:45:16.394 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:45:16.398 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:45:16.400 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65021 - "GET /token?id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 01:49:52.533 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:49:52.537 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49759 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:49:52.544 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:49:52.548 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49761 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:53:03.227 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50536 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-15 01:53:03.229 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50537 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-15 01:53:03.236 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:53:03.241 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50536 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:53:03.251 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:53:03.260 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50537 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:53:15.621 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:53:15.625 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50592 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:53:15.631 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:53:15.664 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50594 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:55:26.680 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51156 - "OPTIONS /token?id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 01:55:26.683 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51157 - "OPTIONS /token?id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 01:55:26.700 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:55:26.711 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:55:26.713 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51155 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:55:26.713 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:55:26.729 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 01:55:26.730 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:55:26.732 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51157 - "GET /orgs HTTP/1.1" 200
2023-12-15 01:55:26.733 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:55:26.738 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51156 - "GET /token?id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 01:55:26.765 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:55:26.776 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 01:55:26.786 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:55:26.788 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 01:55:26.789 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51157 - "GET /token?id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 02:00:23.584 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 02:00:23.686 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 02:00:23.687 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 02:00:23.687 | INFO     | uvicorn.server:serve:86 - Finished server process [28301]
2023-12-15 02:00:24.159 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 02:00:31.749 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 02:00:31.851 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 02:00:31.851 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 02:00:31.852 | INFO     | uvicorn.server:serve:86 - Finished server process [28639]
2023-12-15 02:00:32.260 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 02:03:45.716 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 02:03:45.817 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 02:03:45.817 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 02:03:45.818 | INFO     | uvicorn.server:serve:86 - Finished server process [28650]
2023-12-15 02:03:46.212 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 02:04:09.820 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 02:04:09.922 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 02:04:09.922 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 02:04:09.923 | INFO     | uvicorn.server:serve:86 - Finished server process [28678]
2023-12-15 02:04:10.362 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 02:04:22.303 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 02:04:22.405 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 02:04:22.405 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 02:04:22.405 | INFO     | uvicorn.server:serve:86 - Finished server process [28692]
2023-12-15 02:04:22.826 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 02:04:26.971 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 02:04:27.072 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 02:04:27.073 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 02:04:27.073 | INFO     | uvicorn.server:serve:86 - Finished server process [28701]
2023-12-15 02:04:27.505 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 02:04:44.698 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 02:04:44.799 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 02:04:44.800 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 02:04:44.800 | INFO     | uvicorn.server:serve:86 - Finished server process [28707]
2023-12-15 02:04:45.218 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 02:04:49.363 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 02:04:49.464 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 02:04:49.465 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 02:04:49.466 | INFO     | uvicorn.server:serve:86 - Finished server process [28716]
2023-12-15 02:04:49.888 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 02:05:26.449 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53609 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-15 02:05:26.449 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53610 - "OPTIONS /token?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 02:05:26.450 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53611 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-15 02:05:26.456 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:05:26.456 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:05:26.459 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53609 - "GET /orgs HTTP/1.1" 200
2023-12-15 02:05:26.463 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:05:26.469 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:05:26.474 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53610 - "GET /orgs HTTP/1.1" 200
2023-12-15 02:05:26.477 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 02:05:26.484 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 02:05:26.486 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53611 - "GET /token?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 02:05:26.548 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:05:26.550 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:05:26.556 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53611 - "GET /orgs HTTP/1.1" 200
2023-12-15 02:05:26.563 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:05:26.564 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:05:26.567 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53609 - "GET /orgs HTTP/1.1" 200
2023-12-15 02:05:26.568 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 02:05:26.572 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 02:05:26.573 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53610 - "GET /token?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 02:05:26.577 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:05:26.579 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:05:26.583 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 02:05:26.587 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 02:05:26.588 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53609 - "GET /token?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 02:07:06.464 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:07:06.464 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:07:06.469 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:07:06.469 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54026 - "GET /orgs HTTP/1.1" 200
2023-12-15 02:07:06.480 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:07:06.486 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 02:07:06.487 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54030 - "GET /orgs HTTP/1.1" 200
2023-12-15 02:07:06.493 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 02:07:06.494 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54027 - "GET /token?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 02:07:06.552 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:07:06.552 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:07:06.555 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:07:06.556 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54027 - "GET /orgs HTTP/1.1" 200
2023-12-15 02:07:06.563 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 02:07:06.563 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:07:06.568 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54026 - "GET /orgs HTTP/1.1" 200
2023-12-15 02:07:06.570 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 02:07:06.572 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54030 - "GET /token?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 02:07:06.577 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:07:06.579 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:07:06.582 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 02:07:06.585 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 02:07:06.587 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54026 - "GET /token?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 02:07:52.115 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:07:52.115 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:07:52.118 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:07:52.119 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54227 - "GET /orgs HTTP/1.1" 200
2023-12-15 02:07:52.127 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:07:52.128 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 02:07:52.131 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54231 - "GET /orgs HTTP/1.1" 200
2023-12-15 02:07:52.134 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 02:07:52.135 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54228 - "GET /token?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 02:07:52.194 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:07:52.195 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:07:52.201 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:07:52.202 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54228 - "GET /orgs HTTP/1.1" 200
2023-12-15 02:07:52.208 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:07:52.209 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 02:07:52.211 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54227 - "GET /orgs HTTP/1.1" 200
2023-12-15 02:07:52.214 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 02:07:52.215 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54231 - "GET /token?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 02:07:52.223 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:07:52.226 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:07:52.228 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 02:07:52.231 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 02:07:52.233 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54227 - "GET /token?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 02:09:47.060 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:09:47.063 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54714 - "GET /orgs HTTP/1.1" 200
2023-12-15 02:09:47.069 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:09:47.074 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54716 - "GET /orgs HTTP/1.1" 200
2023-12-15 02:09:47.141 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:09:47.146 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54716 - "GET /orgs HTTP/1.1" 200
2023-12-15 02:09:47.152 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:09:47.155 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54714 - "GET /orgs HTTP/1.1" 200
2023-12-15 02:09:50.889 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54714 - "OPTIONS /token?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&role_id=4fbf1533-ff14-4d3f-b820-55f8f432366c HTTP/1.1" 200
2023-12-15 02:09:50.908 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE users SET curr_role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c' WHERE users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:09:50.915 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:09:50.923 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:09:50.933 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        roles.id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';
    
2023-12-15 02:09:50.946 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';
    
2023-12-15 02:09:50.952 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54714 - "PUT /token?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&role_id=4fbf1533-ff14-4d3f-b820-55f8f432366c HTTP/1.1" 200
2023-12-15 02:09:52.087 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:09:52.089 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:09:52.097 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        roles.id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';
    
2023-12-15 02:09:52.101 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';
    
2023-12-15 02:09:52.103 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54714 - "GET /token?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 02:09:52.115 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:09:52.118 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:09:52.121 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        roles.id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';
    
2023-12-15 02:09:52.126 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';
    
2023-12-15 02:09:52.128 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54716 - "GET /token?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 02:11:01.426 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:11:01.428 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:11:01.431 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        roles.id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';
    
2023-12-15 02:11:01.435 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';
    
2023-12-15 02:11:01.436 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55032 - "GET /token?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 02:11:02.383 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:11:02.387 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:11:02.391 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        roles.id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';
    
2023-12-15 02:11:02.395 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';
    
2023-12-15 02:11:02.396 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55032 - "GET /token?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 02:11:02.402 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:11:02.404 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:11:02.408 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        roles.id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';
    
2023-12-15 02:11:02.412 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';
    
2023-12-15 02:11:02.413 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55042 - "GET /token?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 02:11:09.994 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:11:10.003 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:11:10.012 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        roles.id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';
    
2023-12-15 02:11:10.017 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';
    
2023-12-15 02:11:10.022 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55081 - "GET /token?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 02:11:10.033 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:11:10.035 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:11:10.041 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        roles.id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';
    
2023-12-15 02:11:10.050 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';
    
2023-12-15 02:11:10.053 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55083 - "GET /token?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 02:11:13.465 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55083 - "OPTIONS /token?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&role_id=422d128d-aad1-41e1-aeea-2862e3a63da8 HTTP/1.1" 200
2023-12-15 02:11:13.487 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE users SET curr_role_id = '422d128d-aad1-41e1-aeea-2862e3a63da8' WHERE users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:11:13.492 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:11:13.496 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:11:13.501 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 02:11:13.519 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 02:11:13.523 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55083 - "PUT /token?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&role_id=422d128d-aad1-41e1-aeea-2862e3a63da8 HTTP/1.1" 200
2023-12-15 02:11:14.234 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:11:14.239 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:11:14.250 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 02:11:14.266 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 02:11:14.269 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55083 - "GET /token?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 02:11:14.281 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:11:14.285 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:11:14.288 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 02:11:14.297 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
    
2023-12-15 02:11:14.298 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55081 - "GET /token?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 02:11:24.213 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:11:24.218 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55146 - "GET /orgs HTTP/1.1" 200
2023-12-15 02:11:24.224 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:11:24.226 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55148 - "GET /orgs HTTP/1.1" 200
2023-12-15 02:13:41.871 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55714 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-15 02:13:41.873 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55715 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-15 02:13:41.878 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55716 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-15 02:13:41.879 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55717 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-15 02:13:41.880 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55718 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-15 02:13:41.880 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55719 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-15 02:13:41.884 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 02:13:41.884 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 02:13:41.887 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 02:13:41.889 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55714 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 02:13:41.893 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55715 - "GET /options/users HTTP/1.1" 200
2023-12-15 02:13:41.896 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55716 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 02:13:41.900 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 02:13:41.900 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 02:13:41.902 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55719 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 02:13:41.903 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55714 - "GET /options/users HTTP/1.1" 200
2023-12-15 02:13:41.903 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 02:13:41.904 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55716 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 02:14:51.493 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:14:51.496 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56005 - "GET /orgs HTTP/1.1" 200
2023-12-15 02:14:51.502 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:14:51.506 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56007 - "GET /orgs HTTP/1.1" 200
2023-12-15 02:22:14.067 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 02:22:14.169 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 02:22:14.169 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 02:22:14.170 | INFO     | uvicorn.server:serve:86 - Finished server process [28722]
2023-12-15 02:22:14.623 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 02:22:39.013 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 02:22:39.115 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 02:22:39.115 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 02:22:39.115 | INFO     | uvicorn.server:serve:86 - Finished server process [29070]
2023-12-15 02:22:39.508 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 02:30:19.373 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 02:30:19.474 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 02:30:19.474 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 02:30:19.475 | INFO     | uvicorn.server:serve:86 - Finished server process [29080]
2023-12-15 02:30:19.890 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 02:31:06.553 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 02:31:06.655 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 02:31:06.655 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 02:31:06.656 | INFO     | uvicorn.server:serve:86 - Finished server process [29162]
2023-12-15 02:31:07.064 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 02:33:26.696 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60528 - "GET /orgs?org_id=422d128d-aad1-41e1-aeea-2862e3a63da8 HTTP/1.1" 422
2023-12-15 02:33:41.894 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '{role_id}';
    
2023-12-15 02:33:41.898 | ERROR    | app.endpoints.orgs:get_orgs:23 - invalid input syntax for type uuid: "{role_id}"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104a899d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104807430>
           └ <SpawnProcess name='SpawnProcess-135' parent=19712 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1047fba60>
    └ <SpawnProcess name='SpawnProcess-135' parent=19712 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104a9a9d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-135' parent=19712 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-135' parent=19712 started>
    │    └ <function subprocess_started at 0x10737c3a0>
    └ <SpawnProcess name='SpawnProcess-135' parent=19712 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104a9aaf0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x107369940>
           │       │   └ <uvicorn.server.Server object at 0x104a9aaf0>
           │       └ <function run at 0x104ac6820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10736d3c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1073c0580>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074b8a60>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074b8a...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1074a1d00>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1073c0580>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074b8a60>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074b8a...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074b8a60>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074b8a...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1074a7b20>
          └ <fastapi.applications.FastAPI object at 0x1074a1d00>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x106ddd700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074b8a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1074a7bb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1074a7b20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x106ddd700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074b8a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1074a7a90>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1074a7bb0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1074a49d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074b8a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1074a7b50>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1074a7a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1074a49d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074b8a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1074a1e20>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1074a7b50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1074a49d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074b8a...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10694daf0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1074a49d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074b8a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1074a4a60>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x107601190>
                     └ <function get_request_handler.<locals>.app at 0x1074a4af0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10693c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x10738e3d0>, 'role_id': '422d128d-aad1-41e1-aeea-2862e3a63da8'}
                 │         └ <function get_orgs at 0x107231550>
                 └ <fastapi.dependencies.models.Dependant object at 0x1074ab760>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ '422d128d-aad1-41e1-aeea-2862e3a63da8'
                 │         │          └ <providers.psql_provider.DB object at 0x10738e3d0>
                 │         └ <function query_orgs at 0x10721edc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 20, in query_orgs
    main_org_id = await db.fetch_value(sql)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x106dfdf70>
                        └ <providers.psql_provider.DB object at 0x10738e3d0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x106b571f0>
                   └ <PoolConnectionProxy [released] 0x107601430>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x106b441f0>
                 └ <asyncpg.connection.Connection object at 0x1074967c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1074967c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x106b445e0>
                         └ <asyncpg.connection.Connection object at 0x1074967c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x106b42700>
                 └ <asyncpg.connection.Connection object at 0x1074967c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1074967c0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "{role_id}"

2023-12-15 02:33:41.924 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60592 - "GET /orgs?role_id=422d128d-aad1-41e1-aeea-2862e3a63da8 HTTP/1.1" 500
2023-12-15 02:34:13.833 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 02:34:13.935 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 02:34:13.937 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 02:34:13.937 | INFO     | uvicorn.server:serve:86 - Finished server process [29179]
2023-12-15 02:34:14.409 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 02:34:22.709 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 02:34:22.811 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 02:34:22.812 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 02:34:22.812 | INFO     | uvicorn.server:serve:86 - Finished server process [29218]
2023-12-15 02:34:23.228 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 02:34:27.802 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60784 - "GET /orgs?role_id=422d128d-aad1-41e1-aeea-2862e3a63da8 HTTP/1.1" 200
2023-12-15 02:35:20.325 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 02:35:20.426 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 02:35:20.427 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 02:35:20.427 | INFO     | uvicorn.server:serve:86 - Finished server process [29229]
2023-12-15 02:35:20.848 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 02:36:08.657 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61206 - "OPTIONS /token HTTP/1.1" 200
2023-12-15 02:36:08.670 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = 'admin@demo.com';
    
2023-12-15 02:36:08.682 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 02:36:08.688 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 02:36:08.699 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 02:36:08.701 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61206 - "POST /token HTTP/1.1" 200
2023-12-15 02:36:24.730 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61277 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-15 02:36:24.730 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61278 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-15 02:36:24.731 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61278 - "GET /orgs HTTP/1.1" 422
2023-12-15 02:36:24.733 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61278 - "GET /orgs HTTP/1.1" 422
2023-12-15 02:39:56.776 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62143 - "OPTIONS /orgs?role_id=null HTTP/1.1" 200
2023-12-15 02:39:56.776 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62144 - "OPTIONS /token?user_id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 02:39:56.777 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62145 - "OPTIONS /orgs?role_id=null HTTP/1.1" 200
2023-12-15 02:39:56.785 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 02:39:56.785 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-15 02:39:56.788 | ERROR    | app.endpoints.orgs:get_orgs:23 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1032e19d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10305f430>
           └ <SpawnProcess name='SpawnProcess-138' parent=19712 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x103053a60>
    └ <SpawnProcess name='SpawnProcess-138' parent=19712 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1032f29d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-138' parent=19712 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-138' parent=19712 started>
    │    └ <function subprocess_started at 0x1057743a0>
    └ <SpawnProcess name='SpawnProcess-138' parent=19712 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1032f2af0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x105761940>
           │       │   └ <uvicorn.server.Server object at 0x1032f2af0>
           │       └ <function run at 0x10331e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x105766340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1057b85b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105a49e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105a49e...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x105899d30>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1057b85b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105a49e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105a49e...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105a49e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105a49e...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10589eaf0>
          └ <fastapi.applications.FastAPI object at 0x105899d30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x105892f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105a49e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10589ea60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10589eaf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x105892f70>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105a49e...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x104f1baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10589ea60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10589ea60>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105a49e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10589ea90>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10589ea60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1058a2ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105a49e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10589eb80>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10589ea90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1058a2ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105a49e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x105899e50>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10589eb80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1058a2ee0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105a49e...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x104e71af0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1058a2ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105a49e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10589ca60>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1058aa7f0>
                     └ <function get_request_handler.<locals>.app at 0x10589caf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104e60790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x105785400>, 'role_id': 'null'}
                 │         └ <function get_orgs at 0x105629550>
                 └ <fastapi.dependencies.models.Dependant object at 0x1058a4790>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ 'null'
                 │         │          └ <providers.psql_provider.DB object at 0x105785400>
                 │         └ <function query_orgs at 0x105616dc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 20, in query_orgs
    main_org_id = await db.fetch_value(sql.format(role_id=role_id))
                        │  │           │   │              └ 'null'
                        │  │           │   └ <method 'format' of 'str' objects>
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x105321f70>
                        └ <providers.psql_provider.DB object at 0x105785400>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x10507b1f0>
                   └ <PoolConnectionProxy [released] 0x105a49f40>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1050681f0>
                 └ <asyncpg.connection.Connection object at 0x10588ec70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x10588ec70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1050685e0>
                         └ <asyncpg.connection.Connection object at 0x10588ec70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x105066700>
                 └ <asyncpg.connection.Connection object at 0x10588ec70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x10588ec70>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-15 02:39:56.803 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62143 - "GET /orgs?role_id=null HTTP/1.1" 500
2023-12-15 02:39:56.804 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 02:39:56.810 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-15 02:39:56.812 | ERROR    | app.endpoints.orgs:get_orgs:23 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1032e19d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10305f430>
           └ <SpawnProcess name='SpawnProcess-138' parent=19712 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x103053a60>
    └ <SpawnProcess name='SpawnProcess-138' parent=19712 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1032f29d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-138' parent=19712 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-138' parent=19712 started>
    │    └ <function subprocess_started at 0x1057743a0>
    └ <SpawnProcess name='SpawnProcess-138' parent=19712 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1032f2af0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x105761940>
           │       │   └ <uvicorn.server.Server object at 0x1032f2af0>
           │       └ <function run at 0x10331e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x105766340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1057b85b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059fb790>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059fb7...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x105899d30>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1057b85b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059fb790>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059fb7...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059fb790>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059fb7...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10589eaf0>
          └ <fastapi.applications.FastAPI object at 0x105899d30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x105301700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059fb7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10589ea60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10589eaf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x105301700>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059fb7...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x104f1baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10589ea60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10589ea60>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059fb7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10589ea90>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10589ea60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1058a2ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059fb7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10589eb80>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10589ea90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1058a2ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059fb7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x105899e50>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10589eb80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1058a2ca0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059fb7...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x104e71af0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1058a2ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059fb7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10589ca60>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x105a491c0>
                     └ <function get_request_handler.<locals>.app at 0x10589caf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104e60790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x105785400>, 'role_id': 'null'}
                 │         └ <function get_orgs at 0x105629550>
                 └ <fastapi.dependencies.models.Dependant object at 0x1058a4790>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ 'null'
                 │         │          └ <providers.psql_provider.DB object at 0x105785400>
                 │         └ <function query_orgs at 0x105616dc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 20, in query_orgs
    main_org_id = await db.fetch_value(sql.format(role_id=role_id))
                        │  │           │   │              └ 'null'
                        │  │           │   └ <method 'format' of 'str' objects>
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x105321f70>
                        └ <providers.psql_provider.DB object at 0x105785400>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x10507b1f0>
                   └ <PoolConnectionProxy [released] 0x1059fb6a0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1050681f0>
                 └ <asyncpg.connection.Connection object at 0x105b35310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x105b35310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1050685e0>
                         └ <asyncpg.connection.Connection object at 0x105b35310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x105066700>
                 └ <asyncpg.connection.Connection object at 0x105b35310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x105b35310>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-15 02:39:56.820 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62144 - "GET /orgs?role_id=null HTTP/1.1" 500
2023-12-15 02:39:56.820 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 02:39:56.825 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62145 - "GET /token?user_id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 02:40:08.003 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 02:40:08.011 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-15 02:40:08.031 | ERROR    | app.endpoints.orgs:get_orgs:23 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1032e19d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10305f430>
           └ <SpawnProcess name='SpawnProcess-138' parent=19712 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x103053a60>
    └ <SpawnProcess name='SpawnProcess-138' parent=19712 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1032f29d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-138' parent=19712 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-138' parent=19712 started>
    │    └ <function subprocess_started at 0x1057743a0>
    └ <SpawnProcess name='SpawnProcess-138' parent=19712 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1032f2af0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x105761940>
           │       │   └ <uvicorn.server.Server object at 0x1032f2af0>
           │       └ <function run at 0x10331e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x105766340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1057b85b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059fbeb0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059fbe...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x105899d30>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1057b85b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059fbeb0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059fbe...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059fbeb0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059fbe...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10589eaf0>
          └ <fastapi.applications.FastAPI object at 0x105899d30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1058a2dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059fbe...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10589ea60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10589eaf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1058a2dc0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059fbe...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x104f1baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10589ea60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10589ea60>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059fbe...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10589ea90>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10589ea60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105301700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059fbe...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10589eb80>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10589ea90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105301700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059fbe...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x105899e50>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10589eb80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105301700>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059fbe...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x104e71af0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105301700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059fbe...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10589ca60>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1059fbe80>
                     └ <function get_request_handler.<locals>.app at 0x10589caf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104e60790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x105785400>, 'role_id': 'null'}
                 │         └ <function get_orgs at 0x105629550>
                 └ <fastapi.dependencies.models.Dependant object at 0x1058a4790>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ 'null'
                 │         │          └ <providers.psql_provider.DB object at 0x105785400>
                 │         └ <function query_orgs at 0x105616dc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 20, in query_orgs
    main_org_id = await db.fetch_value(sql.format(role_id=role_id))
                        │  │           │   │              └ 'null'
                        │  │           │   └ <method 'format' of 'str' objects>
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x105321f70>
                        └ <providers.psql_provider.DB object at 0x105785400>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x10507b1f0>
                   └ <PoolConnectionProxy [released] 0x105a496a0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1050681f0>
                 └ <asyncpg.connection.Connection object at 0x105b355e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x105b355e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1050685e0>
                         └ <asyncpg.connection.Connection object at 0x105b355e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x105066700>
                 └ <asyncpg.connection.Connection object at 0x105b355e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x105b355e0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-15 02:40:08.048 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62200 - "GET /orgs?role_id=null HTTP/1.1" 500
2023-12-15 02:40:08.049 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 02:40:08.072 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-15 02:40:08.074 | ERROR    | app.endpoints.orgs:get_orgs:23 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1032e19d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10305f430>
           └ <SpawnProcess name='SpawnProcess-138' parent=19712 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x103053a60>
    └ <SpawnProcess name='SpawnProcess-138' parent=19712 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1032f29d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-138' parent=19712 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-138' parent=19712 started>
    │    └ <function subprocess_started at 0x1057743a0>
    └ <SpawnProcess name='SpawnProcess-138' parent=19712 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1032f2af0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x105761940>
           │       │   └ <uvicorn.server.Server object at 0x1032f2af0>
           │       └ <function run at 0x10331e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x105766340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1057b85b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105be2b80>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105be2b...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x105899d30>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1057b85b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105be2b80>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105be2b...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105be2b80>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105be2b...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10589eaf0>
          └ <fastapi.applications.FastAPI object at 0x105899d30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x105bab5e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105be2b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10589ea60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10589eaf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x105bab5e0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105be2b...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x104f1baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10589ea60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10589ea60>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105be2b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10589ea90>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10589ea60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105bab940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105be2b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10589eb80>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10589ea90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105bab940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105be2b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x105899e50>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10589eb80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105bab940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105be2b...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x104e71af0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105bab940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105be2b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10589ca60>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x105be2ca0>
                     └ <function get_request_handler.<locals>.app at 0x10589caf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104e60790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x105785400>, 'role_id': 'null'}
                 │         └ <function get_orgs at 0x105629550>
                 └ <fastapi.dependencies.models.Dependant object at 0x1058a4790>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ 'null'
                 │         │          └ <providers.psql_provider.DB object at 0x105785400>
                 │         └ <function query_orgs at 0x105616dc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 20, in query_orgs
    main_org_id = await db.fetch_value(sql.format(role_id=role_id))
                        │  │           │   │              └ 'null'
                        │  │           │   └ <method 'format' of 'str' objects>
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x105321f70>
                        └ <providers.psql_provider.DB object at 0x105785400>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x10507b1f0>
                   └ <PoolConnectionProxy [released] 0x105be2f40>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1050681f0>
                 └ <asyncpg.connection.Connection object at 0x105b359a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x105b359a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1050685e0>
                         └ <asyncpg.connection.Connection object at 0x105b359a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x105066700>
                 └ <asyncpg.connection.Connection object at 0x105b359a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x105b359a0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-15 02:40:08.084 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62205 - "GET /orgs?role_id=null HTTP/1.1" 500
2023-12-15 02:40:08.087 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 02:40:08.091 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62201 - "GET /token?user_id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 02:40:08.096 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 02:40:08.098 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 02:40:08.100 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 02:40:08.103 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62205 - "GET /token?user_id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 02:40:26.777 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 02:40:26.878 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 02:40:26.879 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 02:40:26.879 | INFO     | uvicorn.server:serve:86 - Finished server process [29242]
2023-12-15 02:40:27.376 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 02:40:41.285 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-15 02:40:41.289 | ERROR    | app.endpoints.orgs:get_orgs:23 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x102d259d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102aa3430>
           └ <SpawnProcess name='SpawnProcess-139' parent=19712 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102a97a60>
    └ <SpawnProcess name='SpawnProcess-139' parent=19712 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102d369d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-139' parent=19712 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-139' parent=19712 started>
    │    └ <function subprocess_started at 0x1055fc3a0>
    └ <SpawnProcess name='SpawnProcess-139' parent=19712 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102d36af0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1055e9940>
           │       │   └ <uvicorn.server.Server object at 0x102d36af0>
           │       └ <function run at 0x102d62820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1055ed340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1056405b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105738910>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1057389...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x105721d30>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1056405b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105738910>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1057389...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105738910>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1057389...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x105727af0>
          └ <fastapi.applications.FastAPI object at 0x105721d30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10572aca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1057389...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x105727a60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x105727af0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10572aca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1057389...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x105727a90>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x105727a60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10572adc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1057389...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x105727b80>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x105727a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10572adc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1057389...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x105721e50>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x105727b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10572adc0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1057389...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x104acdaf0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10572adc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1057389...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x105724a60>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10533a4f0>
                     └ <function get_request_handler.<locals>.app at 0x105724af0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104abc790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x10560d400>, 'role_id': 'null'}
                 │         └ <function get_orgs at 0x105385550>
                 └ <fastapi.dependencies.models.Dependant object at 0x10572b790>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ 'null'
                 │         │          └ <providers.psql_provider.DB object at 0x10560d400>
                 │         └ <function query_orgs at 0x105372dc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 21, in query_orgs
    main_org_id = await db.fetch_value(sql.format(role_id=role_id))
                        │  │           │   │              └ 'null'
                        │  │           │   └ <method 'format' of 'str' objects>
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x10507df70>
                        └ <providers.psql_provider.DB object at 0x10560d400>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x104dd71f0>
                   └ <PoolConnectionProxy [released] 0x1058544f0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x104dc41f0>
                 └ <asyncpg.connection.Connection object at 0x1057168b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1057168b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x104dc45e0>
                         └ <asyncpg.connection.Connection object at 0x1057168b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x104dc2700>
                 └ <asyncpg.connection.Connection object at 0x1057168b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1057168b0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-15 02:40:41.315 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62347 - "GET /orgs?role_id=null HTTP/1.1" 500
2023-12-15 02:40:54.707 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 02:40:54.809 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 02:40:54.809 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 02:40:54.810 | INFO     | uvicorn.server:serve:86 - Finished server process [29338]
2023-12-15 02:40:55.229 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 02:40:57.354 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62416 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 02:43:05.890 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 02:43:05.992 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 02:43:05.992 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 02:43:05.992 | INFO     | uvicorn.server:serve:86 - Finished server process [29353]
2023-12-15 02:43:06.426 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 02:43:08.080 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.remark,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 02:43:08.089 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 02:43:08.091 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62950 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 02:43:08.121 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.remark,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 02:43:08.122 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 02:43:08.124 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62954 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 02:43:08.124 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 02:43:08.135 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62951 - "GET /token?user_id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 02:43:08.142 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 02:43:08.144 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 02:43:08.145 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 02:43:08.148 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62954 - "GET /token?user_id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-15 02:43:34.479 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63063 - "OPTIONS /org/4f23a764-f441-4809-a894-4708acc68571 HTTP/1.1" 200
2023-12-15 02:43:34.483 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63064 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-15 02:43:34.483 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63065 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-15 02:43:34.484 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63063 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-15 02:43:34.484 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63066 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-15 02:43:34.485 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63064 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-15 02:43:34.488 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63067 - "OPTIONS /org/4f23a764-f441-4809-a894-4708acc68571 HTTP/1.1" 200
2023-12-15 02:43:34.493 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63068 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-15 02:43:34.505 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '4f23a764-f441-4809-a894-4708acc68571'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:43:34.507 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 02:43:34.508 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 02:43:34.516 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63064 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 02:43:34.519 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63066 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 02:43:34.520 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 02:43:34.524 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63063 - "GET /options/users HTTP/1.1" 200
2023-12-15 02:43:34.524 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 02:43:34.527 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '4f23a764-f441-4809-a894-4708acc68571';
    
2023-12-15 02:43:34.531 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 02:43:34.531 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63068 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 02:43:34.533 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63064 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 02:43:34.534 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 02:43:34.534 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63065 - "GET /org/4f23a764-f441-4809-a894-4708acc68571 HTTP/1.1" 200
2023-12-15 02:43:34.540 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63066 - "GET /options/users HTTP/1.1" 200
2023-12-15 02:43:34.541 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '4f23a764-f441-4809-a894-4708acc68571'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:43:34.543 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '4f23a764-f441-4809-a894-4708acc68571';
    
2023-12-15 02:43:34.546 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63064 - "GET /org/4f23a764-f441-4809-a894-4708acc68571 HTTP/1.1" 200
2023-12-15 02:44:23.919 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63278 - "OPTIONS /org/4f23a764-f441-4809-a894-4708acc68571 HTTP/1.1" 200
2023-12-15 02:44:23.929 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '4f23a764-f441-4809-a894-4708acc68571'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:44:23.932 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '4f23a764-f441-4809-a894-4708acc68571';
    
2023-12-15 02:44:23.941 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        id
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '4f23a764-f441-4809-a894-4708acc68571'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:44:23.945 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE orgs
    SET
        p_id = '36944519-1255-490f-a310-b57ed8abe0f2',
        name = '東京支店01',
        type = '03'
    WHERE
        orgs.id = '4f23a764-f441-4809-a894-4708acc68571';
    
2023-12-15 02:44:23.951 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_org_rels
        WHERE
            user_org_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
            AND
            user_org_rels.org_id = '4f23a764-f441-4809-a894-4708acc68571';
        
2023-12-15 02:44:23.956 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_role_rels
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
            AND
            user_role_rels.role_id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
        
2023-12-15 02:44:23.958 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM org_role_rels
        WHERE
            org_role_rels.org_id = '4f23a764-f441-4809-a894-4708acc68571'
            AND
            org_role_rels.role_id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
        
2023-12-15 02:44:23.969 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '422d128d-aad1-41e1-aeea-2862e3a63da8'
                AND
                permission_id = '8f63e587-b802-4cfd-8ead-d3423237b054';
            
2023-12-15 02:44:23.970 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '422d128d-aad1-41e1-aeea-2862e3a63da8'
                AND
                permission_id = '0b25e905-64ae-42d2-98ed-2c8ebd845d66';
            
2023-12-15 02:44:23.970 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '422d128d-aad1-41e1-aeea-2862e3a63da8'
                AND
                permission_id = '53dc2e89-791d-4b66-aa73-f51ea9cd4e26';
            
2023-12-15 02:44:23.971 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '422d128d-aad1-41e1-aeea-2862e3a63da8'
                AND
                permission_id = '7f956b2a-65ce-463e-9ddb-6627f9b42ecf';
            
2023-12-15 02:44:23.971 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '422d128d-aad1-41e1-aeea-2862e3a63da8'
                AND
                permission_id = 'dd96b563-2476-4904-a880-a2cffe1ea0ac';
            
2023-12-15 02:44:23.972 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '422d128d-aad1-41e1-aeea-2862e3a63da8'
                AND
                permission_id = '55ba3199-c673-49d8-8001-9b5f3b2b33dc';
            
2023-12-15 02:44:23.972 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '422d128d-aad1-41e1-aeea-2862e3a63da8'
                AND
                permission_id = '2ca11194-6079-41e8-8b26-275aa42848fa';
            
2023-12-15 02:44:23.973 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '422d128d-aad1-41e1-aeea-2862e3a63da8'
                AND
                permission_id = '0a3f364b-21e6-4c0d-bf6e-67729bf899a2';
            
2023-12-15 02:44:23.973 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '422d128d-aad1-41e1-aeea-2862e3a63da8'
                AND
                permission_id = '58289de8-b6b7-4629-9016-58e5d30e89ee';
            
2023-12-15 02:44:23.974 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '422d128d-aad1-41e1-aeea-2862e3a63da8'
                AND
                permission_id = '2065f63f-5e95-432e-9545-eed26715dc49';
            
2023-12-15 02:44:23.974 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '422d128d-aad1-41e1-aeea-2862e3a63da8'
                AND
                permission_id = '55762da2-4d17-418e-b09f-e6249645ec18';
            
2023-12-15 02:44:23.975 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '422d128d-aad1-41e1-aeea-2862e3a63da8'
                AND
                permission_id = 'ee3ed4ae-43d9-4d37-92f9-a4950788d8be';
            
2023-12-15 02:44:23.975 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '422d128d-aad1-41e1-aeea-2862e3a63da8'
                AND
                permission_id = 'bce2b4a4-0cad-4baa-96dd-671f2d942c7e';
            
2023-12-15 02:44:23.976 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '422d128d-aad1-41e1-aeea-2862e3a63da8'
                AND
                permission_id = 'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7';
            
2023-12-15 02:44:23.977 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM roles WHERE id = '422d128d-aad1-41e1-aeea-2862e3a63da8';
        
2023-12-15 02:44:23.978 | INFO     | providers.psql_provider:fetch_one:30 - 
        INSERT INTO roles (type, name)
        VALUES (
            '03',
            '支店管理者'
        )
        RETURNING id;
        
2023-12-15 02:44:23.980 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_org_rels (user_id, org_id, type)
        VALUES (
            'cf3facb5-de15-4b25-8f13-c3cbe6db0a25',
            '4f23a764-f441-4809-a894-4708acc68571',
            '03'
        )
        
2023-12-15 02:44:23.981 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_role_rels (user_id, role_id)
        VALUES (
            'cf3facb5-de15-4b25-8f13-c3cbe6db0a25',
            '995bd842-fc17-462d-a353-1a673ad1b4e6'
        )
        
2023-12-15 02:44:23.982 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO org_role_rels (org_id, role_id)
        VALUES (
            '4f23a764-f441-4809-a894-4708acc68571',
            '995bd842-fc17-462d-a353-1a673ad1b4e6'
        )
        
2023-12-15 02:44:23.982 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '995bd842-fc17-462d-a353-1a673ad1b4e6',
                '8f63e587-b802-4cfd-8ead-d3423237b054'
            )
            
2023-12-15 02:44:23.984 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '995bd842-fc17-462d-a353-1a673ad1b4e6',
                '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
            )
            
2023-12-15 02:44:23.986 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '995bd842-fc17-462d-a353-1a673ad1b4e6',
                '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
            )
            
2023-12-15 02:44:23.987 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '995bd842-fc17-462d-a353-1a673ad1b4e6',
                '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
            )
            
2023-12-15 02:44:23.987 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '995bd842-fc17-462d-a353-1a673ad1b4e6',
                'dd96b563-2476-4904-a880-a2cffe1ea0ac'
            )
            
2023-12-15 02:44:23.988 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '995bd842-fc17-462d-a353-1a673ad1b4e6',
                '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
            )
            
2023-12-15 02:44:23.989 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '995bd842-fc17-462d-a353-1a673ad1b4e6',
                '2ca11194-6079-41e8-8b26-275aa42848fa'
            )
            
2023-12-15 02:44:23.989 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '995bd842-fc17-462d-a353-1a673ad1b4e6',
                '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
            )
            
2023-12-15 02:44:23.990 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '995bd842-fc17-462d-a353-1a673ad1b4e6',
                '58289de8-b6b7-4629-9016-58e5d30e89ee'
            )
            
2023-12-15 02:44:23.990 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '995bd842-fc17-462d-a353-1a673ad1b4e6',
                '2065f63f-5e95-432e-9545-eed26715dc49'
            )
            
2023-12-15 02:44:23.991 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '995bd842-fc17-462d-a353-1a673ad1b4e6',
                '55762da2-4d17-418e-b09f-e6249645ec18'
            )
            
2023-12-15 02:44:23.991 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '995bd842-fc17-462d-a353-1a673ad1b4e6',
                'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
            )
            
2023-12-15 02:44:23.992 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '995bd842-fc17-462d-a353-1a673ad1b4e6',
                'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
            )
            
2023-12-15 02:44:23.993 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '995bd842-fc17-462d-a353-1a673ad1b4e6',
                'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7'
            )
            
2023-12-15 02:44:23.993 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63278 - "PUT /org/4f23a764-f441-4809-a894-4708acc68571 HTTP/1.1" 200
2023-12-15 02:44:24.058 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.remark,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 02:44:24.061 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63278 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 02:44:24.067 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.remark,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 02:44:24.070 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63286 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 02:44:41.165 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63357 - "OPTIONS /org/36944519-1255-490f-a310-b57ed8abe0f2 HTTP/1.1" 200
2023-12-15 02:44:41.169 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63361 - "OPTIONS /org/36944519-1255-490f-a310-b57ed8abe0f2 HTTP/1.1" 200
2023-12-15 02:44:41.179 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 02:44:41.179 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 02:44:41.180 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 02:44:41.185 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63358 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 02:44:41.185 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63359 - "GET /options/users HTTP/1.1" 200
2023-12-15 02:44:41.186 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63360 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 02:44:41.188 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '36944519-1255-490f-a310-b57ed8abe0f2'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:44:41.192 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2';
    
2023-12-15 02:44:41.194 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 02:44:41.199 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 02:44:41.201 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63357 - "GET /org/36944519-1255-490f-a310-b57ed8abe0f2 HTTP/1.1" 200
2023-12-15 02:44:41.203 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 02:44:41.204 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63361 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 02:44:41.208 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63359 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 02:44:41.217 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63366 - "GET /options/users HTTP/1.1" 200
2023-12-15 02:44:41.218 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '36944519-1255-490f-a310-b57ed8abe0f2'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:44:41.220 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2';
    
2023-12-15 02:44:41.222 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63360 - "GET /org/36944519-1255-490f-a310-b57ed8abe0f2 HTTP/1.1" 200
2023-12-15 02:44:56.309 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63434 - "OPTIONS /org/36944519-1255-490f-a310-b57ed8abe0f2 HTTP/1.1" 200
2023-12-15 02:44:56.321 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '36944519-1255-490f-a310-b57ed8abe0f2'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:44:56.333 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2';
    
2023-12-15 02:44:56.350 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        id
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2'
        AND
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 02:44:56.352 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE orgs
    SET
        p_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c',
        name = '東京（エリア）',
        type = '02'
    WHERE
        orgs.id = '36944519-1255-490f-a310-b57ed8abe0f2';
    
2023-12-15 02:44:56.353 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_org_rels
        WHERE
            user_org_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985'
            AND
            user_org_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2';
        
2023-12-15 02:44:56.355 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_role_rels
        WHERE
            user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985'
            AND
            user_role_rels.role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d';
        
2023-12-15 02:44:56.357 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM org_role_rels
        WHERE
            org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2'
            AND
            org_role_rels.role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d';
        
2023-12-15 02:44:56.358 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '0b25e905-64ae-42d2-98ed-2c8ebd845d66';
            
2023-12-15 02:44:56.359 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '8f63e587-b802-4cfd-8ead-d3423237b054';
            
2023-12-15 02:44:56.360 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '7f956b2a-65ce-463e-9ddb-6627f9b42ecf';
            
2023-12-15 02:44:56.362 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = 'dd96b563-2476-4904-a880-a2cffe1ea0ac';
            
2023-12-15 02:44:56.364 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '53dc2e89-791d-4b66-aa73-f51ea9cd4e26';
            
2023-12-15 02:44:56.366 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '2ca11194-6079-41e8-8b26-275aa42848fa';
            
2023-12-15 02:44:56.367 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '0a3f364b-21e6-4c0d-bf6e-67729bf899a2';
            
2023-12-15 02:44:56.368 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '55ba3199-c673-49d8-8001-9b5f3b2b33dc';
            
2023-12-15 02:44:56.369 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '2065f63f-5e95-432e-9545-eed26715dc49';
            
2023-12-15 02:44:56.369 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '58289de8-b6b7-4629-9016-58e5d30e89ee';
            
2023-12-15 02:44:56.370 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '55762da2-4d17-418e-b09f-e6249645ec18';
            
2023-12-15 02:44:56.371 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = 'ee3ed4ae-43d9-4d37-92f9-a4950788d8be';
            
2023-12-15 02:44:56.371 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = 'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7';
            
2023-12-15 02:44:56.372 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = 'bce2b4a4-0cad-4baa-96dd-671f2d942c7e';
            
2023-12-15 02:44:56.372 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM roles WHERE id = 'd3706898-28de-49e5-ba20-6008ab4ee18d';
        
2023-12-15 02:44:56.374 | INFO     | providers.psql_provider:fetch_one:30 - 
        INSERT INTO roles (type, name)
        VALUES (
            '02',
            'エリア管理者'
        )
        RETURNING id;
        
2023-12-15 02:44:56.374 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_org_rels (user_id, org_id, type)
        VALUES (
            'a2884f9c-39b3-42f8-81f0-35cce07241d6',
            '36944519-1255-490f-a310-b57ed8abe0f2',
            '02'
        )
        
2023-12-15 02:44:56.375 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_role_rels (user_id, role_id)
        VALUES (
            'a2884f9c-39b3-42f8-81f0-35cce07241d6',
            '777299ff-885c-4486-b71b-d5c402dec82f'
        )
        
2023-12-15 02:44:56.376 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO org_role_rels (org_id, role_id)
        VALUES (
            '36944519-1255-490f-a310-b57ed8abe0f2',
            '777299ff-885c-4486-b71b-d5c402dec82f'
        )
        
2023-12-15 02:44:56.377 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '777299ff-885c-4486-b71b-d5c402dec82f',
                '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
            )
            
2023-12-15 02:44:56.377 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '777299ff-885c-4486-b71b-d5c402dec82f',
                '8f63e587-b802-4cfd-8ead-d3423237b054'
            )
            
2023-12-15 02:44:56.378 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '777299ff-885c-4486-b71b-d5c402dec82f',
                '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
            )
            
2023-12-15 02:44:56.378 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '777299ff-885c-4486-b71b-d5c402dec82f',
                'dd96b563-2476-4904-a880-a2cffe1ea0ac'
            )
            
2023-12-15 02:44:56.379 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '777299ff-885c-4486-b71b-d5c402dec82f',
                '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
            )
            
2023-12-15 02:44:56.380 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '777299ff-885c-4486-b71b-d5c402dec82f',
                '2ca11194-6079-41e8-8b26-275aa42848fa'
            )
            
2023-12-15 02:44:56.381 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '777299ff-885c-4486-b71b-d5c402dec82f',
                '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
            )
            
2023-12-15 02:44:56.382 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '777299ff-885c-4486-b71b-d5c402dec82f',
                '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
            )
            
2023-12-15 02:44:56.382 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '777299ff-885c-4486-b71b-d5c402dec82f',
                '2065f63f-5e95-432e-9545-eed26715dc49'
            )
            
2023-12-15 02:44:56.383 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '777299ff-885c-4486-b71b-d5c402dec82f',
                '58289de8-b6b7-4629-9016-58e5d30e89ee'
            )
            
2023-12-15 02:44:56.383 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '777299ff-885c-4486-b71b-d5c402dec82f',
                '55762da2-4d17-418e-b09f-e6249645ec18'
            )
            
2023-12-15 02:44:56.384 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '777299ff-885c-4486-b71b-d5c402dec82f',
                'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
            )
            
2023-12-15 02:44:56.384 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '777299ff-885c-4486-b71b-d5c402dec82f',
                'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7'
            )
            
2023-12-15 02:44:56.385 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '777299ff-885c-4486-b71b-d5c402dec82f',
                'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
            )
            
2023-12-15 02:44:56.385 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63434 - "PUT /org/36944519-1255-490f-a310-b57ed8abe0f2 HTTP/1.1" 200
2023-12-15 02:44:56.449 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.remark,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 02:44:56.452 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63434 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 02:44:56.459 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.remark,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 02:44:56.462 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63438 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 02:45:21.324 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 02:45:21.328 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 02:45:21.329 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '4f23a764-f441-4809-a894-4708acc68571'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:45:21.332 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63544 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 02:45:21.334 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63545 - "GET /options/users HTTP/1.1" 200
2023-12-15 02:45:21.336 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 02:45:21.338 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63546 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 02:45:21.339 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 02:45:21.342 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '4f23a764-f441-4809-a894-4708acc68571';
    
2023-12-15 02:45:21.342 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 02:45:21.342 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63551 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 02:45:21.345 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 02:45:21.345 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63544 - "GET /options/users HTTP/1.1" 200
2023-12-15 02:45:21.347 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63543 - "GET /org/4f23a764-f441-4809-a894-4708acc68571 HTTP/1.1" 200
2023-12-15 02:45:21.348 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63545 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 02:45:21.352 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '4f23a764-f441-4809-a894-4708acc68571'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:45:21.353 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '4f23a764-f441-4809-a894-4708acc68571';
    
2023-12-15 02:45:21.355 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63544 - "GET /org/4f23a764-f441-4809-a894-4708acc68571 HTTP/1.1" 200
2023-12-15 02:45:25.525 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '4f23a764-f441-4809-a894-4708acc68571'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:45:25.528 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '4f23a764-f441-4809-a894-4708acc68571';
    
2023-12-15 02:45:25.540 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        id
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '4f23a764-f441-4809-a894-4708acc68571'
        AND
        user_role_rels.user_id = 'cf3facb5-de15-4b25-8f13-c3cbe6db0a25';
    
2023-12-15 02:45:25.542 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE orgs
    SET
        p_id = '36944519-1255-490f-a310-b57ed8abe0f2',
        name = '東京支店01',
        type = '03'
    WHERE
        orgs.id = '4f23a764-f441-4809-a894-4708acc68571';
    
2023-12-15 02:45:25.545 | INFO     | providers.psql_provider:execute:57 - 
        UPDATE roles
        SET
            name = '支店管理者',
            type = '03'
        WHERE
            roles.id = '995bd842-fc17-462d-a353-1a673ad1b4e6';
        
2023-12-15 02:45:25.548 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '995bd842-fc17-462d-a353-1a673ad1b4e6'
                AND
                permission_id = '8f63e587-b802-4cfd-8ead-d3423237b054';
            
2023-12-15 02:45:25.551 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '995bd842-fc17-462d-a353-1a673ad1b4e6'
                AND
                permission_id = '0b25e905-64ae-42d2-98ed-2c8ebd845d66';
            
2023-12-15 02:45:25.559 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '995bd842-fc17-462d-a353-1a673ad1b4e6'
                AND
                permission_id = '53dc2e89-791d-4b66-aa73-f51ea9cd4e26';
            
2023-12-15 02:45:25.565 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '995bd842-fc17-462d-a353-1a673ad1b4e6'
                AND
                permission_id = '7f956b2a-65ce-463e-9ddb-6627f9b42ecf';
            
2023-12-15 02:45:25.566 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '995bd842-fc17-462d-a353-1a673ad1b4e6'
                AND
                permission_id = 'dd96b563-2476-4904-a880-a2cffe1ea0ac';
            
2023-12-15 02:45:25.566 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '995bd842-fc17-462d-a353-1a673ad1b4e6'
                AND
                permission_id = '55ba3199-c673-49d8-8001-9b5f3b2b33dc';
            
2023-12-15 02:45:25.567 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '995bd842-fc17-462d-a353-1a673ad1b4e6'
                AND
                permission_id = '2ca11194-6079-41e8-8b26-275aa42848fa';
            
2023-12-15 02:45:25.567 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '995bd842-fc17-462d-a353-1a673ad1b4e6'
                AND
                permission_id = '0a3f364b-21e6-4c0d-bf6e-67729bf899a2';
            
2023-12-15 02:45:25.568 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '995bd842-fc17-462d-a353-1a673ad1b4e6'
                AND
                permission_id = '58289de8-b6b7-4629-9016-58e5d30e89ee';
            
2023-12-15 02:45:25.569 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '995bd842-fc17-462d-a353-1a673ad1b4e6'
                AND
                permission_id = '2065f63f-5e95-432e-9545-eed26715dc49';
            
2023-12-15 02:45:25.569 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '995bd842-fc17-462d-a353-1a673ad1b4e6'
                AND
                permission_id = '55762da2-4d17-418e-b09f-e6249645ec18';
            
2023-12-15 02:45:25.570 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '995bd842-fc17-462d-a353-1a673ad1b4e6'
                AND
                permission_id = 'ee3ed4ae-43d9-4d37-92f9-a4950788d8be';
            
2023-12-15 02:45:25.570 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '995bd842-fc17-462d-a353-1a673ad1b4e6'
                AND
                permission_id = 'bce2b4a4-0cad-4baa-96dd-671f2d942c7e';
            
2023-12-15 02:45:25.571 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '995bd842-fc17-462d-a353-1a673ad1b4e6'
                AND
                permission_id = 'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7';
            
2023-12-15 02:45:25.572 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '995bd842-fc17-462d-a353-1a673ad1b4e6',
                '8f63e587-b802-4cfd-8ead-d3423237b054'
            )
            
2023-12-15 02:45:25.572 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '995bd842-fc17-462d-a353-1a673ad1b4e6',
                '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
            )
            
2023-12-15 02:45:25.573 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '995bd842-fc17-462d-a353-1a673ad1b4e6',
                '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
            )
            
2023-12-15 02:45:25.574 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '995bd842-fc17-462d-a353-1a673ad1b4e6',
                '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
            )
            
2023-12-15 02:45:25.574 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '995bd842-fc17-462d-a353-1a673ad1b4e6',
                'dd96b563-2476-4904-a880-a2cffe1ea0ac'
            )
            
2023-12-15 02:45:25.575 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '995bd842-fc17-462d-a353-1a673ad1b4e6',
                '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
            )
            
2023-12-15 02:45:25.575 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '995bd842-fc17-462d-a353-1a673ad1b4e6',
                '2ca11194-6079-41e8-8b26-275aa42848fa'
            )
            
2023-12-15 02:45:25.576 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '995bd842-fc17-462d-a353-1a673ad1b4e6',
                '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
            )
            
2023-12-15 02:45:25.577 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '995bd842-fc17-462d-a353-1a673ad1b4e6',
                '58289de8-b6b7-4629-9016-58e5d30e89ee'
            )
            
2023-12-15 02:45:25.578 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '995bd842-fc17-462d-a353-1a673ad1b4e6',
                '2065f63f-5e95-432e-9545-eed26715dc49'
            )
            
2023-12-15 02:45:25.578 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '995bd842-fc17-462d-a353-1a673ad1b4e6',
                '55762da2-4d17-418e-b09f-e6249645ec18'
            )
            
2023-12-15 02:45:25.579 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '995bd842-fc17-462d-a353-1a673ad1b4e6',
                'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
            )
            
2023-12-15 02:45:25.579 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '995bd842-fc17-462d-a353-1a673ad1b4e6',
                'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
            )
            
2023-12-15 02:45:25.580 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '995bd842-fc17-462d-a353-1a673ad1b4e6',
                'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7'
            )
            
2023-12-15 02:45:25.580 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63544 - "PUT /org/4f23a764-f441-4809-a894-4708acc68571 HTTP/1.1" 200
2023-12-15 02:45:25.638 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.remark,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 02:45:25.642 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63544 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 02:45:25.647 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.remark,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 02:45:25.650 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63545 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 02:45:28.274 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63545 - "OPTIONS /org/2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 02:45:28.277 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63545 - "OPTIONS /org/2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 02:45:28.282 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 02:45:28.286 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 02:45:28.288 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 02:45:28.289 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63544 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 02:45:28.290 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63590 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 02:45:28.291 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '2b2dfcf7-96f5-415a-893b-d3ca944d2220'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:45:28.292 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63589 - "GET /options/users HTTP/1.1" 200
2023-12-15 02:45:28.299 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 02:45:28.303 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 02:45:28.303 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 02:45:28.304 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63545 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 02:45:28.307 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63590 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 02:45:28.308 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63544 - "GET /options/users HTTP/1.1" 200
2023-12-15 02:45:28.309 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '2b2dfcf7-96f5-415a-893b-d3ca944d2220';
    
2023-12-15 02:45:28.311 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63591 - "GET /org/2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 02:45:28.315 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '2b2dfcf7-96f5-415a-893b-d3ca944d2220'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:45:28.317 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '2b2dfcf7-96f5-415a-893b-d3ca944d2220';
    
2023-12-15 02:45:28.319 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63544 - "GET /org/2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 02:45:35.740 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63629 - "OPTIONS /org/2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 02:45:35.754 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '2b2dfcf7-96f5-415a-893b-d3ca944d2220'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:45:35.758 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '2b2dfcf7-96f5-415a-893b-d3ca944d2220';
    
2023-12-15 02:45:35.769 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        id
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '2b2dfcf7-96f5-415a-893b-d3ca944d2220'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 02:45:35.777 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE orgs
    SET
        p_id = '36944519-1255-490f-a310-b57ed8abe0f2',
        name = '東京支店02',
        type = '03'
    WHERE
        orgs.id = '2b2dfcf7-96f5-415a-893b-d3ca944d2220';
    
2023-12-15 02:45:35.783 | INFO     | providers.psql_provider:execute:57 - 
        UPDATE roles
        SET
            name = '支店管理者',
            type = '03'
        WHERE
            roles.id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';
        
2023-12-15 02:45:35.787 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c'
                AND
                permission_id = '8f63e587-b802-4cfd-8ead-d3423237b054';
            
2023-12-15 02:45:35.788 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c'
                AND
                permission_id = '0b25e905-64ae-42d2-98ed-2c8ebd845d66';
            
2023-12-15 02:45:35.790 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c'
                AND
                permission_id = '53dc2e89-791d-4b66-aa73-f51ea9cd4e26';
            
2023-12-15 02:45:35.791 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c'
                AND
                permission_id = '7f956b2a-65ce-463e-9ddb-6627f9b42ecf';
            
2023-12-15 02:45:35.793 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c'
                AND
                permission_id = 'dd96b563-2476-4904-a880-a2cffe1ea0ac';
            
2023-12-15 02:45:35.794 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c'
                AND
                permission_id = '55ba3199-c673-49d8-8001-9b5f3b2b33dc';
            
2023-12-15 02:45:35.797 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c'
                AND
                permission_id = '2ca11194-6079-41e8-8b26-275aa42848fa';
            
2023-12-15 02:45:35.799 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c'
                AND
                permission_id = '0a3f364b-21e6-4c0d-bf6e-67729bf899a2';
            
2023-12-15 02:45:35.800 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c'
                AND
                permission_id = '58289de8-b6b7-4629-9016-58e5d30e89ee';
            
2023-12-15 02:45:35.801 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c'
                AND
                permission_id = '2065f63f-5e95-432e-9545-eed26715dc49';
            
2023-12-15 02:45:35.802 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c'
                AND
                permission_id = '55762da2-4d17-418e-b09f-e6249645ec18';
            
2023-12-15 02:45:35.803 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c'
                AND
                permission_id = 'ee3ed4ae-43d9-4d37-92f9-a4950788d8be';
            
2023-12-15 02:45:35.803 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c'
                AND
                permission_id = 'bce2b4a4-0cad-4baa-96dd-671f2d942c7e';
            
2023-12-15 02:45:35.804 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c'
                AND
                permission_id = 'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7';
            
2023-12-15 02:45:35.804 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '4fbf1533-ff14-4d3f-b820-55f8f432366c',
                '8f63e587-b802-4cfd-8ead-d3423237b054'
            )
            
2023-12-15 02:45:35.805 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '4fbf1533-ff14-4d3f-b820-55f8f432366c',
                '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
            )
            
2023-12-15 02:45:35.806 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '4fbf1533-ff14-4d3f-b820-55f8f432366c',
                '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
            )
            
2023-12-15 02:45:35.806 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '4fbf1533-ff14-4d3f-b820-55f8f432366c',
                '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
            )
            
2023-12-15 02:45:35.807 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '4fbf1533-ff14-4d3f-b820-55f8f432366c',
                'dd96b563-2476-4904-a880-a2cffe1ea0ac'
            )
            
2023-12-15 02:45:35.808 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '4fbf1533-ff14-4d3f-b820-55f8f432366c',
                '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
            )
            
2023-12-15 02:45:35.808 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '4fbf1533-ff14-4d3f-b820-55f8f432366c',
                '2ca11194-6079-41e8-8b26-275aa42848fa'
            )
            
2023-12-15 02:45:35.809 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '4fbf1533-ff14-4d3f-b820-55f8f432366c',
                '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
            )
            
2023-12-15 02:45:35.810 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '4fbf1533-ff14-4d3f-b820-55f8f432366c',
                '58289de8-b6b7-4629-9016-58e5d30e89ee'
            )
            
2023-12-15 02:45:35.810 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '4fbf1533-ff14-4d3f-b820-55f8f432366c',
                '2065f63f-5e95-432e-9545-eed26715dc49'
            )
            
2023-12-15 02:45:35.811 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '4fbf1533-ff14-4d3f-b820-55f8f432366c',
                '55762da2-4d17-418e-b09f-e6249645ec18'
            )
            
2023-12-15 02:45:35.811 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '4fbf1533-ff14-4d3f-b820-55f8f432366c',
                'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
            )
            
2023-12-15 02:45:35.812 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '4fbf1533-ff14-4d3f-b820-55f8f432366c',
                'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
            )
            
2023-12-15 02:45:35.812 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '4fbf1533-ff14-4d3f-b820-55f8f432366c',
                'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7'
            )
            
2023-12-15 02:45:35.813 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63629 - "PUT /org/2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 02:45:35.878 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.remark,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 02:45:35.882 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63629 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 02:45:35.888 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.remark,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 02:45:35.892 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63633 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 02:45:40.652 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63633 - "OPTIONS /org/1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 02:45:40.655 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63657 - "OPTIONS /org/1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 02:45:40.661 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 02:45:40.669 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 02:45:40.669 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63629 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 02:45:40.671 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 02:45:40.672 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:45:40.673 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63655 - "GET /options/users HTTP/1.1" 200
2023-12-15 02:45:40.675 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63656 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 02:45:40.678 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 02:45:40.684 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 02:45:40.684 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63657 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 02:45:40.685 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63629 - "GET /options/users HTTP/1.1" 200
2023-12-15 02:45:40.686 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa';
    
2023-12-15 02:45:40.686 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 02:45:40.687 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63655 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 02:45:40.688 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63633 - "GET /org/1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 02:45:40.692 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:45:40.694 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa';
    
2023-12-15 02:45:40.695 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63655 - "GET /org/1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 02:45:50.062 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63703 - "OPTIONS /org/1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 02:45:50.079 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:45:50.099 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa';
    
2023-12-15 02:45:50.103 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        id
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 02:45:50.105 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE orgs
    SET
        p_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c',
        name = '東京支店03',
        type = '03'
    WHERE
        orgs.id = '1b45760d-6e58-4a83-a687-2910498b76fa';
    
2023-12-15 02:45:50.106 | INFO     | providers.psql_provider:execute:57 - 
        UPDATE roles
        SET
            name = '支店管理者',
            type = '03'
        WHERE
            roles.id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb';
        
2023-12-15 02:45:50.107 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb'
                AND
                permission_id = '8f63e587-b802-4cfd-8ead-d3423237b054';
            
2023-12-15 02:45:50.107 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb'
                AND
                permission_id = '0b25e905-64ae-42d2-98ed-2c8ebd845d66';
            
2023-12-15 02:45:50.110 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb'
                AND
                permission_id = '53dc2e89-791d-4b66-aa73-f51ea9cd4e26';
            
2023-12-15 02:45:50.111 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb'
                AND
                permission_id = '7f956b2a-65ce-463e-9ddb-6627f9b42ecf';
            
2023-12-15 02:45:50.112 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb'
                AND
                permission_id = 'dd96b563-2476-4904-a880-a2cffe1ea0ac';
            
2023-12-15 02:45:50.113 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb'
                AND
                permission_id = '55ba3199-c673-49d8-8001-9b5f3b2b33dc';
            
2023-12-15 02:45:50.114 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb'
                AND
                permission_id = '2ca11194-6079-41e8-8b26-275aa42848fa';
            
2023-12-15 02:45:50.115 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb'
                AND
                permission_id = '0a3f364b-21e6-4c0d-bf6e-67729bf899a2';
            
2023-12-15 02:45:50.115 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb'
                AND
                permission_id = '58289de8-b6b7-4629-9016-58e5d30e89ee';
            
2023-12-15 02:45:50.116 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb'
                AND
                permission_id = '2065f63f-5e95-432e-9545-eed26715dc49';
            
2023-12-15 02:45:50.116 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb'
                AND
                permission_id = '55762da2-4d17-418e-b09f-e6249645ec18';
            
2023-12-15 02:45:50.117 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb'
                AND
                permission_id = 'ee3ed4ae-43d9-4d37-92f9-a4950788d8be';
            
2023-12-15 02:45:50.118 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb'
                AND
                permission_id = 'bce2b4a4-0cad-4baa-96dd-671f2d942c7e';
            
2023-12-15 02:45:50.118 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb'
                AND
                permission_id = 'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7';
            
2023-12-15 02:45:50.119 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'b8c39c6f-b327-47c4-b764-d580b045cdeb',
                '8f63e587-b802-4cfd-8ead-d3423237b054'
            )
            
2023-12-15 02:45:50.120 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'b8c39c6f-b327-47c4-b764-d580b045cdeb',
                '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
            )
            
2023-12-15 02:45:50.121 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'b8c39c6f-b327-47c4-b764-d580b045cdeb',
                '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
            )
            
2023-12-15 02:45:50.122 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'b8c39c6f-b327-47c4-b764-d580b045cdeb',
                '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
            )
            
2023-12-15 02:45:50.122 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'b8c39c6f-b327-47c4-b764-d580b045cdeb',
                'dd96b563-2476-4904-a880-a2cffe1ea0ac'
            )
            
2023-12-15 02:45:50.123 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'b8c39c6f-b327-47c4-b764-d580b045cdeb',
                '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
            )
            
2023-12-15 02:45:50.123 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'b8c39c6f-b327-47c4-b764-d580b045cdeb',
                '2ca11194-6079-41e8-8b26-275aa42848fa'
            )
            
2023-12-15 02:45:50.124 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'b8c39c6f-b327-47c4-b764-d580b045cdeb',
                '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
            )
            
2023-12-15 02:45:50.124 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'b8c39c6f-b327-47c4-b764-d580b045cdeb',
                '58289de8-b6b7-4629-9016-58e5d30e89ee'
            )
            
2023-12-15 02:45:50.125 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'b8c39c6f-b327-47c4-b764-d580b045cdeb',
                '2065f63f-5e95-432e-9545-eed26715dc49'
            )
            
2023-12-15 02:45:50.125 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'b8c39c6f-b327-47c4-b764-d580b045cdeb',
                '55762da2-4d17-418e-b09f-e6249645ec18'
            )
            
2023-12-15 02:45:50.126 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'b8c39c6f-b327-47c4-b764-d580b045cdeb',
                'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
            )
            
2023-12-15 02:45:50.126 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'b8c39c6f-b327-47c4-b764-d580b045cdeb',
                'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
            )
            
2023-12-15 02:45:50.127 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'b8c39c6f-b327-47c4-b764-d580b045cdeb',
                'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7'
            )
            
2023-12-15 02:45:50.128 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63703 - "PUT /org/1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 02:45:50.192 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.remark,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 02:45:50.196 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63703 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 02:45:50.203 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.remark,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 02:45:50.207 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63703 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 02:45:53.010 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63703 - "OPTIONS /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-15 02:45:53.012 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63723 - "OPTIONS /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-15 02:45:53.019 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 02:45:53.022 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 02:45:53.024 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:45:53.026 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 02:45:53.026 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63721 - "GET /options/users HTTP/1.1" 200
2023-12-15 02:45:53.027 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63707 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 02:45:53.029 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63722 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 02:45:53.036 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 02:45:53.037 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 02:45:53.038 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
    
2023-12-15 02:45:53.039 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 02:45:53.040 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63707 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 02:45:53.040 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63723 - "GET /options/users HTTP/1.1" 200
2023-12-15 02:45:53.042 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63721 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 02:45:53.043 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63703 - "GET /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-15 02:45:53.049 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:45:53.052 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
    
2023-12-15 02:45:53.054 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63721 - "GET /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-15 02:46:02.121 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63771 - "OPTIONS /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-15 02:46:02.131 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:46:02.151 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
    
2023-12-15 02:46:02.156 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        id
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 02:46:02.157 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE orgs
    SET
        p_id = '1b45760d-6e58-4a83-a687-2910498b76fa',
        name = '支店01',
        type = '03'
    WHERE
        orgs.id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
    
2023-12-15 02:46:02.158 | INFO     | providers.psql_provider:execute:57 - 
        UPDATE roles
        SET
            name = '支店管理者',
            type = '03'
        WHERE
            roles.id = '0a4acbff-ecd1-44d7-9321-14aeb4a4c23c';
        
2023-12-15 02:46:02.159 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '0a4acbff-ecd1-44d7-9321-14aeb4a4c23c'
                AND
                permission_id = '53dc2e89-791d-4b66-aa73-f51ea9cd4e26';
            
2023-12-15 02:46:02.159 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '0a4acbff-ecd1-44d7-9321-14aeb4a4c23c'
                AND
                permission_id = '8f63e587-b802-4cfd-8ead-d3423237b054';
            
2023-12-15 02:46:02.160 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '0a4acbff-ecd1-44d7-9321-14aeb4a4c23c'
                AND
                permission_id = '2ca11194-6079-41e8-8b26-275aa42848fa';
            
2023-12-15 02:46:02.161 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '0a4acbff-ecd1-44d7-9321-14aeb4a4c23c'
                AND
                permission_id = '2065f63f-5e95-432e-9545-eed26715dc49';
            
2023-12-15 02:46:02.161 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '0a4acbff-ecd1-44d7-9321-14aeb4a4c23c'
                AND
                permission_id = 'bce2b4a4-0cad-4baa-96dd-671f2d942c7e';
            
2023-12-15 02:46:02.162 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '0a4acbff-ecd1-44d7-9321-14aeb4a4c23c',
                '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
            )
            
2023-12-15 02:46:02.163 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '0a4acbff-ecd1-44d7-9321-14aeb4a4c23c',
                '8f63e587-b802-4cfd-8ead-d3423237b054'
            )
            
2023-12-15 02:46:02.164 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '0a4acbff-ecd1-44d7-9321-14aeb4a4c23c',
                '2ca11194-6079-41e8-8b26-275aa42848fa'
            )
            
2023-12-15 02:46:02.165 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '0a4acbff-ecd1-44d7-9321-14aeb4a4c23c',
                '2065f63f-5e95-432e-9545-eed26715dc49'
            )
            
2023-12-15 02:46:02.166 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '0a4acbff-ecd1-44d7-9321-14aeb4a4c23c',
                'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
            )
            
2023-12-15 02:46:02.167 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63771 - "PUT /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-15 02:46:02.229 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.remark,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 02:46:02.233 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63771 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 02:46:02.240 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.remark,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 02:46:02.243 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63775 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 02:46:12.302 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:46:12.304 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 02:46:12.306 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 02:46:12.308 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63819 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 02:46:12.308 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 02:46:12.309 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63820 - "GET /options/users HTTP/1.1" 200
2023-12-15 02:46:12.313 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63821 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 02:46:12.316 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa';
    
2023-12-15 02:46:12.320 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 02:46:12.332 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 02:46:12.332 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63827 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 02:46:12.333 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63818 - "GET /org/1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 02:46:12.334 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 02:46:12.335 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63819 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 02:46:12.336 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63820 - "GET /options/users HTTP/1.1" 200
2023-12-15 02:46:12.337 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:46:12.339 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa';
    
2023-12-15 02:46:12.340 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63827 - "GET /org/1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 02:46:16.833 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 02:46:16.837 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa';
    
2023-12-15 02:46:16.849 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        id
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 02:46:16.855 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE orgs
    SET
        p_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c',
        name = '東京支店03',
        type = '03'
    WHERE
        orgs.id = '1b45760d-6e58-4a83-a687-2910498b76fa';
    
2023-12-15 02:46:16.862 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_org_rels
        WHERE
            user_org_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab'
            AND
            user_org_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa';
        
2023-12-15 02:46:16.865 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_role_rels
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab'
            AND
            user_role_rels.role_id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb';
        
2023-12-15 02:46:16.870 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM org_role_rels
        WHERE
            org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
            AND
            org_role_rels.role_id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb';
        
2023-12-15 02:46:16.872 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb'
                AND
                permission_id = '8f63e587-b802-4cfd-8ead-d3423237b054';
            
2023-12-15 02:46:16.873 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb'
                AND
                permission_id = '0b25e905-64ae-42d2-98ed-2c8ebd845d66';
            
2023-12-15 02:46:16.874 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb'
                AND
                permission_id = '53dc2e89-791d-4b66-aa73-f51ea9cd4e26';
            
2023-12-15 02:46:16.874 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb'
                AND
                permission_id = '7f956b2a-65ce-463e-9ddb-6627f9b42ecf';
            
2023-12-15 02:46:16.875 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb'
                AND
                permission_id = 'dd96b563-2476-4904-a880-a2cffe1ea0ac';
            
2023-12-15 02:46:16.875 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb'
                AND
                permission_id = '55ba3199-c673-49d8-8001-9b5f3b2b33dc';
            
2023-12-15 02:46:16.876 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb'
                AND
                permission_id = '2ca11194-6079-41e8-8b26-275aa42848fa';
            
2023-12-15 02:46:16.876 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb'
                AND
                permission_id = '0a3f364b-21e6-4c0d-bf6e-67729bf899a2';
            
2023-12-15 02:46:16.877 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb'
                AND
                permission_id = '58289de8-b6b7-4629-9016-58e5d30e89ee';
            
2023-12-15 02:46:16.877 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb'
                AND
                permission_id = '2065f63f-5e95-432e-9545-eed26715dc49';
            
2023-12-15 02:46:16.878 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb'
                AND
                permission_id = '55762da2-4d17-418e-b09f-e6249645ec18';
            
2023-12-15 02:46:16.878 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb'
                AND
                permission_id = 'ee3ed4ae-43d9-4d37-92f9-a4950788d8be';
            
2023-12-15 02:46:16.879 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb'
                AND
                permission_id = 'bce2b4a4-0cad-4baa-96dd-671f2d942c7e';
            
2023-12-15 02:46:16.879 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb'
                AND
                permission_id = 'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7';
            
2023-12-15 02:46:16.880 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM roles WHERE id = 'b8c39c6f-b327-47c4-b764-d580b045cdeb';
        
2023-12-15 02:46:16.881 | INFO     | providers.psql_provider:fetch_one:30 - 
        INSERT INTO roles (type, name)
        VALUES (
            '03',
            '支店管理者'
        )
        RETURNING id;
        
2023-12-15 02:46:16.884 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_org_rels (user_id, org_id, type)
        VALUES (
            '37c0b84f-d73b-4a2f-ace0-a750ef7e288e',
            '1b45760d-6e58-4a83-a687-2910498b76fa',
            '03'
        )
        
2023-12-15 02:46:16.885 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_role_rels (user_id, role_id)
        VALUES (
            '37c0b84f-d73b-4a2f-ace0-a750ef7e288e',
            '85b4c1ef-8d98-4163-8633-5e27ab329b6a'
        )
        
2023-12-15 02:46:16.886 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO org_role_rels (org_id, role_id)
        VALUES (
            '1b45760d-6e58-4a83-a687-2910498b76fa',
            '85b4c1ef-8d98-4163-8633-5e27ab329b6a'
        )
        
2023-12-15 02:46:16.887 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
                '8f63e587-b802-4cfd-8ead-d3423237b054'
            )
            
2023-12-15 02:46:16.888 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
                '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
            )
            
2023-12-15 02:46:16.888 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
                '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
            )
            
2023-12-15 02:46:16.889 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
                '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
            )
            
2023-12-15 02:46:16.890 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
                'dd96b563-2476-4904-a880-a2cffe1ea0ac'
            )
            
2023-12-15 02:46:16.891 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
                '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
            )
            
2023-12-15 02:46:16.891 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
                '2ca11194-6079-41e8-8b26-275aa42848fa'
            )
            
2023-12-15 02:46:16.892 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
                '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
            )
            
2023-12-15 02:46:16.892 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
                '58289de8-b6b7-4629-9016-58e5d30e89ee'
            )
            
2023-12-15 02:46:16.893 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
                '2065f63f-5e95-432e-9545-eed26715dc49'
            )
            
2023-12-15 02:46:16.893 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
                '55762da2-4d17-418e-b09f-e6249645ec18'
            )
            
2023-12-15 02:46:16.894 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
                'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
            )
            
2023-12-15 02:46:16.894 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
                'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
            )
            
2023-12-15 02:46:16.895 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
                'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7'
            )
            
2023-12-15 02:46:16.896 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63827 - "PUT /org/1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 02:46:16.956 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.remark,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 02:46:16.959 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63827 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 02:46:16.965 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.remark,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 02:46:16.968 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63820 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 02:46:54.256 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64007 - "OPTIONS /token HTTP/1.1" 200
2023-12-15 02:46:54.269 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '001@demo.com';
    
2023-12-15 02:46:54.273 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 02:46:54.275 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 02:46:54.279 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            id
        FROM
            roles
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 02:46:54.291 | INFO     | providers.psql_provider:execute:57 - 
        UPDATE users SET curr_role_id = '26393cbc-6912-4f00-8369-1d01e64440ec' WHERE users.id = '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 02:46:54.299 | INFO     | providers.psql_provider:fetch_one:30 - 
        SELECT
            id,
            email,
            last_name,
            first_name,
            curr_role_id,
            is_super
        FROM
            users
        WHERE
            users.id = '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 02:46:54.300 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985'
        AND
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 02:46:54.304 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 02:46:54.305 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64007 - "POST /token HTTP/1.1" 200
2023-12-15 02:48:18.142 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64352 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 02:48:18.143 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64353 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 02:48:18.157 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 02:48:18.161 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 02:48:18.162 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64353 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 02:48:18.171 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 02:48:18.173 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 02:48:18.174 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64352 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 02:53:36.747 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 02:53:36.848 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 02:53:36.848 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 02:53:36.849 | INFO     | uvicorn.server:serve:86 - Finished server process [29381]
2023-12-15 02:53:37.302 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 02:56:05.846 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 02:56:05.947 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 02:56:05.948 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 02:56:05.948 | INFO     | uvicorn.server:serve:86 - Finished server process [29659]
2023-12-15 02:56:06.378 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 02:57:57.704 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 02:57:57.806 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 02:57:57.806 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 02:57:57.807 | INFO     | uvicorn.server:serve:86 - Finished server process [29695]
2023-12-15 02:57:58.238 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 03:15:16.064 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 03:15:16.167 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 03:15:16.167 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 03:15:16.167 | INFO     | uvicorn.server:serve:86 - Finished server process [29718]
2023-12-15 03:15:16.630 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 03:15:41.835 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 03:15:41.937 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 03:15:41.938 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 03:15:41.938 | INFO     | uvicorn.server:serve:86 - Finished server process [29912]
2023-12-15 03:15:42.339 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 03:15:55.687 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 03:15:55.789 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 03:15:55.790 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 03:15:55.790 | INFO     | uvicorn.server:serve:86 - Finished server process [29927]
2023-12-15 03:15:56.224 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 03:16:28.558 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 03:16:28.567 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE r AS (
     SELECT * FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union   ALL
     SELECT orgs.* FROM orgs, r WHERE orgs.p_id = r.id
    )
    SELECT
        *
    FROM
        r 
    
2023-12-15 03:17:17.030 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 03:17:17.131 | INFO     | uvicorn.server:_wait_tasks_to_complete:309 - Waiting for background tasks to complete. (CTRL+C to force quit)
2023-12-15 03:17:31.264 | ERROR    | app.endpoints.orgs:get_orgs:23 - Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1052059d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104f83430>
           └ <SpawnProcess name='SpawnProcess-147' parent=19712 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104f77a60>
    └ <SpawnProcess name='SpawnProcess-147' parent=19712 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1052169d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-147' parent=19712 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-147' parent=19712 started>
    │    └ <function subprocess_started at 0x1076983a0>
    └ <SpawnProcess name='SpawnProcess-147' parent=19712 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x105216af0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0>]
           │       │   │    └ <function Server.serve at 0x107685940>
           │       │   └ <uvicorn.server.Server object at 0x105216af0>
           │       └ <function run at 0x105242820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10768a3c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1076dc580>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1077d4700>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1077d47...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1077bdd00>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1076dc580>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1077d4700>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1077d47...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1077d4700>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1077d47...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1077c2b20>
          └ <fastapi.applications.FastAPI object at 0x1077bdd00>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1077c6ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1077d47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1077c2bb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1077c2b20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1077c6ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1077d47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1077c2a90>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1077c2bb0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1077c6dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1077d47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1077c2b50>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1077c2a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1077c6dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1077d47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1077bde20>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1077c2b50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1077c6dc0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1077d47...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106d95af0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1077c6dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1077d47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1077c0a60>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1075024f0>
                     └ <function get_request_handler.<locals>.app at 0x1077c0af0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x106d84790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1076aa3d0>, 'role_id': '26393cbc-6912-4f00-8369-1d01e64440ec'}
                 │         └ <function get_orgs at 0x10754f550>
                 └ <fastapi.dependencies.models.Dependant object at 0x1077c7760>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                 │         │          └ <providers.psql_provider.DB object at 0x1076aa3d0>
                 │         └ <function query_orgs at 0x10753bdc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 55, in query_orgs
    ttt = await db.fetch_all(sql)
                │  │         └ "\n    WITH RECURSIVE r AS (\n     SELECT * FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'\n     union   ALL\n  ...
                │  └ <function DB.fetch_all at 0x107245c10>
                └ <providers.psql_provider.DB object at 0x1076aa3d0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    WITH RECURSIVE r AS (\n     SELECT * FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'\n     union   ALL\n  ...
                   │   └ <function Connection.fetch at 0x106f9f0d0>
                   └ <PoolConnectionProxy [released] 0x1078f0730>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x106f8c1f0>
                 └ <asyncpg.connection.Connection object at 0x1077b27c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1077b27c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x106f8c5e0>
                         └ <asyncpg.connection.Connection object at 0x1077b27c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1948, in _do_execute
    result = await executor(stmt, timeout)
                   │        │     └ -0.7210767920000052
                   │        └ <asyncpg.protocol.protocol.PreparedStatementState object at 0x1078f69a0>
                   └ <function Connection.__execute.<locals>.<lambda> at 0x1077c0940>
  File "asyncpg/protocol/protocol.pyx", line 207, in bind_execute
    return await waiter

asyncio.exceptions.TimeoutError

2023-12-15 03:17:31.364 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 03:17:31.365 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 03:17:31.365 | INFO     | uvicorn.server:serve:86 - Finished server process [29935]
2023-12-15 03:17:31.823 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 03:17:33.094 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 03:17:33.099 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE r AS (
     SELECT * FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union   ALL
     SELECT orgs.* FROM orgs, r WHERE orgs.p_id = r.id
    )
    SELECT
        *
    FROM
        r ;
    
2023-12-15 03:18:39.050 | ERROR    | app.endpoints.orgs:get_orgs:23 - Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104e919d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104c0f430>
           └ <SpawnProcess name='SpawnProcess-148' parent=19712 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104c03a60>
    └ <SpawnProcess name='SpawnProcess-148' parent=19712 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104ea29d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-148' parent=19712 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-148' parent=19712 started>
    │    └ <function subprocess_started at 0x1073243a0>
    └ <SpawnProcess name='SpawnProcess-148' parent=19712 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104ea2af0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x107311940>
           │       │   └ <uvicorn.server.Server object at 0x104ea2af0>
           │       └ <function run at 0x104ece820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1073153c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x107361550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074606a0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074606...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x107449cd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x107361550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074606a0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074606...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074606a0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074606...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10744fb20>
          └ <fastapi.applications.FastAPI object at 0x107449cd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107452ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074606...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10744f9a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10744fb20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107452ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074606...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10744fb80>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10744f9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107452dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074606...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10744f970>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10744fb80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107452dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074606...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x107449df0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10744f970>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107452dc0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074606...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106a21af0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107452dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074606...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10744ca60>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10718e4c0>
                     └ <function get_request_handler.<locals>.app at 0x10744caf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x106a10790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1073363a0>, 'role_id': '26393cbc-6912-4f00-8369-1d01e64440ec'}
                 │         └ <function get_orgs at 0x1071db550>
                 └ <fastapi.dependencies.models.Dependant object at 0x107453730>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                 │         │          └ <providers.psql_provider.DB object at 0x1073363a0>
                 │         └ <function query_orgs at 0x1071c6dc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 55, in query_orgs
    ttt = await db.fetch_all(sql)
                │  │         └ "\n    WITH RECURSIVE r AS (\n     SELECT * FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'\n     union   ALL\n  ...
                │  └ <function DB.fetch_all at 0x106ed1c10>
                └ <providers.psql_provider.DB object at 0x1073363a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    WITH RECURSIVE r AS (\n     SELECT * FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'\n     union   ALL\n  ...
                   │   └ <function Connection.fetch at 0x106c2c0d0>
                   └ <PoolConnectionProxy [released] 0x10757c670>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x106c181f0>
                 └ <asyncpg.connection.Connection object at 0x10743e7c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x10743e7c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x106c185e0>
                         └ <asyncpg.connection.Connection object at 0x10743e7c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1948, in _do_execute
    result = await executor(stmt, timeout)
                   │        │     └ -3.5176614169999993
                   │        └ <asyncpg.protocol.protocol.PreparedStatementState object at 0x1075829a0>
                   └ <function Connection.__execute.<locals>.<lambda> at 0x10744c940>
  File "asyncpg/protocol/protocol.pyx", line 207, in bind_execute
    return await waiter

asyncio.exceptions.TimeoutError

2023-12-15 03:18:39.065 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55307 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 500
2023-12-15 03:20:50.754 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 03:20:50.855 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 03:20:50.856 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 03:20:50.856 | INFO     | uvicorn.server:serve:86 - Finished server process [29969]
2023-12-15 03:20:51.321 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 03:20:56.468 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 03:20:56.472 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE r AS (
     SELECT * FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union   ALL
     SELECT orgs.* FROM orgs, r WHERE orgs.p_id = r.id
    )
    SELECT
        *
    FROM
        r ;
    
2023-12-15 03:22:00.350 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 03:22:00.354 | ERROR    | app.endpoints.orgs:get_orgs:23 - Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1013d99d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x101157430>
           └ <SpawnProcess name='SpawnProcess-149' parent=19712 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10114ba60>
    └ <SpawnProcess name='SpawnProcess-149' parent=19712 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1013ea9d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-149' parent=19712 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-149' parent=19712 started>
    │    └ <function subprocess_started at 0x10386c430>
    └ <SpawnProcess name='SpawnProcess-149' parent=19712 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1013eaaf0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0>]
           │       │   │    └ <function Server.serve at 0x1038599d0>
           │       │   └ <uvicorn.server.Server object at 0x1013eaaf0>
           │       └ <function run at 0x101416820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10385d340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1038b0310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103ac7460>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103ac74...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x103991a90>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1038b0310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103ac7460>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103ac74...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103ac7460>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103ac74...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10399c100>
          └ <fastapi.applications.FastAPI object at 0x103991a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10399bd30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103ac74...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10399ca90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10399c100>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10399bd30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103ac74...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10399c550>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10399ca90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10399be50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103ac74...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1039912e0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10399c550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10399be50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103ac74...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x103991bb0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1039912e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10399be50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103ac74...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x102f69af0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10399be50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103ac74...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103994940>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1039a26d0>
                     └ <function get_request_handler.<locals>.app at 0x1039949d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x102f58790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x103883160>, 'role_id': '26393cbc-6912-4f00-8369-1d01e64440ec'}
                 │         └ <function get_orgs at 0x1037235e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10399c4f0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                 │         │          └ <providers.psql_provider.DB object at 0x103883160>
                 │         └ <function query_orgs at 0x10370fdc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 55, in query_orgs
    ttt = await db.fetch_all(sql)
                │  │         └ "\n    WITH RECURSIVE r AS (\n     SELECT * FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'\n     union   ALL\n  ...
                │  └ <function DB.fetch_all at 0x103419c10>
                └ <providers.psql_provider.DB object at 0x103883160>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    WITH RECURSIVE r AS (\n     SELECT * FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'\n     union   ALL\n  ...
                   │   └ <function Connection.fetch at 0x1031730d0>
                   └ <PoolConnectionProxy [released] 0x103ac0670>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x1031601f0>
                 └ <asyncpg.connection.Connection object at 0x1039867c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1039867c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1031605e0>
                         └ <asyncpg.connection.Connection object at 0x1039867c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1948, in _do_execute
    result = await executor(stmt, timeout)
                   │        │     └ -3.7217743750000096
                   │        └ <asyncpg.protocol.protocol.PreparedStatementState object at 0x103aca9a0>
                   └ <function Connection.__execute.<locals>.<lambda> at 0x103994af0>
  File "asyncpg/protocol/protocol.pyx", line 207, in bind_execute
    return await waiter

asyncio.exceptions.TimeoutError

2023-12-15 03:22:00.452 | INFO     | uvicorn.server:serve:86 - Finished server process [30029]
2023-12-15 03:22:00.454 | ERROR    | uvicorn.lifespan.on:send:134 - Traceback (most recent call last):
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 686, in lifespan
    await receive()
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/lifespan/on.py", line 137, in receive
    return await self.receive_queue.get()
  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/queues.py", line 166, in get
    await getter
asyncio.exceptions.CancelledError

2023-12-15 03:22:09.292 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 03:30:45.777 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 03:30:45.880 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 03:30:45.880 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 03:30:45.881 | INFO     | uvicorn.server:serve:86 - Finished server process [30065]
2023-12-15 03:30:46.306 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 03:30:51.641 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 03:30:51.647 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE r AS (
     SELECT * FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union   ALL
     SELECT orgs.* FROM orgs JOIN r ON orgs.p_id = r.id
    )
    SELECT
        *
    FROM
        r ;
    
2023-12-15 03:31:55.226 | ERROR    | app.endpoints.orgs:get_orgs:23 - Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x102d959d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102b13430>
           └ <SpawnProcess name='SpawnProcess-2' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102b07a60>
    └ <SpawnProcess name='SpawnProcess-2' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102da69d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=30063 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=30063 started>
    │    └ <function subprocess_started at 0x105226430>
    └ <SpawnProcess name='SpawnProcess-2' parent=30063 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102da6af0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1052159d0>
           │       │   └ <uvicorn.server.Server object at 0x102da6af0>
           │       └ <function run at 0x102dd2820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10521a340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x105264550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1053646a0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1053646...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10534dcd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x105264550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1053646a0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1053646...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1053646a0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1053646...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x105352b20>
          └ <fastapi.applications.FastAPI object at 0x10534dcd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x105356d30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1053646...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1053529a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x105352b20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x105356d30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1053646...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x105352b80>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1053529a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105356e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1053646...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x105352970>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x105352b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105356e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1053646...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10534ddf0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x105352970>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105356e50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1053646...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x104925af0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105356e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1053646...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x105350940>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1050924c0>
                     └ <function get_request_handler.<locals>.app at 0x1053509d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104914790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1052393a0>, 'role_id': '26393cbc-6912-4f00-8369-1d01e64440ec'}
                 │         └ <function get_orgs at 0x1050df5e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x105357730>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                 │         │          └ <providers.psql_provider.DB object at 0x1052393a0>
                 │         └ <function query_orgs at 0x1050cadc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 55, in query_orgs
    ttt = await db.fetch_all(sql)
                │  │         └ "\n    WITH RECURSIVE r AS (\n     SELECT * FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'\n     union   ALL\n  ...
                │  └ <function DB.fetch_all at 0x104dd5c10>
                └ <providers.psql_provider.DB object at 0x1052393a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    WITH RECURSIVE r AS (\n     SELECT * FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'\n     union   ALL\n  ...
                   │   └ <function Connection.fetch at 0x104b2f0d0>
                   └ <PoolConnectionProxy [released] 0x105480670>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x104b1c1f0>
                 └ <asyncpg.connection.Connection object at 0x1053427c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1053427c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x104b1c5e0>
                         └ <asyncpg.connection.Connection object at 0x1053427c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1948, in _do_execute
    result = await executor(stmt, timeout)
                   │        │     └ -1.610055416999998
                   │        └ <asyncpg.protocol.protocol.PreparedStatementState object at 0x1054859a0>
                   └ <function Connection.__execute.<locals>.<lambda> at 0x105350af0>
  File "asyncpg/protocol/protocol.pyx", line 207, in bind_execute
    return await waiter

asyncio.exceptions.TimeoutError

2023-12-15 03:31:55.241 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58651 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 500
2023-12-15 03:36:34.790 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 03:36:34.891 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 03:36:34.892 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 03:36:34.892 | INFO     | uvicorn.server:serve:86 - Finished server process [30195]
2023-12-15 03:36:35.349 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 03:36:44.125 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 03:36:44.132 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE r AS (
     SELECT * FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union   ALL
     SELECT orgs.* FROM orgs INNER JOIN r ON orgs.p_id = r.id
    )
    SELECT
        *
    FROM
        r ;
    
2023-12-15 03:37:46.229 | ERROR    | app.endpoints.orgs:get_orgs:23 - Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1014e19d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10125f430>
           └ <SpawnProcess name='SpawnProcess-3' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x101253a60>
    └ <SpawnProcess name='SpawnProcess-3' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1014f29d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=30063 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=30063 started>
    │    └ <function subprocess_started at 0x103972430>
    └ <SpawnProcess name='SpawnProcess-3' parent=30063 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1014f2af0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1039619d0>
           │       │   └ <uvicorn.server.Server object at 0x1014f2af0>
           │       └ <function run at 0x10151e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x103966340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1039b8580>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103ab0700>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103ab07...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x103a99d00>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1039b8580>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103ab0700>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103ab07...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103ab0700>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103ab07...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x103a9fb20>
          └ <fastapi.applications.FastAPI object at 0x103a99d00>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103aa2d30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103ab07...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x103a9fbb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x103a9fb20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103aa2d30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103ab07...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x103a9fa90>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x103a9fbb0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103aa2e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103ab07...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x103a9fb50>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x103a9fa90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103aa2e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103ab07...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x103a99e20>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x103a9fb50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103aa2e50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103ab07...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x103071af0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103aa2e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103ab07...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103a9c940>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1037de4f0>
                     └ <function get_request_handler.<locals>.app at 0x103a9c9d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x103060790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1039803d0>, 'role_id': '26393cbc-6912-4f00-8369-1d01e64440ec'}
                 │         └ <function get_orgs at 0x10382b5e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x103aa3760>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                 │         │          └ <providers.psql_provider.DB object at 0x1039803d0>
                 │         └ <function query_orgs at 0x103817dc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 55, in query_orgs
    ttt = await db.fetch_all(sql)
                │  │         └ "\n    WITH RECURSIVE r AS (\n     SELECT * FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'\n     union   ALL\n  ...
                │  └ <function DB.fetch_all at 0x103521c10>
                └ <providers.psql_provider.DB object at 0x1039803d0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    WITH RECURSIVE r AS (\n     SELECT * FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'\n     union   ALL\n  ...
                   │   └ <function Connection.fetch at 0x10327b0d0>
                   └ <PoolConnectionProxy [released] 0x103bcd730>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x1032681f0>
                 └ <asyncpg.connection.Connection object at 0x103a8e7c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x103a8e7c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1032685e0>
                         └ <asyncpg.connection.Connection object at 0x103a8e7c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1948, in _do_execute
    result = await executor(stmt, timeout)
                   │        │     └ -0.0026103750000103787
                   │        └ <asyncpg.protocol.protocol.PreparedStatementState object at 0x103bd29a0>
                   └ <function Connection.__execute.<locals>.<lambda> at 0x103a9caf0>
  File "asyncpg/protocol/protocol.pyx", line 207, in bind_execute
    return await waiter

asyncio.exceptions.TimeoutError

2023-12-15 03:37:46.246 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60100 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 500
2023-12-15 03:39:05.325 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 03:39:05.428 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 03:39:05.429 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 03:39:05.430 | INFO     | uvicorn.server:serve:86 - Finished server process [30269]
2023-12-15 03:39:05.903 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 03:39:09.485 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 03:39:09.490 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE r AS (
     SELECT id FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union   ALL
     SELECT orgs.id FROM orgs INNER JOIN r ON orgs.p_id = r.id
    )
    SELECT
        id
    FROM
        r ;
    
2023-12-15 03:40:10.843 | ERROR    | app.endpoints.orgs:get_orgs:23 - Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1026e99d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102467430>
           └ <SpawnProcess name='SpawnProcess-4' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10245ba60>
    └ <SpawnProcess name='SpawnProcess-4' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1026fa9d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-4' parent=30063 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-4' parent=30063 started>
    │    └ <function subprocess_started at 0x104b7a430>
    └ <SpawnProcess name='SpawnProcess-4' parent=30063 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1026faaf0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x104b699d0>
           │       │   └ <uvicorn.server.Server object at 0x1026faaf0>
           │       └ <function run at 0x102726820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x104b6d3c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104bc0580>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104cb8700>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104cb87...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x104ca1d00>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104bc0580>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104cb8700>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104cb87...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104cb8700>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104cb87...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104ca6b20>
          └ <fastapi.applications.FastAPI object at 0x104ca1d00>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x104caad30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104cb87...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x104ca6bb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104ca6b20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x104caad30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104cb87...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104ca6a90>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x104ca6bb0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104caae50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104cb87...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x104ca6b50>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104ca6a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104caae50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104cb87...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x104ca1e20>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x104ca6b50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104caae50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104cb87...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x104279af0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104caae50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104cb87...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x104ca4940>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1049e64f0>
                     └ <function get_request_handler.<locals>.app at 0x104ca49d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104268790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x104b8e3d0>, 'role_id': '26393cbc-6912-4f00-8369-1d01e64440ec'}
                 │         └ <function get_orgs at 0x104a325e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x104cac760>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                 │         │          └ <providers.psql_provider.DB object at 0x104b8e3d0>
                 │         └ <function query_orgs at 0x104a1fdc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 55, in query_orgs
    ttt = await db.fetch_all(sql)
                │  │         └ "\n    WITH RECURSIVE r AS (\n     SELECT id FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'\n     union   ALL\n ...
                │  └ <function DB.fetch_all at 0x104729c10>
                └ <providers.psql_provider.DB object at 0x104b8e3d0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    WITH RECURSIVE r AS (\n     SELECT id FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'\n     union   ALL\n ...
                   │   └ <function Connection.fetch at 0x1044840d0>
                   └ <PoolConnectionProxy [released] 0x104dd5730>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x1044701f0>
                 └ <asyncpg.connection.Connection object at 0x104c967c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x104c967c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1044705e0>
                         └ <asyncpg.connection.Connection object at 0x104c967c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1948, in _do_execute
    result = await executor(stmt, timeout)
                   │        │     └ 0.0001774170000032882
                   │        └ <asyncpg.protocol.protocol.PreparedStatementState object at 0x104dda9a0>
                   └ <function Connection.__execute.<locals>.<lambda> at 0x104ca4af0>
  File "asyncpg/protocol/protocol.pyx", line 207, in bind_execute
    return await waiter

asyncio.exceptions.TimeoutError

2023-12-15 03:40:10.854 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60689 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 500
2023-12-15 03:50:41.844 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 03:50:41.945 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 03:50:41.945 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 03:50:41.946 | INFO     | uvicorn.server:serve:86 - Finished server process [30308]
2023-12-15 03:50:42.413 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 03:50:51.943 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 03:50:51.952 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id as id, null :: uuid as parent AS FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id as id, child.p_id as parent FROM orgs child INNER JOIN parents p ON p.id = child.parent
    )
    SELECT
        id
    FROM
        parent ;
    
2023-12-15 03:50:51.955 | ERROR    | app.endpoints.orgs:get_orgs:23 - syntax error at or near "AS"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1029919d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10270f430>
           └ <SpawnProcess name='SpawnProcess-5' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102703a60>
    └ <SpawnProcess name='SpawnProcess-5' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1029a29d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=30063 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=30063 started>
    │    └ <function subprocess_started at 0x105b0e430>
    └ <SpawnProcess name='SpawnProcess-5' parent=30063 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1029a2af0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x105afd9d0>
           │       │   └ <uvicorn.server.Server object at 0x1029a2af0>
           │       └ <function run at 0x1029ce820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x105b03340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x105b53520>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105c46d30>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105c46d...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x105c35ca0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x105b53520>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105c46d30>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105c46d...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105c46d30>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105c46d...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x105c3bb80>
          └ <fastapi.applications.FastAPI object at 0x105c35ca0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x105c3ed30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105c46d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x105c3bbb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x105c3bb80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x105c3ed30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105c46d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x105c3baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x105c3bbb0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105c3ee50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105c46d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x105c3b910>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x105c3baf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105c3ee50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105c46d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x105c35dc0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x105c3b910>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105c3ee50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105c46d...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10510daf0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105c3ee50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105c46d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x105c38940>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10597a490>
                     └ <function get_request_handler.<locals>.app at 0x105c389d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1047bc790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x105b1b370>, 'role_id': '26393cbc-6912-4f00-8369-1d01e64440ec'}
                 │         └ <function get_orgs at 0x1059c75e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x105c40700>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                 │         │          └ <providers.psql_provider.DB object at 0x105b1b370>
                 │         └ <function query_orgs at 0x1059b3dc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 55, in query_orgs
    ttt = await db.fetch_all(sql)
                │  │         └ "\n    WITH RECURSIVE parents AS (\n     SELECT id as id, null :: uuid as parent AS FROM orgs WHERE id = '1b33d5f9-6655-492e-...
                │  └ <function DB.fetch_all at 0x1056bdc10>
                └ <providers.psql_provider.DB object at 0x105b1b370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    WITH RECURSIVE parents AS (\n     SELECT id as id, null :: uuid as parent AS FROM orgs WHERE id = '1b33d5f9-6655-492e-...
                   │   └ <function Connection.fetch at 0x1054170d0>
                   └ <PoolConnectionProxy [released] 0x105d697f0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x1054041f0>
                 └ <asyncpg.connection.Connection object at 0x105c2a8b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x105c2a8b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1054045e0>
                         └ <asyncpg.connection.Connection object at 0x105c2a8b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x105402700>
                 └ <asyncpg.connection.Connection object at 0x105c2a8b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x105c2a8b0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.PostgresSyntaxError: syntax error at or near "AS"

2023-12-15 03:50:51.998 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63536 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 500
2023-12-15 03:51:10.975 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 03:51:11.076 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 03:51:11.077 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 03:51:11.077 | INFO     | uvicorn.server:serve:86 - Finished server process [30459]
2023-12-15 03:51:11.493 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 03:51:14.044 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 03:51:14.050 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id as id, null :: uuid as parent FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id as id, child.p_id as parent FROM orgs child INNER JOIN parents p ON p.id = child.parent
    )
    SELECT
        id
    FROM
        parent ;
    
2023-12-15 03:51:14.053 | ERROR    | app.endpoints.orgs:get_orgs:23 - column child.parent does not existTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100d2d9d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x100aab430>
           └ <SpawnProcess name='SpawnProcess-6' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x100a9fa60>
    └ <SpawnProcess name='SpawnProcess-6' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100d3e9d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=30063 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=30063 started>
    │    └ <function subprocess_started at 0x1031bf430>
    └ <SpawnProcess name='SpawnProcess-6' parent=30063 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100d3eaf0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1031ad9d0>
           │       │   └ <uvicorn.server.Server object at 0x100d3eaf0>
           │       └ <function run at 0x100d6a820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1031b3340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103204550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1032fc6a0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1032fc6...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1032e5cd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103204550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1032fc6a0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1032fc6...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1032fc6a0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1032fc6...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1032ebb20>
          └ <fastapi.applications.FastAPI object at 0x1032e5cd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1032eed30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1032fc6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1032eb9a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1032ebb20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1032eed30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1032fc6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1032ebb80>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1032eb9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1032eee50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1032fc6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1032eb970>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1032ebb80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1032eee50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1032fc6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1032e5df0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1032eb970>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1032eee50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1032fc6...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1028bdaf0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1032eee50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1032fc6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1032e8940>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10302a4c0>
                     └ <function get_request_handler.<locals>.app at 0x1032e89d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1028ac790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1031d13a0>, 'role_id': '26393cbc-6912-4f00-8369-1d01e64440ec'}
                 │         └ <function get_orgs at 0x1030785e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1032ef730>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                 │         │          └ <providers.psql_provider.DB object at 0x1031d13a0>
                 │         └ <function query_orgs at 0x103063dc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 55, in query_orgs
    ttt = await db.fetch_all(sql)
                │  │         └ "\n    WITH RECURSIVE parents AS (\n     SELECT id as id, null :: uuid as parent FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad...
                │  └ <function DB.fetch_all at 0x102d6dc10>
                └ <providers.psql_provider.DB object at 0x1031d13a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    WITH RECURSIVE parents AS (\n     SELECT id as id, null :: uuid as parent FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad...
                   │   └ <function Connection.fetch at 0x102ac70d0>
                   └ <PoolConnectionProxy [released] 0x103419670>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x102ab41f0>
                 └ <asyncpg.connection.Connection object at 0x1032d98b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1032d98b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x102ab45e0>
                         └ <asyncpg.connection.Connection object at 0x1032d98b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x102ab2700>
                 └ <asyncpg.connection.Connection object at 0x1032d98b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1032d98b0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.UndefinedColumnError: column child.parent does not exist

2023-12-15 03:51:14.076 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63634 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 500
2023-12-15 03:52:40.439 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 03:52:40.540 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 03:52:40.541 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 03:52:40.541 | INFO     | uvicorn.server:serve:86 - Finished server process [30477]
2023-12-15 03:52:40.973 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 03:54:25.180 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 03:54:25.281 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 03:54:25.282 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 03:54:25.282 | INFO     | uvicorn.server:serve:86 - Finished server process [30499]
2023-12-15 03:54:25.695 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 03:54:41.582 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 03:54:41.684 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 03:54:41.685 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 03:54:41.685 | INFO     | uvicorn.server:serve:86 - Finished server process [30522]
2023-12-15 03:54:42.089 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 03:54:45.469 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 03:54:45.474 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        id
    FROM
        parents ;
    
2023-12-15 03:54:45.477 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64510 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 03:55:25.503 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 03:55:25.604 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 03:55:25.605 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 03:55:25.605 | INFO     | uvicorn.server:serve:86 - Finished server process [30535]
2023-12-15 03:55:26.015 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 03:55:28.760 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 03:55:28.766 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        id,
        p_id,
        name
    FROM
        parents;
    
2023-12-15 03:55:28.770 | ERROR    | app.endpoints.orgs:get_orgs:23 - column "name" does not existTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1031e59d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102f63430>
           └ <SpawnProcess name='SpawnProcess-10' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102f57a60>
    └ <SpawnProcess name='SpawnProcess-10' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1031f69d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-10' parent=30063 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-10' parent=30063 started>
    │    └ <function subprocess_started at 0x105675430>
    └ <SpawnProcess name='SpawnProcess-10' parent=30063 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1031f6af0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1056659d0>
           │       │   └ <uvicorn.server.Server object at 0x1031f6af0>
           │       └ <function run at 0x103222820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1056693c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1056bb310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1058d3460>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1058d34...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10579da90>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1056bb310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1058d3460>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1058d34...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1058d3460>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1058d34...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1057a7100>
          └ <fastapi.applications.FastAPI object at 0x10579da90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1057a6d30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1058d34...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1057a7a90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1057a7100>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1057a6d30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1058d34...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1057a7550>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1057a7a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1057a6e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1058d34...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10579d2e0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1057a7550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1057a6e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1058d34...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10579dbb0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10579d2e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1057a6e50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1058d34...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x104d75af0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1057a6e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1058d34...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1057a0940>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1057ae6d0>
                     └ <function get_request_handler.<locals>.app at 0x1057a09d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104d64790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x10568f160>, 'role_id': '26393cbc-6912-4f00-8369-1d01e64440ec'}
                 │         └ <function get_orgs at 0x10552d5e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1057a74f0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                 │         │          └ <providers.psql_provider.DB object at 0x10568f160>
                 │         └ <function query_orgs at 0x10551adc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 57, in query_orgs
    ttt = await db.fetch_all(sql)
                │  │         └ "\n    WITH RECURSIVE parents AS (\n     SELECT id, p_id FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'\n     un...
                │  └ <function DB.fetch_all at 0x105225c10>
                └ <providers.psql_provider.DB object at 0x10568f160>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    WITH RECURSIVE parents AS (\n     SELECT id, p_id FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'\n     un...
                   │   └ <function Connection.fetch at 0x104f7f0d0>
                   └ <PoolConnectionProxy [released] 0x1057bb670>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x104f6c1f0>
                 └ <asyncpg.connection.Connection object at 0x1057927c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1057927c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x104f6c5e0>
                         └ <asyncpg.connection.Connection object at 0x1057927c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x104f6a700>
                 └ <asyncpg.connection.Connection object at 0x1057927c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1057927c0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.UndefinedColumnError: column "name" does not exist

2023-12-15 03:55:28.793 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64692 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 500
2023-12-15 03:55:49.395 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 03:55:49.497 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 03:55:49.497 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 03:55:49.497 | INFO     | uvicorn.server:serve:86 - Finished server process [30547]
2023-12-15 03:55:49.900 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 03:55:52.729 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 03:55:52.734 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, name FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        id,
        p_id,
        name
    FROM
        parents;
    
2023-12-15 03:55:52.737 | ERROR    | app.endpoints.orgs:get_orgs:23 - column reference "name" is ambiguousTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1013c59d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x101143430>
           └ <SpawnProcess name='SpawnProcess-11' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x101138a60>
    └ <SpawnProcess name='SpawnProcess-11' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1013d69d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-11' parent=30063 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-11' parent=30063 started>
    │    └ <function subprocess_started at 0x1038534c0>
    └ <SpawnProcess name='SpawnProcess-11' parent=30063 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1013d6af0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x103845a60>
           │       │   └ <uvicorn.server.Server object at 0x1013d6af0>
           │       └ <function run at 0x101402820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x103849340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10389c550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1039946a0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1039946...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10397dcd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10389c550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1039946a0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1039946...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1039946a0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1039946...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x103983b20>
          └ <fastapi.applications.FastAPI object at 0x10397dcd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103986dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1039946...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1039839a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x103983b20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103986dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1039946...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x103983b80>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1039839a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103986ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1039946...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x103983970>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x103983b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103986ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1039946...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10397ddf0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x103983970>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103986ee0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1039946...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x102f55af0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103986ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1039946...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103980940>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1036c14c0>
                     └ <function get_request_handler.<locals>.app at 0x103980af0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x102f44790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1038693a0>, 'role_id': '26393cbc-6912-4f00-8369-1d01e64440ec'}
                 │         └ <function get_orgs at 0x10370e670>
                 └ <fastapi.dependencies.models.Dependant object at 0x103987730>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                 │         │          └ <providers.psql_provider.DB object at 0x1038693a0>
                 │         └ <function query_orgs at 0x1036fbdc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 57, in query_orgs
    ttt = await db.fetch_all(sql)
                │  │         └ "\n    WITH RECURSIVE parents AS (\n     SELECT id, p_id, name FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'\n ...
                │  └ <function DB.fetch_all at 0x103405c10>
                └ <providers.psql_provider.DB object at 0x1038693a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    WITH RECURSIVE parents AS (\n     SELECT id, p_id, name FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'\n ...
                   │   └ <function Connection.fetch at 0x10315f0d0>
                   └ <PoolConnectionProxy [released] 0x103ab0670>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x10314c1f0>
                 └ <asyncpg.connection.Connection object at 0x1039727c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1039727c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x10314c5e0>
                         └ <asyncpg.connection.Connection object at 0x1039727c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x10314a700>
                 └ <asyncpg.connection.Connection object at 0x1039727c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1039727c0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.AmbiguousColumnError: column reference "name" is ambiguous

2023-12-15 03:55:52.768 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64793 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 500
2023-12-15 03:56:08.321 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 03:56:08.423 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 03:56:08.424 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 03:56:08.424 | INFO     | uvicorn.server:serve:86 - Finished server process [30563]
2023-12-15 03:56:08.842 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 03:56:10.464 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 03:56:10.469 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        id,
        p_id,
        name
    FROM
        parents;
    
2023-12-15 03:56:10.475 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64866 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 03:59:11.833 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49216 - "OPTIONS /orgs?role_id=null HTTP/1.1" 200
2023-12-15 03:59:11.834 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49217 - "OPTIONS /token?user_id=02804013-a550-4ee6-822c-c00a0f7d4985 HTTP/1.1" 200
2023-12-15 03:59:11.836 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49218 - "OPTIONS /orgs?role_id=null HTTP/1.1" 200
2023-12-15 03:59:11.839 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49219 - "OPTIONS /token?user_id=02804013-a550-4ee6-822c-c00a0f7d4985 HTTP/1.1" 200
2023-12-15 03:59:11.860 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 03:59:11.861 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.remark,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 03:59:11.869 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49216 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 03:59:11.878 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 03:59:11.885 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.remark,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 03:59:11.892 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985'
        AND
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 03:59:11.894 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49219 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 03:59:11.901 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 03:59:11.903 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49217 - "GET /token?user_id=02804013-a550-4ee6-822c-c00a0f7d4985 HTTP/1.1" 200
2023-12-15 03:59:11.915 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 03:59:11.947 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 03:59:11.949 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985'
        AND
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 03:59:11.957 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 03:59:11.959 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49219 - "GET /token?user_id=02804013-a550-4ee6-822c-c00a0f7d4985 HTTP/1.1" 200
2023-12-15 03:59:29.351 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49295 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 03:59:29.352 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49296 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-15 03:59:29.352 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49297 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-15 03:59:29.353 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49298 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-15 03:59:29.362 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49295 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-15 03:59:29.363 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49296 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-15 03:59:29.364 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49299 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 03:59:29.365 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49300 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-15 03:59:29.374 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 03:59:29.375 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 03:59:29.378 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 03:59:29.379 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49298 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 03:59:29.381 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49296 - "GET /options/users HTTP/1.1" 200
2023-12-15 03:59:29.382 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 03:59:29.385 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 03:59:29.385 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49295 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 03:59:29.385 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 03:59:29.389 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49300 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 03:59:29.390 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 03:59:29.390 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49297 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 03:59:29.392 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49298 - "GET /options/users HTTP/1.1" 200
2023-12-15 03:59:29.392 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 03:59:29.394 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49296 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 03:59:29.394 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 03:59:29.405 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 03:59:29.409 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49300 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 03:59:33.302 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49300 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 03:59:33.316 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 03:59:33.321 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 03:59:33.327 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        id
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 03:59:33.329 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE orgs
    SET
        p_id = '',
        name = '〇〇株式会社',
        type = '01'
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 03:59:33.330 | ERROR    | app.endpoints.orgs:new_org:74 - invalid input syntax for type uuid: ""Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x102a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1027af430>
           └ <SpawnProcess name='SpawnProcess-12' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1027a3a60>
    └ <SpawnProcess name='SpawnProcess-12' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102a429d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-12' parent=30063 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-12' parent=30063 started>
    │    └ <function subprocess_started at 0x104ec24c0>
    └ <SpawnProcess name='SpawnProcess-12' parent=30063 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102a42af0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x104eb1a60>
           │       │   └ <uvicorn.server.Server object at 0x102a42af0>
           │       └ <function run at 0x102a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x104eb6340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104f082e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051bbd30>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051bbd...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x104fe9a60>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104f082e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051bbd30>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051bbd...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051bbd30>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051bbd...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104ff46a0>
          └ <fastapi.applications.FastAPI object at 0x104fe9a60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x104fece50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051bbd...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x104ff4760>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104ff46a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'content-length': '695', 'accept': 'application/json, text/plain...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x104fece50>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051bbd...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10466baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x104ff4760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x104ff4760>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051bbd...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104fe9160>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x104ff4760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104ffe670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051bbd...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x104fe91f0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104fe9160>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104ffe670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051bbd...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x104fe9b80>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x104fe91f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104ffe670>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051bbd...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1045c1af0>
          └ APIRoute(path='/org/{org_id}', name='new_org', methods=['PUT'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104ffe670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051bbd...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x104ffe430>
          └ APIRoute(path='/org/{org_id}', name='new_org', methods=['PUT'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1051a4be0>
                     └ <function get_request_handler.<locals>.app at 0x104ffe3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1045b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x104edd130>, 'org_id': '1b33d5f9-6655-492e-9ad0-ca8125f88b2c', 'data': {'p_id':...
                 │         └ <function new_org at 0x104d72c10>
                 └ <fastapi.dependencies.models.Dependant object at 0x104ff4f40>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 68, in new_org
    await orgs_crud.update_org(db, data, org_id)
          │         │          │   │     └ '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
          │         │          │   └ {'p_id': '', 'name': '〇〇株式会社', 'type': '01', 'user_id': '02804013-a550-4ee6-822c-c00a0f7d4985', 'role_name': '本社管理者', 'permis...
          │         │          └ <providers.psql_provider.DB object at 0x104edd130>
          │         └ <function update_org at 0x104d79430>
          └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 209, in update_org
    await db.execute(sql)
          │  │       └ "\n    UPDATE orgs\n    SET\n        p_id = '',\n        name = '〇〇株式会社',\n        type = '01'\n    WHERE\n        orgs.id = ...
          │  └ <function DB.execute at 0x104a71ee0>
          └ <providers.psql_provider.DB object at 0x104edd130>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 58, in execute
    await con.execute(query)
          │   │       └ "\n    UPDATE orgs\n    SET\n        p_id = '',\n        name = '〇〇株式会社',\n        type = '01'\n    WHERE\n        orgs.id = ...
          │   └ <function Connection.execute at 0x1047c3f70>
          └ <PoolConnectionProxy [released] 0x1051bbf10>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
                   │    │               │      └ None
                   │    │               └ "\n    UPDATE orgs\n    SET\n        p_id = '',\n        name = '〇〇株式会社',\n        type = '01'\n    WHERE\n        orgs.id = ...
                   │    └ <member '_protocol' of 'Connection' objects>
                   └ <asyncpg.connection.Connection object at 0x1051abc70>
  File "asyncpg/protocol/protocol.pyx", line 374, in query
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: ""

2023-12-15 03:59:33.358 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49300 - "PUT /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 500
2023-12-15 03:59:38.898 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 03:59:38.903 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 03:59:38.913 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        id
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 03:59:38.917 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE orgs
    SET
        p_id = '',
        name = '〇〇株式会社',
        type = '01'
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 03:59:38.919 | ERROR    | app.endpoints.orgs:new_org:74 - invalid input syntax for type uuid: ""Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x102a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1027af430>
           └ <SpawnProcess name='SpawnProcess-12' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1027a3a60>
    └ <SpawnProcess name='SpawnProcess-12' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102a429d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-12' parent=30063 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-12' parent=30063 started>
    │    └ <function subprocess_started at 0x104ec24c0>
    └ <SpawnProcess name='SpawnProcess-12' parent=30063 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102a42af0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x104eb1a60>
           │       │   └ <uvicorn.server.Server object at 0x102a42af0>
           │       └ <function run at 0x102a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x104eb6340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104f082e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105155760>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051557...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x104fe9a60>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104f082e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105155760>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051557...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105155760>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051557...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104ff46a0>
          └ <fastapi.applications.FastAPI object at 0x104fe9a60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x104ff3ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051557...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x104ff4760>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104ff46a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'content-length': '695', 'accept': 'application/json, text/plain...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x104ff3ee0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051557...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10466baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x104ff4760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x104ff4760>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051557...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104fe9160>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x104ff4760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104fece50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051557...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x104fe91f0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104fe9160>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104fece50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051557...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x104fe9b80>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x104fe91f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104fece50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051557...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1045c1af0>
          └ APIRoute(path='/org/{org_id}', name='new_org', methods=['PUT'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104fece50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051557...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x104ffe430>
          └ APIRoute(path='/org/{org_id}', name='new_org', methods=['PUT'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x105155220>
                     └ <function get_request_handler.<locals>.app at 0x104ffe3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1045b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x104edd130>, 'org_id': '1b33d5f9-6655-492e-9ad0-ca8125f88b2c', 'data': {'p_id':...
                 │         └ <function new_org at 0x104d72c10>
                 └ <fastapi.dependencies.models.Dependant object at 0x104ff4f40>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 68, in new_org
    await orgs_crud.update_org(db, data, org_id)
          │         │          │   │     └ '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
          │         │          │   └ {'p_id': '', 'name': '〇〇株式会社', 'type': '01', 'user_id': '02804013-a550-4ee6-822c-c00a0f7d4985', 'role_name': '本社管理者', 'permis...
          │         │          └ <providers.psql_provider.DB object at 0x104edd130>
          │         └ <function update_org at 0x104d79430>
          └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 209, in update_org
    await db.execute(sql)
          │  │       └ "\n    UPDATE orgs\n    SET\n        p_id = '',\n        name = '〇〇株式会社',\n        type = '01'\n    WHERE\n        orgs.id = ...
          │  └ <function DB.execute at 0x104a71ee0>
          └ <providers.psql_provider.DB object at 0x104edd130>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 58, in execute
    await con.execute(query)
          │   │       └ "\n    UPDATE orgs\n    SET\n        p_id = '',\n        name = '〇〇株式会社',\n        type = '01'\n    WHERE\n        orgs.id = ...
          │   └ <function Connection.execute at 0x1047c3f70>
          └ <PoolConnectionProxy [released] 0x104d30190>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
                   │    │               │      └ None
                   │    │               └ "\n    UPDATE orgs\n    SET\n        p_id = '',\n        name = '〇〇株式会社',\n        type = '01'\n    WHERE\n        orgs.id = ...
                   │    └ <member '_protocol' of 'Connection' objects>
                   └ <asyncpg.connection.Connection object at 0x104fde9a0>
  File "asyncpg/protocol/protocol.pyx", line 374, in query
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: ""

2023-12-15 03:59:38.943 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49351 - "PUT /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 500
2023-12-15 03:59:40.455 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 03:59:40.458 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 03:59:40.461 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        id
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 03:59:40.462 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE orgs
    SET
        p_id = '',
        name = '〇〇株式会社',
        type = '01'
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 03:59:40.463 | ERROR    | app.endpoints.orgs:new_org:74 - invalid input syntax for type uuid: ""Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x102a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1027af430>
           └ <SpawnProcess name='SpawnProcess-12' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1027a3a60>
    └ <SpawnProcess name='SpawnProcess-12' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102a429d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-12' parent=30063 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-12' parent=30063 started>
    │    └ <function subprocess_started at 0x104ec24c0>
    └ <SpawnProcess name='SpawnProcess-12' parent=30063 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102a42af0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x104eb1a60>
           │       │   └ <uvicorn.server.Server object at 0x102a42af0>
           │       └ <function run at 0x102a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x104eb6340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104f082e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105155580>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051555...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x104fe9a60>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104f082e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105155580>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051555...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105155580>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051555...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104ff46a0>
          └ <fastapi.applications.FastAPI object at 0x104fe9a60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x104ff3ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051555...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x104ff4760>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104ff46a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'content-length': '695', 'accept': 'application/json, text/plain...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x104ff3ee0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051555...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10466baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x104ff4760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x104ff4760>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051555...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104fe9160>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x104ff4760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104fece50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051555...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x104fe91f0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104fe9160>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104fece50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051555...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x104fe9b80>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x104fe91f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104fece50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051555...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1045c1af0>
          └ APIRoute(path='/org/{org_id}', name='new_org', methods=['PUT'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104fece50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1051555...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x104ffe430>
          └ APIRoute(path='/org/{org_id}', name='new_org', methods=['PUT'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1051553d0>
                     └ <function get_request_handler.<locals>.app at 0x104ffe3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1045b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x104edd130>, 'org_id': '1b33d5f9-6655-492e-9ad0-ca8125f88b2c', 'data': {'p_id':...
                 │         └ <function new_org at 0x104d72c10>
                 └ <fastapi.dependencies.models.Dependant object at 0x104ff4f40>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 68, in new_org
    await orgs_crud.update_org(db, data, org_id)
          │         │          │   │     └ '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
          │         │          │   └ {'p_id': '', 'name': '〇〇株式会社', 'type': '01', 'user_id': '02804013-a550-4ee6-822c-c00a0f7d4985', 'role_name': '本社管理者', 'permis...
          │         │          └ <providers.psql_provider.DB object at 0x104edd130>
          │         └ <function update_org at 0x104d79430>
          └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 209, in update_org
    await db.execute(sql)
          │  │       └ "\n    UPDATE orgs\n    SET\n        p_id = '',\n        name = '〇〇株式会社',\n        type = '01'\n    WHERE\n        orgs.id = ...
          │  └ <function DB.execute at 0x104a71ee0>
          └ <providers.psql_provider.DB object at 0x104edd130>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 58, in execute
    await con.execute(query)
          │   │       └ "\n    UPDATE orgs\n    SET\n        p_id = '',\n        name = '〇〇株式会社',\n        type = '01'\n    WHERE\n        orgs.id = ...
          │   └ <function Connection.execute at 0x1047c3f70>
          └ <PoolConnectionProxy [released] 0x105152370>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
                   │    │               │      └ None
                   │    │               └ "\n    UPDATE orgs\n    SET\n        p_id = '',\n        name = '〇〇株式会社',\n        type = '01'\n    WHERE\n        orgs.id = ...
                   │    └ <member '_protocol' of 'Connection' objects>
                   └ <asyncpg.connection.Connection object at 0x104fde6d0>
  File "asyncpg/protocol/protocol.pyx", line 374, in query
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: ""

2023-12-15 03:59:40.469 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49351 - "PUT /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 500
2023-12-15 03:59:40.886 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 03:59:40.893 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 03:59:40.899 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        id
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 03:59:40.902 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE orgs
    SET
        p_id = '',
        name = '〇〇株式会社',
        type = '01'
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 03:59:40.903 | ERROR    | app.endpoints.orgs:new_org:74 - invalid input syntax for type uuid: ""Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x102a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1027af430>
           └ <SpawnProcess name='SpawnProcess-12' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1027a3a60>
    └ <SpawnProcess name='SpawnProcess-12' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102a429d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-12' parent=30063 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-12' parent=30063 started>
    │    └ <function subprocess_started at 0x104ec24c0>
    └ <SpawnProcess name='SpawnProcess-12' parent=30063 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102a42af0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x104eb1a60>
           │       │   └ <uvicorn.server.Server object at 0x102a42af0>
           │       └ <function run at 0x102a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x104eb6340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104f082e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105155be0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105155b...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x104fe9a60>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104f082e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105155be0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105155b...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105155be0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105155b...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104ff46a0>
          └ <fastapi.applications.FastAPI object at 0x104fe9a60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x104ff3ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105155b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x104ff4760>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104ff46a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'content-length': '695', 'accept': 'application/json, text/plain...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x104ff3ee0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105155b...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10466baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x104ff4760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x104ff4760>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105155b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104fe9160>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x104ff4760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104fece50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105155b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x104fe91f0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104fe9160>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104fece50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105155b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x104fe9b80>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x104fe91f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104fece50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105155b...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1045c1af0>
          └ APIRoute(path='/org/{org_id}', name='new_org', methods=['PUT'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104fece50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105155b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x104ffe430>
          └ APIRoute(path='/org/{org_id}', name='new_org', methods=['PUT'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x105155f40>
                     └ <function get_request_handler.<locals>.app at 0x104ffe3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1045b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x104edd130>, 'org_id': '1b33d5f9-6655-492e-9ad0-ca8125f88b2c', 'data': {'p_id':...
                 │         └ <function new_org at 0x104d72c10>
                 └ <fastapi.dependencies.models.Dependant object at 0x104ff4f40>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 68, in new_org
    await orgs_crud.update_org(db, data, org_id)
          │         │          │   │     └ '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
          │         │          │   └ {'p_id': '', 'name': '〇〇株式会社', 'type': '01', 'user_id': '02804013-a550-4ee6-822c-c00a0f7d4985', 'role_name': '本社管理者', 'permis...
          │         │          └ <providers.psql_provider.DB object at 0x104edd130>
          │         └ <function update_org at 0x104d79430>
          └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 209, in update_org
    await db.execute(sql)
          │  │       └ "\n    UPDATE orgs\n    SET\n        p_id = '',\n        name = '〇〇株式会社',\n        type = '01'\n    WHERE\n        orgs.id = ...
          │  └ <function DB.execute at 0x104a71ee0>
          └ <providers.psql_provider.DB object at 0x104edd130>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 58, in execute
    await con.execute(query)
          │   │       └ "\n    UPDATE orgs\n    SET\n        p_id = '',\n        name = '〇〇株式会社',\n        type = '01'\n    WHERE\n        orgs.id = ...
          │   └ <function Connection.execute at 0x1047c3f70>
          └ <PoolConnectionProxy [released] 0x1051a4d30>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
                   │    │               │      └ None
                   │    │               └ "\n    UPDATE orgs\n    SET\n        p_id = '',\n        name = '〇〇株式会社',\n        type = '01'\n    WHERE\n        orgs.id = ...
                   │    └ <member '_protocol' of 'Connection' objects>
                   └ <asyncpg.connection.Connection object at 0x104fdea90>
  File "asyncpg/protocol/protocol.pyx", line 374, in query
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: ""

2023-12-15 03:59:40.924 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49351 - "PUT /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 500
2023-12-15 04:01:01.630 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 04:01:01.636 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 04:01:01.642 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49692 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 04:01:01.650 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 04:01:01.659 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 04:01:01.662 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49693 - "GET /options/users HTTP/1.1" 200
2023-12-15 04:01:01.663 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:01:01.664 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 04:01:01.669 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 04:01:01.672 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49694 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 04:01:01.677 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49701 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 04:01:01.680 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49691 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 04:01:01.681 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 04:01:01.682 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 04:01:01.682 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:01:01.684 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49693 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 04:01:01.684 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49692 - "GET /options/users HTTP/1.1" 200
2023-12-15 04:01:01.685 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985'
        AND
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:01:01.686 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 04:01:01.689 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 04:01:01.692 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49701 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 04:01:01.693 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:01:01.696 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49695 - "GET /token?user_id=02804013-a550-4ee6-822c-c00a0f7d4985 HTTP/1.1" 200
2023-12-15 04:01:01.702 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:01:01.704 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:01:01.706 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985'
        AND
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:01:01.710 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:01:01.712 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49701 - "GET /token?user_id=02804013-a550-4ee6-822c-c00a0f7d4985 HTTP/1.1" 200
2023-12-15 04:01:14.718 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:01:14.722 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        id,
        p_id,
        name
    FROM
        parents;
    
2023-12-15 04:01:14.724 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49762 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:01:35.589 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49852 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:01:35.589 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49853 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:01:35.597 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:01:35.603 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        id,
        p_id,
        name
    FROM
        parents;
    
2023-12-15 04:01:35.604 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49853 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:01:35.610 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:01:35.613 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        id,
        p_id,
        name
    FROM
        parents;
    
2023-12-15 04:01:35.614 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49852 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:01:47.962 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49904 - "OPTIONS /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-15 04:01:47.966 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49908 - "OPTIONS /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-15 04:01:47.979 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 04:01:47.979 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 04:01:47.982 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49906 - "GET /options/users HTTP/1.1" 200
2023-12-15 04:01:47.982 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 04:01:47.982 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49905 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 04:01:47.986 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 04:01:47.987 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49907 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 04:01:47.991 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 04:01:48.002 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 04:01:48.003 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49908 - "GET /options/users HTTP/1.1" 200
2023-12-15 04:01:48.003 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 04:01:48.004 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
    
2023-12-15 04:01:48.005 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49906 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 04:01:48.005 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49905 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 04:01:48.007 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49904 - "GET /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-15 04:01:48.023 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 04:01:48.025 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
    
2023-12-15 04:01:48.027 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49905 - "GET /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-15 04:01:55.004 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49946 - "OPTIONS /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-15 04:01:55.015 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 04:01:55.021 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
    
2023-12-15 04:01:55.031 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        id
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 04:01:55.037 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE orgs
    SET
        p_id = '',
        name = '支店01',
        type = '03'
    WHERE
        orgs.id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
    
2023-12-15 04:01:55.043 | ERROR    | app.endpoints.orgs:new_org:74 - invalid input syntax for type uuid: ""Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x102a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1027af430>
           └ <SpawnProcess name='SpawnProcess-12' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1027a3a60>
    └ <SpawnProcess name='SpawnProcess-12' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102a429d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-12' parent=30063 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-12' parent=30063 started>
    │    └ <function subprocess_started at 0x104ec24c0>
    └ <SpawnProcess name='SpawnProcess-12' parent=30063 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102a42af0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x104eb1a60>
           │       │   └ <uvicorn.server.Server object at 0x102a42af0>
           │       └ <function run at 0x102a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x104eb6340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104f082e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10536f760>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10536f7...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x104fe9a60>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104f082e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10536f760>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10536f7...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10536f760>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10536f7...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104ff46a0>
          └ <fastapi.applications.FastAPI object at 0x104fe9a60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x104a51700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10536f7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x104ff4760>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104ff46a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'content-length': '334', 'accept': 'application/json, text/plain...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x104a51700>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10536f7...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10466baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x104ff4760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x104ff4760>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10536f7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104fe9160>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x104ff4760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104ff3ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10536f7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x104fe91f0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104fe9160>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104ff3ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10536f7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x104fe9b80>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x104fe91f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104ff3ee0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10536f7...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1045c1af0>
          └ APIRoute(path='/org/{org_id}', name='new_org', methods=['PUT'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104ff3ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10536f7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x104ffe430>
          └ APIRoute(path='/org/{org_id}', name='new_org', methods=['PUT'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10511ff10>
                     └ <function get_request_handler.<locals>.app at 0x104ffe3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1045b0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x104edd130>, 'org_id': 'cd2d8827-c189-4c0e-8716-d081873c6178', 'data': {'p_id':...
                 │         └ <function new_org at 0x104d72c10>
                 └ <fastapi.dependencies.models.Dependant object at 0x104ff4f40>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 68, in new_org
    await orgs_crud.update_org(db, data, org_id)
          │         │          │   │     └ 'cd2d8827-c189-4c0e-8716-d081873c6178'
          │         │          │   └ {'p_id': '', 'name': '支店01', 'type': '03', 'user_id': '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a', 'role_name': '支店管理者', 'permissi...
          │         │          └ <providers.psql_provider.DB object at 0x104edd130>
          │         └ <function update_org at 0x104d79430>
          └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 209, in update_org
    await db.execute(sql)
          │  │       └ "\n    UPDATE orgs\n    SET\n        p_id = '',\n        name = '支店01',\n        type = '03'\n    WHERE\n        orgs.id = 'c...
          │  └ <function DB.execute at 0x104a71ee0>
          └ <providers.psql_provider.DB object at 0x104edd130>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 58, in execute
    await con.execute(query)
          │   │       └ "\n    UPDATE orgs\n    SET\n        p_id = '',\n        name = '支店01',\n        type = '03'\n    WHERE\n        orgs.id = 'c...
          │   └ <function Connection.execute at 0x1047c3f70>
          └ <PoolConnectionProxy [released] 0x1051bb910>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
                   │    │               │      └ None
                   │    │               └ "\n    UPDATE orgs\n    SET\n        p_id = '',\n        name = '支店01',\n        type = '03'\n    WHERE\n        orgs.id = 'c...
                   │    └ <member '_protocol' of 'Connection' objects>
                   └ <asyncpg.connection.Connection object at 0x1051ab310>
  File "asyncpg/protocol/protocol.pyx", line 374, in query
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: ""

2023-12-15 04:01:55.049 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49946 - "PUT /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 500
2023-12-15 04:02:33.078 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:02:33.083 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        id,
        p_id,
        name
    FROM
        parents;
    
2023-12-15 04:02:33.088 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50100 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:05:05.246 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 04:05:05.348 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 04:05:05.348 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 04:05:05.349 | INFO     | uvicorn.server:serve:86 - Finished server process [30573]
2023-12-15 04:05:05.748 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 04:05:09.448 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:05:09.452 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.remark,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:05:09.456 | ERROR    | app.endpoints.orgs:get_orgs:23 - column parents.remark does not existTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104a919d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10480f430>
           └ <SpawnProcess name='SpawnProcess-13' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104803a60>
    └ <SpawnProcess name='SpawnProcess-13' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104aa29d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-13' parent=30063 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-13' parent=30063 started>
    │    └ <function subprocess_started at 0x106f214c0>
    └ <SpawnProcess name='SpawnProcess-13' parent=30063 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104aa2af0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x106f11a60>
           │       │   └ <uvicorn.server.Server object at 0x104aa2af0>
           │       └ <function run at 0x104ace820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x106f16340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106f68580>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107060700>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1070607...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x107049d00>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106f68580>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107060700>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1070607...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107060700>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1070607...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10704fb20>
          └ <fastapi.applications.FastAPI object at 0x107049d00>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107052dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1070607...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10704fbb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10704fb20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107052dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1070607...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10704fa90>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10704fbb0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107052ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1070607...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10704fb50>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10704fa90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107052ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1070607...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x107049e20>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10704fb50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107052ee0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1070607...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106621af0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107052ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1070607...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10704c940>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x106d8e4f0>
                     └ <function get_request_handler.<locals>.app at 0x10704caf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x106610790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x106f353d0>, 'role_id': '26393cbc-6912-4f00-8369-1d01e64440ec'}
                 │         └ <function get_orgs at 0x106dda670>
                 └ <fastapi.dependencies.models.Dependant object at 0x107053760>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                 │         │          └ <providers.psql_provider.DB object at 0x106f353d0>
                 │         └ <function query_orgs at 0x106dc7dc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 72, in query_orgs
    ttt = await db.fetch_all(sql)
                │  │         └ "\n    WITH RECURSIVE parents AS (\n     SELECT id, p_id, name FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'\n ...
                │  └ <function DB.fetch_all at 0x106ad1c10>
                └ <providers.psql_provider.DB object at 0x106f353d0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    WITH RECURSIVE parents AS (\n     SELECT id, p_id, name FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'\n ...
                   │   └ <function Connection.fetch at 0x10682b0d0>
                   └ <PoolConnectionProxy [released] 0x10717c730>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x1068181f0>
                 └ <asyncpg.connection.Connection object at 0x10703e7c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x10703e7c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1068185e0>
                         └ <asyncpg.connection.Connection object at 0x10703e7c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x106816700>
                 └ <asyncpg.connection.Connection object at 0x10703e7c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x10703e7c0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.UndefinedColumnError: column parents.remark does not exist

2023-12-15 04:05:09.483 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50740 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 500
2023-12-15 04:05:25.182 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 04:05:25.283 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 04:05:25.284 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 04:05:25.284 | INFO     | uvicorn.server:serve:86 - Finished server process [30736]
2023-12-15 04:05:25.714 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 04:05:30.976 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 04:05:31.077 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 04:05:31.078 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 04:05:31.078 | INFO     | uvicorn.server:serve:86 - Finished server process [30752]
2023-12-15 04:05:31.509 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 04:05:35.284 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:05:35.288 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:05:35.293 | ERROR    | app.endpoints.orgs:get_orgs:23 - column parents.type does not existTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1031259d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102ea3430>
           └ <SpawnProcess name='SpawnProcess-15' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102e97a60>
    └ <SpawnProcess name='SpawnProcess-15' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1031369d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-15' parent=30063 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-15' parent=30063 started>
    │    └ <function subprocess_started at 0x1055b54c0>
    └ <SpawnProcess name='SpawnProcess-15' parent=30063 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x103136af0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1055a5a60>
           │       │   └ <uvicorn.server.Server object at 0x103136af0>
           │       └ <function run at 0x103162820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1055aa340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1055f4580>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056f4700>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056f47...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1056ddd00>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1055f4580>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056f4700>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056f47...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056f4700>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056f47...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1056e3b20>
          └ <fastapi.applications.FastAPI object at 0x1056ddd00>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1056e6dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056f47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1056e3bb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1056e3b20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1056e6dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056f47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1056e3a90>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1056e3bb0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1056e6ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056f47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1056e3b50>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1056e3a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1056e6ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056f47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1056dde20>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1056e3b50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1056e6ee0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056f47...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x104cb5af0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1056e6ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1056f47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1056e0940>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1054224f0>
                     └ <function get_request_handler.<locals>.app at 0x1056e0af0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104ca4790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1055c93d0>, 'role_id': '26393cbc-6912-4f00-8369-1d01e64440ec'}
                 │         └ <function get_orgs at 0x10546e670>
                 └ <fastapi.dependencies.models.Dependant object at 0x1056e7760>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                 │         │          └ <providers.psql_provider.DB object at 0x1055c93d0>
                 │         └ <function query_orgs at 0x10545adc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 70, in query_orgs
    ttt = await db.fetch_all(sql)
                │  │         └ "\n    WITH RECURSIVE parents AS (\n     SELECT id, p_id, name FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'\n ...
                │  └ <function DB.fetch_all at 0x105165c10>
                └ <providers.psql_provider.DB object at 0x1055c93d0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    WITH RECURSIVE parents AS (\n     SELECT id, p_id, name FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'\n ...
                   │   └ <function Connection.fetch at 0x104ebf0d0>
                   └ <PoolConnectionProxy [released] 0x105811730>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x104eac1f0>
                 └ <asyncpg.connection.Connection object at 0x1056d27c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1056d27c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x104eac5e0>
                         └ <asyncpg.connection.Connection object at 0x1056d27c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x104eaa700>
                 └ <asyncpg.connection.Connection object at 0x1056d27c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1056d27c0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.UndefinedColumnError: column parents.type does not exist

2023-12-15 04:05:35.318 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50856 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 500
2023-12-15 04:06:24.794 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 04:06:24.895 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 04:06:24.896 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 04:06:24.896 | INFO     | uvicorn.server:serve:86 - Finished server process [30759]
2023-12-15 04:06:25.312 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 04:06:28.566 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:06:28.574 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:06:28.582 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51078 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:07:04.926 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:07:04.929 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:07:04.933 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51226 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:07:04.941 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:07:04.949 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:07:04.961 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51228 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:07:09.381 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:07:09.382 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:07:09.394 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51228 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:07:09.403 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:07:09.406 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:07:09.414 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51257 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:07:09.427 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985'
        AND
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:07:09.442 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:07:09.449 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51226 - "GET /token?user_id=02804013-a550-4ee6-822c-c00a0f7d4985 HTTP/1.1" 200
2023-12-15 04:07:09.455 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:07:09.458 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:07:09.464 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985'
        AND
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:07:09.473 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:07:09.476 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51257 - "GET /token?user_id=02804013-a550-4ee6-822c-c00a0f7d4985 HTTP/1.1" 200
2023-12-15 04:08:34.063 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:08:34.064 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:08:34.070 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:08:34.071 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51608 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:08:34.090 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:08:34.091 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985'
        AND
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:08:34.097 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51612 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:08:34.098 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:08:34.099 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51609 - "GET /token?user_id=02804013-a550-4ee6-822c-c00a0f7d4985 HTTP/1.1" 200
2023-12-15 04:08:34.103 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:08:34.105 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:08:34.108 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985'
        AND
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:08:34.136 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:08:34.140 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51612 - "GET /token?user_id=02804013-a550-4ee6-822c-c00a0f7d4985 HTTP/1.1" 200
2023-12-15 04:09:23.327 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:09:23.334 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:09:23.341 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51812 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:09:43.575 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:09:43.578 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:09:43.580 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51896 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:09:43.590 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:09:43.594 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:09:43.599 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51898 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:09:46.482 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51898 - "OPTIONS /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:09:46.482 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51896 - "OPTIONS /token?user_id=02804013-a550-4ee6-822c-c00a0f7d4985 HTTP/1.1" 200
2023-12-15 04:09:46.484 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51916 - "OPTIONS /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:09:46.484 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51917 - "OPTIONS /token?user_id=02804013-a550-4ee6-822c-c00a0f7d4985 HTTP/1.1" 200
2023-12-15 04:09:46.529 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:09:46.531 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:09:46.535 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51896 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:09:46.535 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:09:46.547 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:09:46.550 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985'
        AND
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:09:46.550 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51917 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:09:46.554 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:09:46.555 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51898 - "GET /token?user_id=02804013-a550-4ee6-822c-c00a0f7d4985 HTTP/1.1" 200
2023-12-15 04:09:46.559 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:09:46.561 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:09:46.562 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985'
        AND
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:09:46.566 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:09:46.567 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51917 - "GET /token?user_id=02804013-a550-4ee6-822c-c00a0f7d4985 HTTP/1.1" 200
2023-12-15 04:09:55.152 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:09:55.154 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:09:55.156 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51961 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:09:55.162 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:09:55.165 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:09:55.169 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51963 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:10:14.655 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:10:14.660 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:10:14.678 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52042 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:10:14.692 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:10:14.695 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:10:14.699 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52044 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:10:17.612 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:10:17.615 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:10:17.621 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52044 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:10:17.629 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:10:17.636 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:10:17.644 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52042 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:11:04.918 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:11:04.922 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:11:04.925 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52254 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:11:04.930 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:11:04.932 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:11:04.935 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52254 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:11:04.946 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:11:04.946 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:11:04.949 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52254 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:11:04.950 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:11:04.956 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:11:04.958 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985'
        AND
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:11:04.959 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52260 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:11:04.963 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:11:04.965 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52256 - "GET /token?user_id=02804013-a550-4ee6-822c-c00a0f7d4985 HTTP/1.1" 200
2023-12-15 04:11:04.973 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:11:04.977 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:11:04.979 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985'
        AND
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:11:04.982 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:11:04.983 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52260 - "GET /token?user_id=02804013-a550-4ee6-822c-c00a0f7d4985 HTTP/1.1" 200
2023-12-15 04:11:10.335 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:11:10.337 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:11:10.355 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52289 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:11:10.363 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:11:10.365 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:11:10.369 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52294 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:11:10.373 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985'
        AND
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:11:10.381 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:11:10.384 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52290 - "GET /token?user_id=02804013-a550-4ee6-822c-c00a0f7d4985 HTTP/1.1" 200
2023-12-15 04:11:10.395 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:11:10.398 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:11:10.403 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985'
        AND
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:11:10.411 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:11:10.417 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52294 - "GET /token?user_id=02804013-a550-4ee6-822c-c00a0f7d4985 HTTP/1.1" 200
2023-12-15 04:11:12.937 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:11:12.940 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:11:12.943 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52294 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:11:12.951 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:11:12.954 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:11:12.957 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52290 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:11:40.418 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52424 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:11:40.418 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52425 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:11:40.426 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:11:40.428 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:11:40.432 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52425 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:11:40.438 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:11:40.440 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:11:40.442 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52424 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:11:43.897 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:11:43.902 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52424 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:11:43.926 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:11:43.932 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52425 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:12:05.376 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:12:05.378 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52531 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:12:05.385 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:12:05.389 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52533 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:12:05.452 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:12:05.455 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:12:05.458 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52533 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:12:05.465 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:12:05.476 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:12:05.484 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52542 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:12:05.502 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985'
        AND
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:12:05.504 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:12:05.507 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52531 - "GET /token?user_id=02804013-a550-4ee6-822c-c00a0f7d4985 HTTP/1.1" 200
2023-12-15 04:12:05.513 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:12:05.516 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:12:05.517 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985'
        AND
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:12:05.519 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:12:05.520 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52542 - "GET /token?user_id=02804013-a550-4ee6-822c-c00a0f7d4985 HTTP/1.1" 200
2023-12-15 04:13:51.465 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:13:51.466 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:13:51.483 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52975 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:13:51.494 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:13:51.503 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:13:51.507 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52980 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:13:51.509 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985'
        AND
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:13:51.522 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:13:51.525 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52976 - "GET /token?user_id=02804013-a550-4ee6-822c-c00a0f7d4985 HTTP/1.1" 200
2023-12-15 04:13:51.535 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:13:51.547 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:13:51.549 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985'
        AND
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:13:51.554 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:13:51.557 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52980 - "GET /token?user_id=02804013-a550-4ee6-822c-c00a0f7d4985 HTTP/1.1" 200
2023-12-15 04:14:26.753 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:14:26.757 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:14:26.766 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53128 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:14:26.791 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:14:26.795 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:14:26.797 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53130 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:15:44.958 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:15:44.962 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53452 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:15:44.972 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:15:44.976 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53454 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:17:16.448 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:17:16.453 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53845 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:17:16.463 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:17:16.469 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53847 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:17:38.461 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53943 - "OPTIONS /token HTTP/1.1" 200
2023-12-15 04:17:38.473 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '001@demo.com';
    
2023-12-15 04:17:38.478 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:17:38.481 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:17:38.486 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985'
        AND
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:17:38.497 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:17:38.500 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53943 - "POST /token HTTP/1.1" 200
2023-12-15 04:18:22.121 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:18:22.125 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:18:22.127 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54126 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:18:22.135 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:18:22.141 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:18:22.143 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54128 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:23:16.550 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '001@demo.com';
    
2023-12-15 04:23:16.555 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:23:16.558 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:23:16.561 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985'
        AND
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:23:16.573 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:23:16.577 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55358 - "POST /token HTTP/1.1" 200
2023-12-15 04:23:21.480 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55358 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:23:21.481 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55358 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:23:21.487 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:23:21.489 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:23:21.492 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55383 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:23:21.498 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:23:21.501 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:23:21.503 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55358 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:23:25.545 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55358 - "OPTIONS /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:23:25.546 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55383 - "OPTIONS /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:23:25.572 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:23:25.592 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55358 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:23:25.599 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:23:25.604 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55383 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:23:50.371 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:23:50.383 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:23:50.387 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55509 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:23:50.398 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:23:50.403 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:23:50.411 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55511 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:25:00.265 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55798 - "OPTIONS /orgs?role_id=undefined HTTP/1.1" 200
2023-12-15 04:25:00.266 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55799 - "OPTIONS /orgs?role_id=undefined HTTP/1.1" 200
2023-12-15 04:25:00.289 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'undefined';
    
2023-12-15 04:25:00.294 | ERROR    | app.endpoints.orgs:get_orgs:23 - invalid input syntax for type uuid: "undefined"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1051199d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104e97430>
           └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104e8ba60>
    └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10512a9d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>
    │    └ <function subprocess_started at 0x10834d4c0>
    └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10512aaf0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x10833da60>
           │       │   └ <uvicorn.server.Server object at 0x10512aaf0>
           │       └ <function run at 0x105156820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x108341340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10838d550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e2fa0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e2f...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x108605cd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10838d550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e2fa0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e2f...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e2fa0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e2f...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10860ab20>
          └ <fastapi.applications.FastAPI object at 0x108605cd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10861ae50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e2f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10860ab20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10861ae50>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e2f...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x107a27af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e2f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10860ab80>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10894f670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e2f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10860a970>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10860ab80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10894f670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e2f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x108605df0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10860a970>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10894f670>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e2f...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10797daf0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10894f670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e2f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x108608940>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10892f460>
                     └ <function get_request_handler.<locals>.app at 0x108608af0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10793c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1083613a0>, 'role_id': 'undefined'}
                 │         └ <function get_orgs at 0x108207670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10860f730>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ 'undefined'
                 │         │          └ <providers.psql_provider.DB object at 0x1083613a0>
                 │         └ <function query_orgs at 0x1081f3dc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 41, in query_orgs
    main_org_id = await db.fetch_value(sql_main.format(role_id=role_id))
                        │  │           │        │              └ 'undefined'
                        │  │           │        └ <method 'format' of 'str' objects>
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x107d95f70>
                        └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x107b871f0>
                   └ <PoolConnectionProxy [released] 0x108961580>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x107b741f0>
                 └ <asyncpg.connection.Connection object at 0x1089107c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1089107c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x107b745e0>
                         └ <asyncpg.connection.Connection object at 0x1089107c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x107b72700>
                 └ <asyncpg.connection.Connection object at 0x1089107c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1089107c0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "undefined"

2023-12-15 04:25:00.320 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55798 - "GET /orgs?role_id=undefined HTTP/1.1" 500
2023-12-15 04:25:00.330 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'undefined';
    
2023-12-15 04:25:00.332 | ERROR    | app.endpoints.orgs:get_orgs:23 - invalid input syntax for type uuid: "undefined"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1051199d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104e97430>
           └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104e8ba60>
    └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10512a9d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>
    │    └ <function subprocess_started at 0x10834d4c0>
    └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10512aaf0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x10833da60>
           │       │   └ <uvicorn.server.Server object at 0x10512aaf0>
           │       └ <function run at 0x105156820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x108341340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10838d550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892f7c0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892f7...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x108605cd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10838d550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892f7c0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892f7...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892f7c0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892f7...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10860ab20>
          └ <fastapi.applications.FastAPI object at 0x108605cd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10860edc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892f7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10860ab20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10860edc0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892f7...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x107a27af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892f7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10860ab80>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10894f670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892f7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10860a970>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10860ab80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10894f670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892f7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x108605df0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10860a970>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10894f670>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892f7...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10797daf0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10894f670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892f7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x108608940>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10892fcd0>
                     └ <function get_request_handler.<locals>.app at 0x108608af0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10793c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1083613a0>, 'role_id': 'undefined'}
                 │         └ <function get_orgs at 0x108207670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10860f730>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ 'undefined'
                 │         │          └ <providers.psql_provider.DB object at 0x1083613a0>
                 │         └ <function query_orgs at 0x1081f3dc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 41, in query_orgs
    main_org_id = await db.fetch_value(sql_main.format(role_id=role_id))
                        │  │           │        │              └ 'undefined'
                        │  │           │        └ <method 'format' of 'str' objects>
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x107d95f70>
                        └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x107b871f0>
                   └ <PoolConnectionProxy [released] 0x10893abe0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x107b741f0>
                 └ <asyncpg.connection.Connection object at 0x108d3c5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x108d3c5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x107b745e0>
                         └ <asyncpg.connection.Connection object at 0x108d3c5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x107b72700>
                 └ <asyncpg.connection.Connection object at 0x108d3c5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x108d3c5e0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "undefined"

2023-12-15 04:25:00.340 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55799 - "GET /orgs?role_id=undefined HTTP/1.1" 500
2023-12-15 04:26:57.311 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'undefined';
    
2023-12-15 04:26:57.314 | ERROR    | app.endpoints.orgs:get_orgs:23 - invalid input syntax for type uuid: "undefined"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1051199d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104e97430>
           └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104e8ba60>
    └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10512a9d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>
    │    └ <function subprocess_started at 0x10834d4c0>
    └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10512aaf0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x10833da60>
           │       │   └ <uvicorn.server.Server object at 0x10512aaf0>
           │       └ <function run at 0x105156820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x108341340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10838d550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892fa30>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892fa...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x108605cd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10838d550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892fa30>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892fa...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892fa30>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892fa...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10860ab20>
          └ <fastapi.applications.FastAPI object at 0x108605cd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10860edc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892fa...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10860ab20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10860edc0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892fa...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x107a27af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892fa...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10860ab80>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10861ae50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892fa...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10860a970>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10860ab80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10861ae50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892fa...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x108605df0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10860a970>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10861ae50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892fa...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10797daf0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10861ae50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892fa...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x108608940>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10892fa60>
                     └ <function get_request_handler.<locals>.app at 0x108608af0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10793c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1083613a0>, 'role_id': 'undefined'}
                 │         └ <function get_orgs at 0x108207670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10860f730>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ 'undefined'
                 │         │          └ <providers.psql_provider.DB object at 0x1083613a0>
                 │         └ <function query_orgs at 0x1081f3dc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 41, in query_orgs
    main_org_id = await db.fetch_value(sql_main.format(role_id=role_id))
                        │  │           │        │              └ 'undefined'
                        │  │           │        └ <method 'format' of 'str' objects>
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x107d95f70>
                        └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x107b871f0>
                   └ <PoolConnectionProxy [released] 0x10893aaf0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x107b741f0>
                 └ <asyncpg.connection.Connection object at 0x108d3c6d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x108d3c6d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x107b745e0>
                         └ <asyncpg.connection.Connection object at 0x108d3c6d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x107b72700>
                 └ <asyncpg.connection.Connection object at 0x108d3c6d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x108d3c6d0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "undefined"

2023-12-15 04:26:57.334 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56280 - "GET /orgs?role_id=undefined HTTP/1.1" 500
2023-12-15 04:26:57.345 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'undefined';
    
2023-12-15 04:26:57.348 | ERROR    | app.endpoints.orgs:get_orgs:23 - invalid input syntax for type uuid: "undefined"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1051199d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104e97430>
           └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104e8ba60>
    └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10512a9d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>
    │    └ <function subprocess_started at 0x10834d4c0>
    └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10512aaf0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x10833da60>
           │       │   └ <uvicorn.server.Server object at 0x10512aaf0>
           │       └ <function run at 0x105156820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x108341340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10838d550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10894c130>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10894c1...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x108605cd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10838d550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10894c130>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10894c1...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10894c130>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10894c1...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10860ab20>
          └ <fastapi.applications.FastAPI object at 0x108605cd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10861ae50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10894c1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10860ab20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10861ae50>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10894c1...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x107a27af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10894c1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10860ab80>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x108d77f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10894c1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10860a970>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10860ab80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x108d77f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10894c1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x108605df0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10860a970>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x108d77f70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10894c1...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10797daf0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x108d77f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10894c1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x108608940>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10894cfd0>
                     └ <function get_request_handler.<locals>.app at 0x108608af0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10793c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1083613a0>, 'role_id': 'undefined'}
                 │         └ <function get_orgs at 0x108207670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10860f730>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ 'undefined'
                 │         │          └ <providers.psql_provider.DB object at 0x1083613a0>
                 │         └ <function query_orgs at 0x1081f3dc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 41, in query_orgs
    main_org_id = await db.fetch_value(sql_main.format(role_id=role_id))
                        │  │           │        │              └ 'undefined'
                        │  │           │        └ <method 'format' of 'str' objects>
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x107d95f70>
                        └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x107b871f0>
                   └ <PoolConnectionProxy [released] 0x1086e2fa0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x107b741f0>
                 └ <asyncpg.connection.Connection object at 0x108d3c9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x108d3c9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x107b745e0>
                         └ <asyncpg.connection.Connection object at 0x108d3c9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x107b72700>
                 └ <asyncpg.connection.Connection object at 0x108d3c9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x108d3c9a0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "undefined"

2023-12-15 04:26:57.359 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56282 - "GET /orgs?role_id=undefined HTTP/1.1" 500
2023-12-15 04:27:10.111 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:27:10.115 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:27:10.120 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56338 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:27:10.132 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:27:10.135 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:27:10.138 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56340 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:27:44.124 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56476 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 04:27:44.125 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56477 - "OPTIONS /options/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 04:27:44.125 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56478 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 04:27:44.125 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56479 - "OPTIONS /options/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 04:27:44.134 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 04:27:44.135 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 04:27:44.140 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 04:27:44.144 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56477 - "GET /options/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 04:27:44.150 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 04:27:44.153 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 04:27:44.159 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56479 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 04:27:44.159 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 04:27:44.164 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56478 - "GET /options/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 04:27:44.165 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56479 - "OPTIONS /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 04:27:44.165 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56476 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-15 04:27:44.165 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56478 - "OPTIONS /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 04:27:44.166 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56479 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-15 04:27:44.166 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56489 - "OPTIONS /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 04:27:44.167 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56476 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-15 04:27:44.167 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56478 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-15 04:27:44.168 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56490 - "OPTIONS /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 04:27:44.172 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 04:27:44.174 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 04:27:44.183 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 04:27:44.184 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 04:27:44.184 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 04:27:44.185 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56477 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 04:27:44.185 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56489 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 04:27:44.192 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 04:27:44.194 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56479 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 04:27:44.194 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '1c8262b0-6c0f-49ed-8be4-2d4db8727fdf';

    
2023-12-15 04:27:44.195 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 04:27:44.196 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56478 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 04:27:44.197 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56489 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 04:27:44.199 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 04:27:44.200 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 04:27:44.201 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 04:27:44.201 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 04:27:44.201 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56477 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 04:27:44.203 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56478 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 04:27:44.207 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 04:27:44.207 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '1c8262b0-6c0f-49ed-8be4-2d4db8727fdf';

    
2023-12-15 04:27:44.208 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56477 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 04:27:44.209 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56479 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 04:27:50.957 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56526 - "OPTIONS /org/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 04:27:50.967 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            id
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
            AND
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 04:27:50.971 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 04:27:50.972 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '1c8262b0-6c0f-49ed-8be4-2d4db8727fdf';

    
2023-12-15 04:27:50.975 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_org_rels
        WHERE
            user_org_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab'
            AND
            user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
        
2023-12-15 04:27:50.980 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_role_rels
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab'
            AND
            user_role_rels.role_id = '1c8262b0-6c0f-49ed-8be4-2d4db8727fdf';
        
2023-12-15 04:27:50.981 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM org_role_rels
        WHERE
            org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
            AND
            org_role_rels.role_id = '1c8262b0-6c0f-49ed-8be4-2d4db8727fdf';
        
2023-12-15 04:27:50.982 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '1c8262b0-6c0f-49ed-8be4-2d4db8727fdf'
                AND
                permission_id = '53dc2e89-791d-4b66-aa73-f51ea9cd4e26';
            
2023-12-15 04:27:50.984 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '1c8262b0-6c0f-49ed-8be4-2d4db8727fdf'
                AND
                permission_id = '2ca11194-6079-41e8-8b26-275aa42848fa';
            
2023-12-15 04:27:50.987 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM roles WHERE id = '1c8262b0-6c0f-49ed-8be4-2d4db8727fdf';
        
2023-12-15 04:27:50.989 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56526 - "POST /org/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 04:27:51.006 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 04:27:51.010 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 04:27:51.014 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56526 - "GET /options/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 04:27:53.390 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:27:53.393 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:27:53.396 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56526 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:27:53.404 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:27:53.409 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:27:53.416 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56526 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:27:57.965 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56526 - "OPTIONS /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-15 04:27:57.965 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56543 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-15 04:27:57.966 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56562 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-15 04:27:57.967 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56564 - "OPTIONS /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-15 04:27:57.967 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56565 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-15 04:27:57.968 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56526 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-15 04:27:57.976 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 04:27:57.978 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 04:27:57.980 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56563 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 04:27:57.980 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 04:27:57.982 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 04:27:57.983 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56564 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 04:27:57.986 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56565 - "GET /options/users HTTP/1.1" 200
2023-12-15 04:27:57.987 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 04:27:57.989 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
    
2023-12-15 04:27:57.990 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 04:27:57.991 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56526 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 04:27:57.993 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 04:27:57.994 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56562 - "GET /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-15 04:27:57.995 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56563 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 04:27:57.996 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56565 - "GET /options/users HTTP/1.1" 200
2023-12-15 04:27:57.998 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 04:27:57.999 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
    
2023-12-15 04:27:58.001 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56526 - "GET /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-15 04:28:21.002 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56667 - "OPTIONS /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-15 04:28:21.020 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 04:28:21.023 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
    
2023-12-15 04:28:21.041 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        id
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 04:28:21.042 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE orgs
    SET
        p_id = '36944519-1255-490f-a310-b57ed8abe0f2',
        name = '支店01',
        type = '03'
    WHERE
        orgs.id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
    
2023-12-15 04:28:21.043 | INFO     | providers.psql_provider:execute:57 - 
        UPDATE roles
        SET
            name = '支店管理者',
            type = '03'
        WHERE
            roles.id = '0a4acbff-ecd1-44d7-9321-14aeb4a4c23c';
        
2023-12-15 04:28:21.044 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '0a4acbff-ecd1-44d7-9321-14aeb4a4c23c'
                AND
                permission_id = '53dc2e89-791d-4b66-aa73-f51ea9cd4e26';
            
2023-12-15 04:28:21.044 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '0a4acbff-ecd1-44d7-9321-14aeb4a4c23c'
                AND
                permission_id = '8f63e587-b802-4cfd-8ead-d3423237b054';
            
2023-12-15 04:28:21.045 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '0a4acbff-ecd1-44d7-9321-14aeb4a4c23c'
                AND
                permission_id = '2ca11194-6079-41e8-8b26-275aa42848fa';
            
2023-12-15 04:28:21.046 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '0a4acbff-ecd1-44d7-9321-14aeb4a4c23c'
                AND
                permission_id = '2065f63f-5e95-432e-9545-eed26715dc49';
            
2023-12-15 04:28:21.046 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '0a4acbff-ecd1-44d7-9321-14aeb4a4c23c'
                AND
                permission_id = 'bce2b4a4-0cad-4baa-96dd-671f2d942c7e';
            
2023-12-15 04:28:21.047 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '0a4acbff-ecd1-44d7-9321-14aeb4a4c23c',
                '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
            )
            
2023-12-15 04:28:21.049 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '0a4acbff-ecd1-44d7-9321-14aeb4a4c23c',
                '8f63e587-b802-4cfd-8ead-d3423237b054'
            )
            
2023-12-15 04:28:21.050 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '0a4acbff-ecd1-44d7-9321-14aeb4a4c23c',
                '2ca11194-6079-41e8-8b26-275aa42848fa'
            )
            
2023-12-15 04:28:21.050 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '0a4acbff-ecd1-44d7-9321-14aeb4a4c23c',
                '2065f63f-5e95-432e-9545-eed26715dc49'
            )
            
2023-12-15 04:28:21.051 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '0a4acbff-ecd1-44d7-9321-14aeb4a4c23c',
                'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
            )
            
2023-12-15 04:28:21.051 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56667 - "PUT /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-15 04:28:21.104 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:28:21.107 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:28:21.109 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56667 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:28:21.117 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:28:21.122 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:28:21.130 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56671 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:31:47.921 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'undefined';
    
2023-12-15 04:31:47.925 | ERROR    | app.endpoints.orgs:get_orgs:23 - invalid input syntax for type uuid: "undefined"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1051199d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104e97430>
           └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104e8ba60>
    └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10512a9d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>
    │    └ <function subprocess_started at 0x10834d4c0>
    └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10512aaf0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x10833da60>
           │       │   └ <uvicorn.server.Server object at 0x10512aaf0>
           │       └ <function run at 0x105156820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x108341340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10838d550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e2c40>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e2c...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x108605cd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10838d550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e2c40>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e2c...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e2c40>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e2c...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10860ab20>
          └ <fastapi.applications.FastAPI object at 0x108605cd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10894f670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e2c...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10860ab20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10894f670>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e2c...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x107a27af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e2c...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10860ab80>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10861ae50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e2c...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10860a970>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10860ab80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10861ae50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e2c...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x108605df0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10860a970>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10861ae50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e2c...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10797daf0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10861ae50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e2c...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x108608940>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10892f940>
                     └ <function get_request_handler.<locals>.app at 0x108608af0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10793c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1083613a0>, 'role_id': 'undefined'}
                 │         └ <function get_orgs at 0x108207670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10860f730>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ 'undefined'
                 │         │          └ <providers.psql_provider.DB object at 0x1083613a0>
                 │         └ <function query_orgs at 0x1081f3dc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 41, in query_orgs
    main_org_id = await db.fetch_value(sql_main.format(role_id=role_id))
                        │  │           │        │              └ 'undefined'
                        │  │           │        └ <method 'format' of 'str' objects>
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x107d95f70>
                        └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x107b871f0>
                   └ <PoolConnectionProxy [released] 0x108908730>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x107b741f0>
                 └ <asyncpg.connection.Connection object at 0x108910e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x108910e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x107b745e0>
                         └ <asyncpg.connection.Connection object at 0x108910e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x107b72700>
                 └ <asyncpg.connection.Connection object at 0x108910e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x108910e50>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "undefined"

2023-12-15 04:31:47.935 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57512 - "GET /orgs?role_id=undefined HTTP/1.1" 500
2023-12-15 04:31:47.953 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'undefined';
    
2023-12-15 04:31:47.959 | ERROR    | app.endpoints.orgs:get_orgs:23 - invalid input syntax for type uuid: "undefined"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1051199d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104e97430>
           └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104e8ba60>
    └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10512a9d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>
    │    └ <function subprocess_started at 0x10834d4c0>
    └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10512aaf0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x10833da60>
           │       │   └ <uvicorn.server.Server object at 0x10512aaf0>
           │       └ <function run at 0x105156820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x108341340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10838d550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089084f0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089084...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x108605cd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10838d550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089084f0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089084...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089084f0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089084...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10860ab20>
          └ <fastapi.applications.FastAPI object at 0x108605cd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10861ae50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089084...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10860ab20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10861ae50>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089084...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x107a27af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089084...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10860ab80>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x108de5d30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089084...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10860a970>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10860ab80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x108de5d30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089084...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x108605df0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10860a970>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x108de5d30>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089084...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10797daf0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x108de5d30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089084...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x108608940>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1086cf2b0>
                     └ <function get_request_handler.<locals>.app at 0x108608af0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10793c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1083613a0>, 'role_id': 'undefined'}
                 │         └ <function get_orgs at 0x108207670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10860f730>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ 'undefined'
                 │         │          └ <providers.psql_provider.DB object at 0x1083613a0>
                 │         └ <function query_orgs at 0x1081f3dc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 41, in query_orgs
    main_org_id = await db.fetch_value(sql_main.format(role_id=role_id))
                        │  │           │        │              └ 'undefined'
                        │  │           │        └ <method 'format' of 'str' objects>
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x107d95f70>
                        └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x107b871f0>
                   └ <PoolConnectionProxy [released] 0x10894c490>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x107b741f0>
                 └ <asyncpg.connection.Connection object at 0x108910b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x108910b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x107b745e0>
                         └ <asyncpg.connection.Connection object at 0x108910b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x107b72700>
                 └ <asyncpg.connection.Connection object at 0x108910b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x108910b80>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "undefined"

2023-12-15 04:31:47.964 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57514 - "GET /orgs?role_id=undefined HTTP/1.1" 500
2023-12-15 04:32:16.499 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'undefined';
    
2023-12-15 04:32:16.504 | ERROR    | app.endpoints.orgs:get_orgs:23 - invalid input syntax for type uuid: "undefined"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1051199d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104e97430>
           └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104e8ba60>
    └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10512a9d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>
    │    └ <function subprocess_started at 0x10834d4c0>
    └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10512aaf0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x10833da60>
           │       │   └ <uvicorn.server.Server object at 0x10512aaf0>
           │       └ <function run at 0x105156820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x108341340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10838d550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e2220>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e22...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x108605cd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10838d550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e2220>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e22...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e2220>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e22...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10860ab20>
          └ <fastapi.applications.FastAPI object at 0x108605cd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10861ae50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e22...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10860ab20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10861ae50>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e22...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x107a27af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e22...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10860ab80>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10894f670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e22...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10860a970>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10860ab80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10894f670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e22...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x108605df0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10860a970>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10894f670>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e22...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10797daf0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10894f670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086e22...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x108608940>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1086e2e80>
                     └ <function get_request_handler.<locals>.app at 0x108608af0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10793c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1083613a0>, 'role_id': 'undefined'}
                 │         └ <function get_orgs at 0x108207670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10860f730>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ 'undefined'
                 │         │          └ <providers.psql_provider.DB object at 0x1083613a0>
                 │         └ <function query_orgs at 0x1081f3dc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 41, in query_orgs
    main_org_id = await db.fetch_value(sql_main.format(role_id=role_id))
                        │  │           │        │              └ 'undefined'
                        │  │           │        └ <method 'format' of 'str' objects>
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x107d95f70>
                        └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x107b871f0>
                   └ <PoolConnectionProxy [released] 0x1086b49a0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x107b741f0>
                 └ <asyncpg.connection.Connection object at 0x108d3c9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x108d3c9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x107b745e0>
                         └ <asyncpg.connection.Connection object at 0x108d3c9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x107b72700>
                 └ <asyncpg.connection.Connection object at 0x108d3c9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x108d3c9a0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "undefined"

2023-12-15 04:32:16.531 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57638 - "GET /orgs?role_id=undefined HTTP/1.1" 500
2023-12-15 04:32:16.541 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'undefined';
    
2023-12-15 04:32:16.545 | ERROR    | app.endpoints.orgs:get_orgs:23 - invalid input syntax for type uuid: "undefined"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1051199d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104e97430>
           └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104e8ba60>
    └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10512a9d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>
    │    └ <function subprocess_started at 0x10834d4c0>
    └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10512aaf0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x10833da60>
           │       │   └ <uvicorn.server.Server object at 0x10512aaf0>
           │       └ <function run at 0x105156820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x108341340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10838d550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108908190>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089081...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x108605cd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10838d550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108908190>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089081...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108908190>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089081...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10860ab20>
          └ <fastapi.applications.FastAPI object at 0x108605cd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10894f670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089081...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10860ab20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10894f670>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089081...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x107a27af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089081...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10860ab80>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x108de59d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089081...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10860a970>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10860ab80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x108de59d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089081...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x108605df0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10860a970>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x108de59d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089081...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10797daf0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x108de59d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089081...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x108608940>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1086cf1c0>
                     └ <function get_request_handler.<locals>.app at 0x108608af0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10793c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1083613a0>, 'role_id': 'undefined'}
                 │         └ <function get_orgs at 0x108207670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10860f730>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ 'undefined'
                 │         │          └ <providers.psql_provider.DB object at 0x1083613a0>
                 │         └ <function query_orgs at 0x1081f3dc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 41, in query_orgs
    main_org_id = await db.fetch_value(sql_main.format(role_id=role_id))
                        │  │           │        │              └ 'undefined'
                        │  │           │        └ <method 'format' of 'str' objects>
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x107d95f70>
                        └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x107b871f0>
                   └ <PoolConnectionProxy [released] 0x10894c250>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x107b741f0>
                 └ <asyncpg.connection.Connection object at 0x108910d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x108910d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x107b745e0>
                         └ <asyncpg.connection.Connection object at 0x108910d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x107b72700>
                 └ <asyncpg.connection.Connection object at 0x108910d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x108910d60>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "undefined"

2023-12-15 04:32:16.555 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57640 - "GET /orgs?role_id=undefined HTTP/1.1" 500
2023-12-15 04:33:32.546 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'undefined';
    
2023-12-15 04:33:32.558 | ERROR    | app.endpoints.orgs:get_orgs:23 - invalid input syntax for type uuid: "undefined"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1051199d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104e97430>
           └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104e8ba60>
    └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10512a9d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>
    │    └ <function subprocess_started at 0x10834d4c0>
    └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10512aaf0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x10833da60>
           │       │   └ <uvicorn.server.Server object at 0x10512aaf0>
           │       └ <function run at 0x105156820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x108341340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10838d550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b41f0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b41...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x108605cd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10838d550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b41f0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b41...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b41f0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b41...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10860ab20>
          └ <fastapi.applications.FastAPI object at 0x108605cd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10894f670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b41...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10860ab20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10894f670>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b41...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x107a27af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b41...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10860ab80>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10861ae50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b41...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10860a970>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10860ab80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10861ae50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b41...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x108605df0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10860a970>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10861ae50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b41...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10797daf0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10861ae50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b41...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x108608940>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1086b47f0>
                     └ <function get_request_handler.<locals>.app at 0x108608af0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10793c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1083613a0>, 'role_id': 'undefined'}
                 │         └ <function get_orgs at 0x108207670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10860f730>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ 'undefined'
                 │         │          └ <providers.psql_provider.DB object at 0x1083613a0>
                 │         └ <function query_orgs at 0x1081f3dc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 41, in query_orgs
    main_org_id = await db.fetch_value(sql_main.format(role_id=role_id))
                        │  │           │        │              └ 'undefined'
                        │  │           │        └ <method 'format' of 'str' objects>
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x107d95f70>
                        └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x107b871f0>
                   └ <PoolConnectionProxy [released] 0x10861c8e0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x107b741f0>
                 └ <asyncpg.connection.Connection object at 0x108df7040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x108df7040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x107b745e0>
                         └ <asyncpg.connection.Connection object at 0x108df7040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x107b72700>
                 └ <asyncpg.connection.Connection object at 0x108df7040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x108df7040>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "undefined"

2023-12-15 04:33:32.579 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57953 - "GET /orgs?role_id=undefined HTTP/1.1" 500
2023-12-15 04:33:32.586 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'undefined';
    
2023-12-15 04:33:32.587 | ERROR    | app.endpoints.orgs:get_orgs:23 - invalid input syntax for type uuid: "undefined"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1051199d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104e97430>
           └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104e8ba60>
    └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10512a9d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>
    │    └ <function subprocess_started at 0x10834d4c0>
    └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10512aaf0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x10833da60>
           │       │   └ <uvicorn.server.Server object at 0x10512aaf0>
           │       └ <function run at 0x105156820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x108341340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10838d550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108908700>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089087...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x108605cd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10838d550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108908700>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089087...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108908700>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089087...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10860ab20>
          └ <fastapi.applications.FastAPI object at 0x108605cd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10861ae50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089087...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10860ab20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10861ae50>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089087...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x107a27af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089087...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10860ab80>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x108de50d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089087...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10860a970>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10860ab80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x108de50d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089087...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x108605df0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10860a970>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x108de50d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089087...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10797daf0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x108de50d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1089087...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x108608940>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x108616880>
                     └ <function get_request_handler.<locals>.app at 0x108608af0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10793c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1083613a0>, 'role_id': 'undefined'}
                 │         └ <function get_orgs at 0x108207670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10860f730>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ 'undefined'
                 │         │          └ <providers.psql_provider.DB object at 0x1083613a0>
                 │         └ <function query_orgs at 0x1081f3dc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 41, in query_orgs
    main_org_id = await db.fetch_value(sql_main.format(role_id=role_id))
                        │  │           │        │              └ 'undefined'
                        │  │           │        └ <method 'format' of 'str' objects>
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x107d95f70>
                        └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x107b871f0>
                   └ <PoolConnectionProxy [released] 0x1086290d0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x107b741f0>
                 └ <asyncpg.connection.Connection object at 0x108df78b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x108df78b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x107b745e0>
                         └ <asyncpg.connection.Connection object at 0x108df78b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x107b72700>
                 └ <asyncpg.connection.Connection object at 0x108df78b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x108df78b0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "undefined"

2023-12-15 04:33:32.593 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57955 - "GET /orgs?role_id=undefined HTTP/1.1" 500
2023-12-15 04:34:35.613 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'undefined';
    
2023-12-15 04:34:35.632 | ERROR    | app.endpoints.orgs:get_orgs:23 - invalid input syntax for type uuid: "undefined"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1051199d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104e97430>
           └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104e8ba60>
    └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10512a9d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>
    │    └ <function subprocess_started at 0x10834d4c0>
    └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10512aaf0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x10833da60>
           │       │   └ <uvicorn.server.Server object at 0x10512aaf0>
           │       └ <function run at 0x105156820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x108341340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10838d550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b4f40>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b4f...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x108605cd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10838d550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b4f40>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b4f...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b4f40>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b4f...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10860ab20>
          └ <fastapi.applications.FastAPI object at 0x108605cd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10861ae50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b4f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10860ab20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10861ae50>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b4f...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x107a27af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b4f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10860ab80>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10894f670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b4f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10860a970>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10860ab80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10894f670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b4f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x108605df0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10860a970>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10894f670>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b4f...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10797daf0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10894f670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b4f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x108608940>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1086b4250>
                     └ <function get_request_handler.<locals>.app at 0x108608af0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10793c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1083613a0>, 'role_id': 'undefined'}
                 │         └ <function get_orgs at 0x108207670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10860f730>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ 'undefined'
                 │         │          └ <providers.psql_provider.DB object at 0x1083613a0>
                 │         └ <function query_orgs at 0x1081f3dc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 41, in query_orgs
    main_org_id = await db.fetch_value(sql_main.format(role_id=role_id))
                        │  │           │        │              └ 'undefined'
                        │  │           │        └ <method 'format' of 'str' objects>
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x107d95f70>
                        └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x107b871f0>
                   └ <PoolConnectionProxy [released] 0x108908e50>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x107b741f0>
                 └ <asyncpg.connection.Connection object at 0x108df7a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x108df7a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x107b745e0>
                         └ <asyncpg.connection.Connection object at 0x108df7a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x107b72700>
                 └ <asyncpg.connection.Connection object at 0x108df7a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x108df7a90>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "undefined"

2023-12-15 04:34:35.659 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58213 - "GET /orgs?role_id=undefined HTTP/1.1" 500
2023-12-15 04:34:35.667 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'undefined';
    
2023-12-15 04:34:35.668 | ERROR    | app.endpoints.orgs:get_orgs:23 - invalid input syntax for type uuid: "undefined"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1051199d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104e97430>
           └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104e8ba60>
    └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10512a9d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>
    │    └ <function subprocess_started at 0x10834d4c0>
    └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10512aaf0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x10833da60>
           │       │   └ <uvicorn.server.Server object at 0x10512aaf0>
           │       └ <function run at 0x105156820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x108341340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10838d550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086c0880>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086c08...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x108605cd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10838d550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086c0880>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086c08...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086c0880>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086c08...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10860ab20>
          └ <fastapi.applications.FastAPI object at 0x108605cd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10894f670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086c08...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10860ab20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10894f670>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086c08...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x107a27af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086c08...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10860ab80>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x108de58b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086c08...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10860a970>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10860ab80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x108de58b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086c08...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x108605df0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10860a970>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x108de58b0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086c08...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10797daf0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x108de58b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086c08...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x108608940>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1086c0220>
                     └ <function get_request_handler.<locals>.app at 0x108608af0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10793c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1083613a0>, 'role_id': 'undefined'}
                 │         └ <function get_orgs at 0x108207670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10860f730>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ 'undefined'
                 │         │          └ <providers.psql_provider.DB object at 0x1083613a0>
                 │         └ <function query_orgs at 0x1081f3dc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 41, in query_orgs
    main_org_id = await db.fetch_value(sql_main.format(role_id=role_id))
                        │  │           │        │              └ 'undefined'
                        │  │           │        └ <method 'format' of 'str' objects>
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x107d95f70>
                        └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x107b871f0>
                   └ <PoolConnectionProxy [released] 0x10892f280>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x107b741f0>
                 └ <asyncpg.connection.Connection object at 0x108df77c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x108df77c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x107b745e0>
                         └ <asyncpg.connection.Connection object at 0x108df77c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x107b72700>
                 └ <asyncpg.connection.Connection object at 0x108df77c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x108df77c0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "undefined"

2023-12-15 04:34:35.674 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58215 - "GET /orgs?role_id=undefined HTTP/1.1" 500
2023-12-15 04:34:48.902 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'undefined';
    
2023-12-15 04:34:48.906 | ERROR    | app.endpoints.orgs:get_orgs:23 - invalid input syntax for type uuid: "undefined"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1051199d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104e97430>
           └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104e8ba60>
    └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10512a9d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>
    │    └ <function subprocess_started at 0x10834d4c0>
    └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10512aaf0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x10833da60>
           │       │   └ <uvicorn.server.Server object at 0x10512aaf0>
           │       └ <function run at 0x105156820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x108341340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10838d550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b4190>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b41...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x108605cd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10838d550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b4190>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b41...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b4190>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b41...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10860ab20>
          └ <fastapi.applications.FastAPI object at 0x108605cd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10894f670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b41...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10860ab20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10894f670>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b41...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x107a27af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b41...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10860ab80>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10861ae50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b41...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10860a970>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10860ab80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10861ae50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b41...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x108605df0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10860a970>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10861ae50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b41...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10797daf0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10861ae50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1086b41...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x108608940>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1086b4310>
                     └ <function get_request_handler.<locals>.app at 0x108608af0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10793c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1083613a0>, 'role_id': 'undefined'}
                 │         └ <function get_orgs at 0x108207670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10860f730>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ 'undefined'
                 │         │          └ <providers.psql_provider.DB object at 0x1083613a0>
                 │         └ <function query_orgs at 0x1081f3dc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 41, in query_orgs
    main_org_id = await db.fetch_value(sql_main.format(role_id=role_id))
                        │  │           │        │              └ 'undefined'
                        │  │           │        └ <method 'format' of 'str' objects>
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x107d95f70>
                        └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x107b871f0>
                   └ <PoolConnectionProxy [released] 0x1086c0d30>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x107b741f0>
                 └ <asyncpg.connection.Connection object at 0x108df75e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x108df75e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x107b745e0>
                         └ <asyncpg.connection.Connection object at 0x108df75e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x107b72700>
                 └ <asyncpg.connection.Connection object at 0x108df75e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x108df75e0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "undefined"

2023-12-15 04:34:48.931 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58277 - "GET /orgs?role_id=undefined HTTP/1.1" 500
2023-12-15 04:34:48.941 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'undefined';
    
2023-12-15 04:34:48.943 | ERROR    | app.endpoints.orgs:get_orgs:23 - invalid input syntax for type uuid: "undefined"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1051199d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104e97430>
           └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104e8ba60>
    └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10512a9d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>
    │    └ <function subprocess_started at 0x10834d4c0>
    └ <SpawnProcess name='SpawnProcess-16' parent=30063 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10512aaf0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x10833da60>
           │       │   └ <uvicorn.server.Server object at 0x10512aaf0>
           │       └ <function run at 0x105156820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x108341340>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10838d550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892f610>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892f6...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x108605cd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10838d550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892f610>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892f6...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892f610>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892f6...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10860ab20>
          └ <fastapi.applications.FastAPI object at 0x108605cd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10861ae50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892f6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10860ab20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10861ae50>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892f6...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x107a27af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892f6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10860ab80>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10860a9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10895a1f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892f6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10860a970>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10860ab80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10895a1f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892f6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x108605df0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10860a970>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10895a1f0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892f6...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10797daf0>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10895a1f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10892f6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x108608940>
          └ APIRoute(path='/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1086e2be0>
                     └ <function get_request_handler.<locals>.app at 0x108608af0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10793c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1083613a0>, 'role_id': 'undefined'}
                 │         └ <function get_orgs at 0x108207670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10860f730>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ 'undefined'
                 │         │          └ <providers.psql_provider.DB object at 0x1083613a0>
                 │         └ <function query_orgs at 0x1081f3dc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 41, in query_orgs
    main_org_id = await db.fetch_value(sql_main.format(role_id=role_id))
                        │  │           │        │              └ 'undefined'
                        │  │           │        └ <method 'format' of 'str' objects>
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x107d95f70>
                        └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x107b871f0>
                   └ <PoolConnectionProxy [released] 0x1086e2cd0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x107b741f0>
                 └ <asyncpg.connection.Connection object at 0x108df7400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x108df7400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x107b745e0>
                         └ <asyncpg.connection.Connection object at 0x108df7400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x107b72700>
                 └ <asyncpg.connection.Connection object at 0x108df7400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x108df7400>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "undefined"

2023-12-15 04:34:48.953 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58279 - "GET /orgs?role_id=undefined HTTP/1.1" 500
2023-12-15 04:35:14.228 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58385 - "OPTIONS /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:35:14.229 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58386 - "OPTIONS /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:35:14.260 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:35:14.276 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58385 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:35:14.285 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:35:14.292 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58386 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:35:23.675 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58427 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:35:23.676 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58428 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:35:23.689 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:35:23.692 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:35:23.699 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58427 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:35:23.712 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:35:23.719 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:35:23.728 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58428 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:35:55.269 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:35:55.273 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58573 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:35:55.282 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:35:55.287 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58573 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:37:20.803 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:37:20.812 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58922 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:37:20.825 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:37:20.832 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58924 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:37:57.485 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:37:57.528 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:37:57.530 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59079 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:37:57.551 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:37:57.556 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:37:57.561 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59081 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:38:37.188 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:38:37.198 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59246 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:38:37.213 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:38:37.219 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59248 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:38:42.378 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:38:42.381 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:38:42.385 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59270 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:38:42.395 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:38:42.400 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:38:42.406 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59272 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:39:09.999 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:39:10.005 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59393 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:39:10.029 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:39:10.046 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59393 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:39:25.643 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:39:25.707 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59464 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:39:25.717 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:39:25.733 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59464 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:39:50.106 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:39:50.110 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59579 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:39:50.116 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:39:50.120 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59581 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:40:43.867 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:40:43.871 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59809 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:40:43.880 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:40:43.890 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59811 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:41:27.504 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:41:27.509 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59997 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:41:27.516 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:41:27.525 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59999 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:41:42.057 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:41:42.069 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60064 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:41:42.077 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:41:42.084 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60066 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:41:47.700 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:41:47.706 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60095 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:41:47.716 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:41:47.720 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60097 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:42:32.587 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:42:32.591 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60286 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:42:32.601 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:42:32.630 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60286 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:43:21.325 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:43:21.329 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60288 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:43:21.335 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:43:21.339 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60288 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:44:21.035 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:44:21.052 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60490 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:44:21.068 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:44:21.082 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60750 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:46:04.233 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61190 - "OPTIONS /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:46:04.233 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61191 - "OPTIONS /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:46:04.243 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:46:04.247 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61191 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:46:04.279 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:46:04.288 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61190 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:46:19.041 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:46:19.047 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61256 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:46:19.057 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:46:19.061 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61256 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:46:26.352 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61258 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:46:26.355 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61293 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:46:26.366 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:46:26.369 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:46:26.374 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61258 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:46:26.381 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:46:26.387 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:46:26.393 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61293 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:47:51.249 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:47:51.252 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:47:51.255 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61637 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:47:51.265 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:47:51.267 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:47:51.269 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61639 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:47:55.555 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61637 - "OPTIONS /token?user_id=02804013-a550-4ee6-822c-c00a0f7d4985 HTTP/1.1" 200
2023-12-15 04:47:55.556 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61658 - "OPTIONS /token?user_id=02804013-a550-4ee6-822c-c00a0f7d4985 HTTP/1.1" 200
2023-12-15 04:47:55.603 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:47:55.604 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:47:55.612 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61639 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:47:55.612 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:47:55.630 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985'
        AND
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:47:55.642 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:47:55.651 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61637 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:47:55.654 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:47:55.656 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61658 - "GET /token?user_id=02804013-a550-4ee6-822c-c00a0f7d4985 HTTP/1.1" 200
2023-12-15 04:47:55.660 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:47:55.662 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 04:47:55.663 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985'
        AND
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:47:55.665 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:47:55.666 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61637 - "GET /token?user_id=02804013-a550-4ee6-822c-c00a0f7d4985 HTTP/1.1" 200
2023-12-15 04:48:40.591 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:48:40.609 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:48:40.613 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61848 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:48:40.635 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:48:40.639 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:48:40.642 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61850 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:48:43.816 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:48:43.835 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61850 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:48:43.849 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:48:43.856 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61848 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:49:47.861 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:49:47.864 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:49:47.866 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62126 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:49:47.872 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 04:49:47.875 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 04:49:47.877 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62128 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 04:49:47.945 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:49:47.950 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62128 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:49:47.956 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:49:47.960 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62126 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:49:51.668 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:49:51.694 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62126 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:49:51.704 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:49:51.708 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62128 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:58:37.754 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64363 - "OPTIONS /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:58:37.755 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64364 - "OPTIONS /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:58:37.785 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:58:37.794 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64363 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:58:37.811 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:58:37.814 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64363 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:58:39.237 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:58:39.253 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64363 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:58:39.261 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:58:39.268 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64364 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:59:06.966 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:59:06.981 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64493 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:59:07.003 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:59:07.005 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64495 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:59:20.826 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:59:20.833 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64561 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 04:59:20.850 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 04:59:20.855 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64563 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 05:00:40.139 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 05:00:40.145 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64897 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 05:00:40.180 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 05:00:40.189 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64899 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 05:00:49.984 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 05:00:49.987 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64950 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 05:00:49.996 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 05:00:50.000 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64952 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 05:01:17.499 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 05:01:17.504 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65077 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 05:01:17.517 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 05:01:17.521 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65079 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 05:01:39.545 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 05:01:39.560 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65178 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 05:01:39.574 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 05:01:39.578 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65178 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 05:03:23.038 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 05:03:23.061 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49220 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 05:03:23.092 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 05:03:23.096 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49222 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 05:05:34.725 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49767 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:05:34.726 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49768 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:05:34.747 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:05:34.752 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:05:34.759 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49767 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:05:34.769 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:05:34.776 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:05:34.780 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49768 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:05:38.377 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:05:38.398 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:05:38.406 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49768 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:05:38.415 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:05:38.419 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:05:38.425 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49767 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:05:46.303 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:05:46.311 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:05:46.318 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49828 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:05:46.326 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:05:46.343 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:05:46.350 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49830 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:05:53.442 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:05:53.449 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:05:53.465 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49862 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:05:53.472 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:05:53.475 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:05:53.484 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49864 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:06:02.152 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:06:02.172 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:06:02.177 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49905 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:06:02.205 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:06:02.210 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:06:02.218 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49907 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:08:07.788 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50419 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-15 05:08:07.788 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50420 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-15 05:08:07.789 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50421 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-15 05:08:07.791 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50422 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-15 05:08:07.794 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50423 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-15 05:08:07.795 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50424 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-15 05:08:07.807 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 05:08:07.808 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:08:07.812 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:08:07.813 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50419 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 05:08:07.814 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50421 - "GET /options/users HTTP/1.1" 200
2023-12-15 05:08:07.820 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50420 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:08:07.831 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 05:08:07.832 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:08:07.834 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:08:07.836 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50419 - "GET /options/users HTTP/1.1" 200
2023-12-15 05:08:07.838 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50421 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 05:08:07.838 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50424 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:08:59.331 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50636 - "OPTIONS /org HTTP/1.1" 200
2023-12-15 05:08:59.343 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO orgs (p_id, type, name)
    VALUES (
        '1b33d5f9-6655-492e-9ad0-ca8125f88b2c',
        '03',
        '支店007'
    )
    RETURNING id;
    
2023-12-15 05:08:59.348 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO roles (type, name)
    VALUES (
        '03',
        '支店管理者'
    )
    RETURNING id;
    
2023-12-15 05:08:59.353 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_org_rels (user_id, org_id, type)
    VALUES (
        '4df1a42a-dbb8-4bce-9be0-29cca28767ab',
        '94ef5080-bc13-4d6b-ba39-44e8839aad8a',
        '03'
    )
    
2023-12-15 05:08:59.360 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_role_rels (user_id, role_id)
    VALUES (
        '4df1a42a-dbb8-4bce-9be0-29cca28767ab',
        'dc90dce3-bb3d-4374-8a8f-8bfa7029c306'
    )
    
2023-12-15 05:08:59.362 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO org_role_rels (org_id, role_id)
    VALUES (
        '94ef5080-bc13-4d6b-ba39-44e8839aad8a',
        'dc90dce3-bb3d-4374-8a8f-8bfa7029c306'
    )
    
2023-12-15 05:08:59.365 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'dc90dce3-bb3d-4374-8a8f-8bfa7029c306',
            '8f63e587-b802-4cfd-8ead-d3423237b054'
        )
        
2023-12-15 05:08:59.369 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'dc90dce3-bb3d-4374-8a8f-8bfa7029c306',
            '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
        )
        
2023-12-15 05:08:59.371 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'dc90dce3-bb3d-4374-8a8f-8bfa7029c306',
            '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
        )
        
2023-12-15 05:08:59.373 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'dc90dce3-bb3d-4374-8a8f-8bfa7029c306',
            '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
        )
        
2023-12-15 05:08:59.375 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'dc90dce3-bb3d-4374-8a8f-8bfa7029c306',
            'dd96b563-2476-4904-a880-a2cffe1ea0ac'
        )
        
2023-12-15 05:08:59.377 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'dc90dce3-bb3d-4374-8a8f-8bfa7029c306',
            '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
        )
        
2023-12-15 05:08:59.380 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'dc90dce3-bb3d-4374-8a8f-8bfa7029c306',
            '2ca11194-6079-41e8-8b26-275aa42848fa'
        )
        
2023-12-15 05:08:59.383 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'dc90dce3-bb3d-4374-8a8f-8bfa7029c306',
            '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
        )
        
2023-12-15 05:08:59.385 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'dc90dce3-bb3d-4374-8a8f-8bfa7029c306',
            '58289de8-b6b7-4629-9016-58e5d30e89ee'
        )
        
2023-12-15 05:08:59.388 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'dc90dce3-bb3d-4374-8a8f-8bfa7029c306',
            '2065f63f-5e95-432e-9545-eed26715dc49'
        )
        
2023-12-15 05:08:59.392 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'dc90dce3-bb3d-4374-8a8f-8bfa7029c306',
            '55762da2-4d17-418e-b09f-e6249645ec18'
        )
        
2023-12-15 05:08:59.395 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'dc90dce3-bb3d-4374-8a8f-8bfa7029c306',
            'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
        )
        
2023-12-15 05:08:59.399 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'dc90dce3-bb3d-4374-8a8f-8bfa7029c306',
            'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
        )
        
2023-12-15 05:08:59.403 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'dc90dce3-bb3d-4374-8a8f-8bfa7029c306',
            'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7'
        )
        
2023-12-15 05:08:59.406 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50636 - "POST /org HTTP/1.1" 200
2023-12-15 05:08:59.706 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50636 - "OPTIONS /org/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:08:59.706 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50643 - "OPTIONS /options/users/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:08:59.706 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50644 - "OPTIONS /org/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:08:59.706 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50645 - "OPTIONS /options/users/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:08:59.714 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 05:08:59.715 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a';
    
2023-12-15 05:08:59.720 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:08:59.721 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50644 - "GET /options/users/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:08:59.724 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a';
    
2023-12-15 05:08:59.727 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a';
    
2023-12-15 05:08:59.728 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50645 - "GET /org/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:08:59.735 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 05:08:59.736 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:08:59.737 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50643 - "GET /options/users/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:08:59.738 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a';
    
2023-12-15 05:08:59.740 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50644 - "GET /org/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:09:02.902 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:09:02.906 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50644 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:09:02.917 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:09:02.922 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50643 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:09:13.333 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50706 - "OPTIONS /orgs/users/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:09:13.347 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 05:09:13.352 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a';
    
2023-12-15 05:09:13.361 | INFO     | providers.psql_provider:fetch_one:30 - 
        INSERT INTO roles (type, name)
        VALUES (
            '26',
            '営業担当者'
        )
        RETURNING id;
        
2023-12-15 05:09:13.364 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_org_rels (user_id, org_id, type)
        VALUES (
            '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a',
            '94ef5080-bc13-4d6b-ba39-44e8839aad8a',
            '26'
        )
        
2023-12-15 05:09:13.366 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_role_rels (user_id, role_id)
        VALUES (
            '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a',
            '744082e5-e814-4701-8514-3f56098e790f'
        )
        
2023-12-15 05:09:13.367 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO org_role_rels (org_id, role_id)
        VALUES (
            '94ef5080-bc13-4d6b-ba39-44e8839aad8a',
            '744082e5-e814-4701-8514-3f56098e790f'
        )
        
2023-12-15 05:09:13.371 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '744082e5-e814-4701-8514-3f56098e790f',
                '8f63e587-b802-4cfd-8ead-d3423237b054'
            )
            
2023-12-15 05:09:13.374 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '744082e5-e814-4701-8514-3f56098e790f',
                '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
            )
            
2023-12-15 05:09:13.380 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '744082e5-e814-4701-8514-3f56098e790f',
                '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
            )
            
2023-12-15 05:09:13.385 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '744082e5-e814-4701-8514-3f56098e790f',
                '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
            )
            
2023-12-15 05:09:13.387 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '744082e5-e814-4701-8514-3f56098e790f',
                'dd96b563-2476-4904-a880-a2cffe1ea0ac'
            )
            
2023-12-15 05:09:13.390 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50706 - "POST /orgs/users/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:09:13.402 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a';
    
2023-12-15 05:09:13.408 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:09:13.411 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50706 - "GET /options/users/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:09:13.428 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50706 - "OPTIONS /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:09:13.433 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50710 - "OPTIONS /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:09:13.441 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:09:13.441 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 05:09:13.443 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50709 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:09:13.465 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:09:13.467 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '744082e5-e814-4701-8514-3f56098e790f';

    
2023-12-15 05:09:13.471 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50710 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:09:13.472 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50706 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:09:13.481 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 05:09:13.485 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '744082e5-e814-4701-8514-3f56098e790f';

    
2023-12-15 05:09:13.488 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50710 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:09:16.549 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:09:16.552 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50710 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:09:16.563 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:09:16.567 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50706 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:09:21.382 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 05:09:21.417 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a';
    
2023-12-15 05:09:21.425 | INFO     | providers.psql_provider:fetch_one:30 - 
        INSERT INTO roles (type, name)
        VALUES (
            '25',
            '支店権限者'
        )
        RETURNING id;
        
2023-12-15 05:09:21.428 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_org_rels (user_id, org_id, type)
        VALUES (
            'cf3facb5-de15-4b25-8f13-c3cbe6db0a25',
            '94ef5080-bc13-4d6b-ba39-44e8839aad8a',
            '25'
        )
        
2023-12-15 05:09:21.435 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_role_rels (user_id, role_id)
        VALUES (
            'cf3facb5-de15-4b25-8f13-c3cbe6db0a25',
            '42737054-1e0a-4f4e-97dd-fe294d14d1a3'
        )
        
2023-12-15 05:09:21.437 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO org_role_rels (org_id, role_id)
        VALUES (
            '94ef5080-bc13-4d6b-ba39-44e8839aad8a',
            '42737054-1e0a-4f4e-97dd-fe294d14d1a3'
        )
        
2023-12-15 05:09:21.439 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '42737054-1e0a-4f4e-97dd-fe294d14d1a3',
                '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
            )
            
2023-12-15 05:09:21.440 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50706 - "POST /orgs/users/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:09:21.454 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a';
    
2023-12-15 05:09:21.459 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:09:21.462 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50706 - "GET /options/users/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:09:21.478 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50706 - "OPTIONS /user/role/permissions?user_id=cf3facb5-de15-4b25-8f13-c3cbe6db0a25&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:09:21.482 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50753 - "OPTIONS /user/role/permissions?user_id=cf3facb5-de15-4b25-8f13-c3cbe6db0a25&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:09:21.493 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:09:21.494 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = 'cf3facb5-de15-4b25-8f13-c3cbe6db0a25';
    
2023-12-15 05:09:21.497 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50710 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:09:21.511 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:09:21.514 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '42737054-1e0a-4f4e-97dd-fe294d14d1a3';

    
2023-12-15 05:09:21.517 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50753 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:09:21.518 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50706 - "GET /user/role/permissions?user_id=cf3facb5-de15-4b25-8f13-c3cbe6db0a25&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:09:21.528 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = 'cf3facb5-de15-4b25-8f13-c3cbe6db0a25';
    
2023-12-15 05:09:21.533 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '42737054-1e0a-4f4e-97dd-fe294d14d1a3';

    
2023-12-15 05:09:21.538 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50710 - "GET /user/role/permissions?user_id=cf3facb5-de15-4b25-8f13-c3cbe6db0a25&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:09:24.890 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50710 - "OPTIONS /org/users/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:09:24.901 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            id
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
            AND
            user_role_rels.user_id = 'cf3facb5-de15-4b25-8f13-c3cbe6db0a25';
        
2023-12-15 05:09:24.906 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = 'cf3facb5-de15-4b25-8f13-c3cbe6db0a25';
    
2023-12-15 05:09:24.908 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '42737054-1e0a-4f4e-97dd-fe294d14d1a3';

    
2023-12-15 05:09:24.911 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_org_rels
        WHERE
            user_org_rels.user_id = 'cf3facb5-de15-4b25-8f13-c3cbe6db0a25'
            AND
            user_org_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a';
        
2023-12-15 05:09:24.916 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_role_rels
        WHERE
            user_role_rels.user_id = 'cf3facb5-de15-4b25-8f13-c3cbe6db0a25'
            AND
            user_role_rels.role_id = '42737054-1e0a-4f4e-97dd-fe294d14d1a3';
        
2023-12-15 05:09:24.917 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM org_role_rels
        WHERE
            org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
            AND
            org_role_rels.role_id = '42737054-1e0a-4f4e-97dd-fe294d14d1a3';
        
2023-12-15 05:09:24.919 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '42737054-1e0a-4f4e-97dd-fe294d14d1a3'
                AND
                permission_id = '55ba3199-c673-49d8-8001-9b5f3b2b33dc';
            
2023-12-15 05:09:24.920 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM roles WHERE id = '42737054-1e0a-4f4e-97dd-fe294d14d1a3';
        
2023-12-15 05:09:24.925 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50710 - "POST /org/users/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:09:24.942 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a';
    
2023-12-15 05:09:24.947 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:09:24.950 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50710 - "GET /options/users/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:09:26.700 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:09:26.702 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:09:26.706 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50710 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:09:26.713 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:09:26.716 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:09:26.721 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50787 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:09:28.451 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a';
    
2023-12-15 05:09:28.451 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 05:09:28.461 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a';
    
2023-12-15 05:09:28.465 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:09:28.468 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50787 - "GET /org/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:09:28.470 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50710 - "GET /options/users/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:09:28.482 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 05:09:28.483 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a';
    
2023-12-15 05:09:28.513 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:09:28.514 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 05:09:28.518 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '744082e5-e814-4701-8514-3f56098e790f';

    
2023-12-15 05:09:28.519 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a';
    
2023-12-15 05:09:28.521 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:09:28.523 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50799 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:09:28.529 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50796 - "GET /org/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:09:28.530 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50710 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:09:28.531 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50787 - "GET /options/users/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:09:28.539 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:09:28.540 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 05:09:28.546 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50804 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:09:28.549 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '744082e5-e814-4701-8514-3f56098e790f';

    
2023-12-15 05:09:28.551 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50799 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:10:33.808 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:10:33.816 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:10:33.820 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51076 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:10:33.829 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:10:33.832 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:10:33.837 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51076 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:10:53.243 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:10:53.252 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:10:53.261 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51078 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:10:53.279 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:10:53.301 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:10:53.303 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51168 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:11:18.076 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:11:18.078 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 05:11:18.079 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51276 - "GET /options/users HTTP/1.1" 200
2023-12-15 05:11:18.085 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51274 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 05:11:18.086 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:11:18.089 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:11:18.090 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51277 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:11:18.094 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51282 - "GET /options/users HTTP/1.1" 200
2023-12-15 05:11:18.095 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 05:11:18.097 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51276 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 05:11:18.097 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:11:18.098 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51274 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:11:40.914 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO orgs (p_id, type, name)
    VALUES (
        '36944519-1255-490f-a310-b57ed8abe0f2',
        '03',
        '支店011'
    )
    RETURNING id;
    
2023-12-15 05:11:40.920 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO roles (type, name)
    VALUES (
        '03',
        '支店管理者'
    )
    RETURNING id;
    
2023-12-15 05:11:40.923 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_org_rels (user_id, org_id, type)
    VALUES (
        'a2884f9c-39b3-42f8-81f0-35cce07241d6',
        '1e504872-30e4-4f56-b1bc-ecf246afea43',
        '03'
    )
    
2023-12-15 05:11:40.925 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_role_rels (user_id, role_id)
    VALUES (
        'a2884f9c-39b3-42f8-81f0-35cce07241d6',
        'ff7cc923-70bd-4a8c-8ff6-3a5fdc49df46'
    )
    
2023-12-15 05:11:40.930 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO org_role_rels (org_id, role_id)
    VALUES (
        '1e504872-30e4-4f56-b1bc-ecf246afea43',
        'ff7cc923-70bd-4a8c-8ff6-3a5fdc49df46'
    )
    
2023-12-15 05:11:40.933 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'ff7cc923-70bd-4a8c-8ff6-3a5fdc49df46',
            '8f63e587-b802-4cfd-8ead-d3423237b054'
        )
        
2023-12-15 05:11:40.936 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'ff7cc923-70bd-4a8c-8ff6-3a5fdc49df46',
            '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
        )
        
2023-12-15 05:11:40.937 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'ff7cc923-70bd-4a8c-8ff6-3a5fdc49df46',
            '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
        )
        
2023-12-15 05:11:40.939 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'ff7cc923-70bd-4a8c-8ff6-3a5fdc49df46',
            '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
        )
        
2023-12-15 05:11:40.941 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'ff7cc923-70bd-4a8c-8ff6-3a5fdc49df46',
            'dd96b563-2476-4904-a880-a2cffe1ea0ac'
        )
        
2023-12-15 05:11:40.943 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'ff7cc923-70bd-4a8c-8ff6-3a5fdc49df46',
            '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
        )
        
2023-12-15 05:11:40.945 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'ff7cc923-70bd-4a8c-8ff6-3a5fdc49df46',
            '2ca11194-6079-41e8-8b26-275aa42848fa'
        )
        
2023-12-15 05:11:40.946 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'ff7cc923-70bd-4a8c-8ff6-3a5fdc49df46',
            '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
        )
        
2023-12-15 05:11:40.948 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'ff7cc923-70bd-4a8c-8ff6-3a5fdc49df46',
            '58289de8-b6b7-4629-9016-58e5d30e89ee'
        )
        
2023-12-15 05:11:40.950 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'ff7cc923-70bd-4a8c-8ff6-3a5fdc49df46',
            '2065f63f-5e95-432e-9545-eed26715dc49'
        )
        
2023-12-15 05:11:40.952 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'ff7cc923-70bd-4a8c-8ff6-3a5fdc49df46',
            '55762da2-4d17-418e-b09f-e6249645ec18'
        )
        
2023-12-15 05:11:40.953 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'ff7cc923-70bd-4a8c-8ff6-3a5fdc49df46',
            'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
        )
        
2023-12-15 05:11:40.959 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'ff7cc923-70bd-4a8c-8ff6-3a5fdc49df46',
            'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
        )
        
2023-12-15 05:11:40.962 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'ff7cc923-70bd-4a8c-8ff6-3a5fdc49df46',
            'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7'
        )
        
2023-12-15 05:11:40.964 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51375 - "POST /org HTTP/1.1" 200
2023-12-15 05:11:42.035 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51375 - "OPTIONS /org/1e504872-30e4-4f56-b1bc-ecf246afea43 HTTP/1.1" 200
2023-12-15 05:11:42.036 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51383 - "OPTIONS /options/users/1e504872-30e4-4f56-b1bc-ecf246afea43 HTTP/1.1" 200
2023-12-15 05:11:42.037 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51384 - "OPTIONS /org/1e504872-30e4-4f56-b1bc-ecf246afea43 HTTP/1.1" 200
2023-12-15 05:11:42.037 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51385 - "OPTIONS /options/users/1e504872-30e4-4f56-b1bc-ecf246afea43 HTTP/1.1" 200
2023-12-15 05:11:42.044 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1e504872-30e4-4f56-b1bc-ecf246afea43'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 05:11:42.044 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1e504872-30e4-4f56-b1bc-ecf246afea43';
    
2023-12-15 05:11:42.046 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:11:42.048 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51383 - "GET /options/users/1e504872-30e4-4f56-b1bc-ecf246afea43 HTTP/1.1" 200
2023-12-15 05:11:42.051 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1e504872-30e4-4f56-b1bc-ecf246afea43';
    
2023-12-15 05:11:42.053 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1e504872-30e4-4f56-b1bc-ecf246afea43';
    
2023-12-15 05:11:42.054 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:11:42.055 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51375 - "GET /org/1e504872-30e4-4f56-b1bc-ecf246afea43 HTTP/1.1" 200
2023-12-15 05:11:42.056 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51385 - "GET /options/users/1e504872-30e4-4f56-b1bc-ecf246afea43 HTTP/1.1" 200
2023-12-15 05:11:42.062 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1e504872-30e4-4f56-b1bc-ecf246afea43'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 05:11:42.064 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1e504872-30e4-4f56-b1bc-ecf246afea43';
    
2023-12-15 05:11:42.070 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51383 - "GET /org/1e504872-30e4-4f56-b1bc-ecf246afea43 HTTP/1.1" 200
2023-12-15 05:11:44.877 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:11:44.879 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:11:44.882 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51383 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:11:44.888 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:11:44.892 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:11:44.895 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51385 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:11:46.151 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51385 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:11:46.152 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51383 - "OPTIONS /options/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:11:46.152 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51375 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:11:46.153 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51384 - "OPTIONS /options/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:11:46.178 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 05:11:46.183 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:11:46.186 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51375 - "GET /options/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:11:46.186 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 05:11:46.196 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 05:11:46.196 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 05:11:46.206 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51375 - "OPTIONS /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:11:46.211 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51417 - "OPTIONS /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:11:46.214 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51384 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:11:46.216 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:11:46.218 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:11:46.218 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 05:11:46.218 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51385 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:11:46.219 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 05:11:46.220 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51383 - "GET /options/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:11:46.222 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:11:46.223 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 05:11:46.223 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 05:11:46.224 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51417 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:11:46.224 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51375 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:11:46.226 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51384 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:11:46.230 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 05:11:46.231 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 05:11:46.232 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51417 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:11:48.952 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:11:48.957 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:11:48.964 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51417 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:11:48.973 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:11:48.977 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:11:48.984 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51384 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:11:55.548 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 05:11:55.548 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a';
    
2023-12-15 05:11:55.550 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a';
    
2023-12-15 05:11:55.554 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51465 - "GET /org/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:11:55.560 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:11:55.562 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51466 - "GET /options/users/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:11:55.562 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 05:11:55.569 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a';
    
2023-12-15 05:11:55.572 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a';
    
2023-12-15 05:11:55.579 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51470 - "GET /org/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:11:55.580 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:11:55.584 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51465 - "GET /options/users/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:11:55.585 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 05:11:55.586 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:11:55.589 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51475 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:11:55.589 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '744082e5-e814-4701-8514-3f56098e790f';

    
2023-12-15 05:11:55.594 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51466 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:11:55.600 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:11:55.602 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51465 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:11:55.603 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 05:11:55.605 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '744082e5-e814-4701-8514-3f56098e790f';

    
2023-12-15 05:11:55.607 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51475 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 05:12:01.868 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:12:01.875 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:12:01.880 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51504 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:12:01.891 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:12:01.896 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:12:01.906 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51506 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:12:02.225 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 05:12:02.225 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 05:12:02.229 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:12:02.235 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51504 - "GET /options/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:12:02.244 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 05:12:02.247 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 05:12:02.251 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51506 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:12:02.265 | ERROR    | app.endpoints.users:get_user_permissions:45 - sorry, too many clients alreadyTraceback (most recent call last):

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1083613a0>, 'user_id': '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a', 'org_id': '1b33...
                 │         └ <function get_user_permissions at 0x10820b5e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10861c550>

> File "/Users/ryu/loan-ledger-if/app/endpoints/users.py", line 39, in get_user_permissions
    role_permissions = await users_crud.query_user_role_permissions(db, user_id, org_id)
                             │          │                           │   │        └ '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
                             │          │                           │   └ '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a'
                             │          │                           └ <providers.psql_provider.DB object at 0x1083613a0>
                             │          └ <function query_user_role_permissions at 0x1081f0b80>
                             └ <module 'app.crud.users_crud' from '/Users/ryu/loan-ledger-if/app/crud/users_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/users_crud.py", line 58, in query_user_role_permissions
    role = await db.fetch_one(sql)
                 │  │         └ "\n    SELECT\n        id,\n        type\n    FROM\n        roles\n    JOIN\n        org_role_rels\n        ON\n        org_r...
                 │  └ <function DB.fetch_one at 0x107d95d30>
                 └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 27, in fetch_one
    await self.connect()
          │    └ <function DB.connect at 0x107d95ca0>
          └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 21, in connect
    self._connection_pool = await create_pool(
    │    │                        └ <function create_pool at 0x107b7f5e0>
    │    └ None
    └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 403, in _async__init__
    await self._initialize()
          │    └ <function Pool._initialize at 0x107b8b5e0>
          └ <asyncpg.pool.Pool object at 0x108ef05c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 430, in _initialize
    await first_ch.connect()
          │        └ <function PoolConnectionHolder.connect at 0x107b87e50>
          └ <asyncpg.pool.PoolConnectionHolder object at 0x108ef5ec0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 128, in connect
    self._con = await self._pool._get_new_connection()
    │    │            │    └ <member '_pool' of 'PoolConnectionHolder' objects>
    │    │            └ <asyncpg.pool.PoolConnectionHolder object at 0x108ef5ec0>
    │    └ <member '_con' of 'PoolConnectionHolder' objects>
    └ <asyncpg.pool.PoolConnectionHolder object at 0x108ef5ec0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 502, in _get_new_connection
    con = await connection.connect(
                │          └ <function connect at 0x107a5aa60>
                └ <module 'asyncpg.connection' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/as...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 2329, in connect
    return await connect_utils._connect(
                 │             └ <function _connect at 0x107b5a9d0>
                 └ <module 'asyncpg.connect_utils' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 991, in _connect
    conn = await _connect_addr(
                 └ <function _connect_addr at 0x107b5a3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 828, in _connect_addr
    return await __connect_addr(params, True, *args)
                 │              │              └ (('localhost', 5432), <uvloop.Loop running=True closed=False debug=False>, ConnectionConfiguration(command_timeout=60.0, stat...
                 │              └ ConnectionParameters(user='postgres', password='postgres', database='loan-ledger', ssl=<ssl.SSLContext object at 0x108f002c0>...
                 └ <function __connect_addr at 0x107b5a430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 876, in __connect_addr
    await connected
          └ <Future finished exception=TooManyConnectionsError('sorry, too many clients already')>

asyncpg.exceptions.TooManyConnectionsError: sorry, too many clients already

2023-12-15 05:12:02.274 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51515 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 500
2023-12-15 05:12:02.276 | ERROR    | app.endpoints.options:user_optins:41 - sorry, too many clients alreadyTraceback (most recent call last):

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1083613a0>, 'org_id': '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'}
                 │         └ <function user_optins at 0x108217670>
                 └ <fastapi.dependencies.models.Dependant object at 0x108629f70>

> File "/Users/ryu/loan-ledger-if/app/endpoints/options.py", line 34, in user_optins
    user_optins = await options_crud.qyery_user_optins_with_type(db, org_id)
                        │            │                           │   └ '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
                        │            │                           └ <providers.psql_provider.DB object at 0x1083613a0>
                        │            └ <function qyery_user_optins_with_type at 0x1082173a0>
                        └ <module 'app.crud.options_crud' from '/Users/ryu/loan-ledger-if/app/crud/options_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/options_crud.py", line 42, in qyery_user_optins_with_type
    all_users = await qyery_user_optins(db)
                      │                 └ <providers.psql_provider.DB object at 0x1083613a0>
                      └ <function qyery_user_optins at 0x108217430>

  File "/Users/ryu/loan-ledger-if/app/crud/options_crud.py", line 16, in qyery_user_optins
    return await db.fetch_all(sql)
                 │  │         └ '\n    SELECT\n        users.id,\n        users.last_name,\n        users.first_name,\n        users.email\n    FROM\n       ...
                 │  └ <function DB.fetch_all at 0x107d95c10>
                 └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 36, in fetch_all
    await self.connect()
          │    └ <function DB.connect at 0x107d95ca0>
          └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 21, in connect
    self._connection_pool = await create_pool(
    │    │                        └ <function create_pool at 0x107b7f5e0>
    │    └ None
    └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 403, in _async__init__
    await self._initialize()
          │    └ <function Pool._initialize at 0x107b8b5e0>
          └ <asyncpg.pool.Pool object at 0x108ef0b40>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 430, in _initialize
    await first_ch.connect()
          │        └ <function PoolConnectionHolder.connect at 0x107b87e50>
          └ <asyncpg.pool.PoolConnectionHolder object at 0x108f09740>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 128, in connect
    self._con = await self._pool._get_new_connection()
    │    │            │    └ <member '_pool' of 'PoolConnectionHolder' objects>
    │    │            └ <asyncpg.pool.PoolConnectionHolder object at 0x108f09740>
    │    └ <member '_con' of 'PoolConnectionHolder' objects>
    └ <asyncpg.pool.PoolConnectionHolder object at 0x108f09740>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 502, in _get_new_connection
    con = await connection.connect(
                │          └ <function connect at 0x107a5aa60>
                └ <module 'asyncpg.connection' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/as...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 2329, in connect
    return await connect_utils._connect(
                 │             └ <function _connect at 0x107b5a9d0>
                 └ <module 'asyncpg.connect_utils' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 991, in _connect
    conn = await _connect_addr(
                 └ <function _connect_addr at 0x107b5a3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 828, in _connect_addr
    return await __connect_addr(params, True, *args)
                 │              │              └ (('localhost', 5432), <uvloop.Loop running=True closed=False debug=False>, ConnectionConfiguration(command_timeout=60.0, stat...
                 │              └ ConnectionParameters(user='postgres', password='postgres', database='loan-ledger', ssl=<ssl.SSLContext object at 0x108f09ac0>...
                 └ <function __connect_addr at 0x107b5a430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 876, in __connect_addr
    await connected
          └ <Future finished exception=TooManyConnectionsError('sorry, too many clients already')>

asyncpg.exceptions.TooManyConnectionsError: sorry, too many clients already

2023-12-15 05:12:02.280 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51504 - "GET /options/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 500
2023-12-15 05:12:02.280 | ERROR    | app.endpoints.orgs:get_org:57 - sorry, too many clients alreadyTraceback (most recent call last):

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1083613a0>, 'org_id': '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'}
                 │         └ <function get_org at 0x1082014c0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10860f400>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
                │         │         └ <providers.psql_provider.DB object at 0x1083613a0>
                │         └ <function query_org at 0x1082073a0>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 157, in query_org
    org_basic = await db.fetch_one(sql)
                      │  │         └ "\n    SELECT\n        orgs.p_id,\n        orgs.name,\n        orgs.remark,\n        orgs.type,\n        user_org_rels.user_i...
                      │  └ <function DB.fetch_one at 0x107d95d30>
                      └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 27, in fetch_one
    await self.connect()
          │    └ <function DB.connect at 0x107d95ca0>
          └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 21, in connect
    self._connection_pool = await create_pool(
    │    │                        └ <function create_pool at 0x107b7f5e0>
    │    └ None
    └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 403, in _async__init__
    await self._initialize()
          │    └ <function Pool._initialize at 0x107b8b5e0>
          └ <asyncpg.pool.Pool object at 0x108ef09e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 430, in _initialize
    await first_ch.connect()
          │        └ <function PoolConnectionHolder.connect at 0x107b87e50>
          └ <asyncpg.pool.PoolConnectionHolder object at 0x108f08ec0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 128, in connect
    self._con = await self._pool._get_new_connection()
    │    │            │    └ <member '_pool' of 'PoolConnectionHolder' objects>
    │    │            └ <asyncpg.pool.PoolConnectionHolder object at 0x108f08ec0>
    │    └ <member '_con' of 'PoolConnectionHolder' objects>
    └ <asyncpg.pool.PoolConnectionHolder object at 0x108f08ec0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 502, in _get_new_connection
    con = await connection.connect(
                │          └ <function connect at 0x107a5aa60>
                └ <module 'asyncpg.connection' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/as...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 2329, in connect
    return await connect_utils._connect(
                 │             └ <function _connect at 0x107b5a9d0>
                 └ <module 'asyncpg.connect_utils' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 991, in _connect
    conn = await _connect_addr(
                 └ <function _connect_addr at 0x107b5a3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 828, in _connect_addr
    return await __connect_addr(params, True, *args)
                 │              │              └ (('localhost', 5432), <uvloop.Loop running=True closed=False debug=False>, ConnectionConfiguration(command_timeout=60.0, stat...
                 │              └ ConnectionParameters(user='postgres', password='postgres', database='loan-ledger', ssl=<ssl.SSLContext object at 0x108f092c0>...
                 └ <function __connect_addr at 0x107b5a430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 876, in __connect_addr
    await connected
          └ <Future finished exception=TooManyConnectionsError('sorry, too many clients already')>

asyncpg.exceptions.TooManyConnectionsError: sorry, too many clients already

2023-12-15 05:12:02.282 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51518 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 500
2023-12-15 05:12:02.282 | ERROR    | app.endpoints.options:permission_optins:77 - sorry, too many clients alreadyTraceback (most recent call last):

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1083613a0>}
                 │         └ <function permission_optins at 0x108217f70>
                 └ <fastapi.dependencies.models.Dependant object at 0x1086235e0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/options.py", line 70, in permission_optins
    permission_optins = await options_crud.query_permission_optins(db)
                              │            │                       └ <providers.psql_provider.DB object at 0x1083613a0>
                              │            └ <function query_permission_optins at 0x108217160>
                              └ <module 'app.crud.options_crud' from '/Users/ryu/loan-ledger-if/app/crud/options_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/options_crud.py", line 76, in query_permission_optins
    return await db.fetch_all(sql)
                 │  │         └ '\n    SELECT\n        id,\n        name\n    FROM\n        permissions;\n    '
                 │  └ <function DB.fetch_all at 0x107d95c10>
                 └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 36, in fetch_all
    await self.connect()
          │    └ <function DB.connect at 0x107d95ca0>
          └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 21, in connect
    self._connection_pool = await create_pool(
    │    │                        └ <function create_pool at 0x107b7f5e0>
    │    └ None
    └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 403, in _async__init__
    await self._initialize()
          │    └ <function Pool._initialize at 0x107b8b5e0>
          └ <asyncpg.pool.Pool object at 0x108ef07d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 430, in _initialize
    await first_ch.connect()
          │        └ <function PoolConnectionHolder.connect at 0x107b87e50>
          └ <asyncpg.pool.PoolConnectionHolder object at 0x108f06540>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 128, in connect
    self._con = await self._pool._get_new_connection()
    │    │            │    └ <member '_pool' of 'PoolConnectionHolder' objects>
    │    │            └ <asyncpg.pool.PoolConnectionHolder object at 0x108f06540>
    │    └ <member '_con' of 'PoolConnectionHolder' objects>
    └ <asyncpg.pool.PoolConnectionHolder object at 0x108f06540>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 502, in _get_new_connection
    con = await connection.connect(
                │          └ <function connect at 0x107a5aa60>
                └ <module 'asyncpg.connection' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/as...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 2329, in connect
    return await connect_utils._connect(
                 │             └ <function _connect at 0x107b5a9d0>
                 └ <module 'asyncpg.connect_utils' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 991, in _connect
    conn = await _connect_addr(
                 └ <function _connect_addr at 0x107b5a3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 828, in _connect_addr
    return await __connect_addr(params, True, *args)
                 │              │              └ (('localhost', 5432), <uvloop.Loop running=True closed=False debug=False>, ConnectionConfiguration(command_timeout=60.0, stat...
                 │              └ ConnectionParameters(user='postgres', password='postgres', database='loan-ledger', ssl=<ssl.SSLContext object at 0x108f068c0>...
                 └ <function __connect_addr at 0x107b5a430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 876, in __connect_addr
    await connected
          └ <Future finished exception=TooManyConnectionsError('sorry, too many clients already')>

asyncpg.exceptions.TooManyConnectionsError: sorry, too many clients already

2023-12-15 05:12:02.284 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51517 - "GET /options/permissions HTTP/1.1" 500
2023-12-15 05:12:02.288 | ERROR    | app.endpoints.users:get_user_permissions:45 - sorry, too many clients alreadyTraceback (most recent call last):

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1083613a0>, 'user_id': '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a', 'org_id': '1b33...
                 │         └ <function get_user_permissions at 0x10820b5e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10861c550>

> File "/Users/ryu/loan-ledger-if/app/endpoints/users.py", line 39, in get_user_permissions
    role_permissions = await users_crud.query_user_role_permissions(db, user_id, org_id)
                             │          │                           │   │        └ '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
                             │          │                           │   └ '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a'
                             │          │                           └ <providers.psql_provider.DB object at 0x1083613a0>
                             │          └ <function query_user_role_permissions at 0x1081f0b80>
                             └ <module 'app.crud.users_crud' from '/Users/ryu/loan-ledger-if/app/crud/users_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/users_crud.py", line 58, in query_user_role_permissions
    role = await db.fetch_one(sql)
                 │  │         └ "\n    SELECT\n        id,\n        type\n    FROM\n        roles\n    JOIN\n        org_role_rels\n        ON\n        org_r...
                 │  └ <function DB.fetch_one at 0x107d95d30>
                 └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 27, in fetch_one
    await self.connect()
          │    └ <function DB.connect at 0x107d95ca0>
          └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 21, in connect
    self._connection_pool = await create_pool(
    │    │                        └ <function create_pool at 0x107b7f5e0>
    │    └ None
    └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 403, in _async__init__
    await self._initialize()
          │    └ <function Pool._initialize at 0x107b8b5e0>
          └ <asyncpg.pool.Pool object at 0x108f3f460>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 430, in _initialize
    await first_ch.connect()
          │        └ <function PoolConnectionHolder.connect at 0x107b87e50>
          └ <asyncpg.pool.PoolConnectionHolder object at 0x108f3d9c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 128, in connect
    self._con = await self._pool._get_new_connection()
    │    │            │    └ <member '_pool' of 'PoolConnectionHolder' objects>
    │    │            └ <asyncpg.pool.PoolConnectionHolder object at 0x108f3d9c0>
    │    └ <member '_con' of 'PoolConnectionHolder' objects>
    └ <asyncpg.pool.PoolConnectionHolder object at 0x108f3d9c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 502, in _get_new_connection
    con = await connection.connect(
                │          └ <function connect at 0x107a5aa60>
                └ <module 'asyncpg.connection' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/as...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 2329, in connect
    return await connect_utils._connect(
                 │             └ <function _connect at 0x107b5a9d0>
                 └ <module 'asyncpg.connect_utils' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 991, in _connect
    conn = await _connect_addr(
                 └ <function _connect_addr at 0x107b5a3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 828, in _connect_addr
    return await __connect_addr(params, True, *args)
                 │              │              └ (('localhost', 5432), <uvloop.Loop running=True closed=False debug=False>, ConnectionConfiguration(command_timeout=60.0, stat...
                 │              └ ConnectionParameters(user='postgres', password='postgres', database='loan-ledger', ssl=<ssl.SSLContext object at 0x108f3dd40>...
                 └ <function __connect_addr at 0x107b5a430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 876, in __connect_addr
    await connected
          └ <Future finished exception=TooManyConnectionsError('sorry, too many clients already')>

asyncpg.exceptions.TooManyConnectionsError: sorry, too many clients already

2023-12-15 05:12:02.290 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51506 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 500
2023-12-15 05:12:02.290 | ERROR    | app.endpoints.options:permission_optins:77 - sorry, too many clients alreadyTraceback (most recent call last):

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1083613a0>}
                 │         └ <function permission_optins at 0x108217f70>
                 └ <fastapi.dependencies.models.Dependant object at 0x1086235e0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/options.py", line 70, in permission_optins
    permission_optins = await options_crud.query_permission_optins(db)
                              │            │                       └ <providers.psql_provider.DB object at 0x1083613a0>
                              │            └ <function query_permission_optins at 0x108217160>
                              └ <module 'app.crud.options_crud' from '/Users/ryu/loan-ledger-if/app/crud/options_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/options_crud.py", line 76, in query_permission_optins
    return await db.fetch_all(sql)
                 │  │         └ '\n    SELECT\n        id,\n        name\n    FROM\n        permissions;\n    '
                 │  └ <function DB.fetch_all at 0x107d95c10>
                 └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 36, in fetch_all
    await self.connect()
          │    └ <function DB.connect at 0x107d95ca0>
          └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 21, in connect
    self._connection_pool = await create_pool(
    │    │                        └ <function create_pool at 0x107b7f5e0>
    │    └ None
    └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 403, in _async__init__
    await self._initialize()
          │    └ <function Pool._initialize at 0x107b8b5e0>
          └ <asyncpg.pool.Pool object at 0x108f3fd50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 430, in _initialize
    await first_ch.connect()
          │        └ <function PoolConnectionHolder.connect at 0x107b87e50>
          └ <asyncpg.pool.PoolConnectionHolder object at 0x108f085c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 128, in connect
    self._con = await self._pool._get_new_connection()
    │    │            │    └ <member '_pool' of 'PoolConnectionHolder' objects>
    │    │            └ <asyncpg.pool.PoolConnectionHolder object at 0x108f085c0>
    │    └ <member '_con' of 'PoolConnectionHolder' objects>
    └ <asyncpg.pool.PoolConnectionHolder object at 0x108f085c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 502, in _get_new_connection
    con = await connection.connect(
                │          └ <function connect at 0x107a5aa60>
                └ <module 'asyncpg.connection' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/as...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 2329, in connect
    return await connect_utils._connect(
                 │             └ <function _connect at 0x107b5a9d0>
                 └ <module 'asyncpg.connect_utils' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 991, in _connect
    conn = await _connect_addr(
                 └ <function _connect_addr at 0x107b5a3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 828, in _connect_addr
    return await __connect_addr(params, True, *args)
                 │              │              └ (('localhost', 5432), <uvloop.Loop running=True closed=False debug=False>, ConnectionConfiguration(command_timeout=60.0, stat...
                 │              └ ConnectionParameters(user='postgres', password='postgres', database='loan-ledger', ssl=<ssl.SSLContext object at 0x108eef6c0>...
                 └ <function __connect_addr at 0x107b5a430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 876, in __connect_addr
    await connected
          └ <Future finished exception=TooManyConnectionsError('sorry, too many clients already')>

asyncpg.exceptions.TooManyConnectionsError: sorry, too many clients already

2023-12-15 05:12:02.293 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51518 - "GET /options/permissions HTTP/1.1" 500
2023-12-15 05:12:06.179 | ERROR    | app.endpoints.orgs:get_orgs:23 - sorry, too many clients alreadyTraceback (most recent call last):

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1083613a0>, 'role_id': '26393cbc-6912-4f00-8369-1d01e64440ec'}
                 │         └ <function get_orgs at 0x108207670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10860f730>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                 │         │          └ <providers.psql_provider.DB object at 0x1083613a0>
                 │         └ <function query_orgs at 0x1081f3dc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 41, in query_orgs
    main_org_id = await db.fetch_value(sql_main.format(role_id=role_id))
                        │  │           │        │              └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                        │  │           │        └ <method 'format' of 'str' objects>
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x107d95f70>
                        └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 45, in fetch_value
    await self.connect()
          │    └ <function DB.connect at 0x107d95ca0>
          └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 21, in connect
    self._connection_pool = await create_pool(
    │    │                        └ <function create_pool at 0x107b7f5e0>
    │    └ None
    └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 403, in _async__init__
    await self._initialize()
          │    └ <function Pool._initialize at 0x107b8b5e0>
          └ <asyncpg.pool.Pool object at 0x108f47510>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 430, in _initialize
    await first_ch.connect()
          │        └ <function PoolConnectionHolder.connect at 0x107b87e50>
          └ <asyncpg.pool.PoolConnectionHolder object at 0x108dfa340>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 128, in connect
    self._con = await self._pool._get_new_connection()
    │    │            │    └ <member '_pool' of 'PoolConnectionHolder' objects>
    │    │            └ <asyncpg.pool.PoolConnectionHolder object at 0x108dfa340>
    │    └ <member '_con' of 'PoolConnectionHolder' objects>
    └ <asyncpg.pool.PoolConnectionHolder object at 0x108dfa340>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 502, in _get_new_connection
    con = await connection.connect(
                │          └ <function connect at 0x107a5aa60>
                └ <module 'asyncpg.connection' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/as...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 2329, in connect
    return await connect_utils._connect(
                 │             └ <function _connect at 0x107b5a9d0>
                 └ <module 'asyncpg.connect_utils' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 991, in _connect
    conn = await _connect_addr(
                 └ <function _connect_addr at 0x107b5a3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 828, in _connect_addr
    return await __connect_addr(params, True, *args)
                 │              │              └ (('localhost', 5432), <uvloop.Loop running=True closed=False debug=False>, ConnectionConfiguration(command_timeout=60.0, stat...
                 │              └ ConnectionParameters(user='postgres', password='postgres', database='loan-ledger', ssl=<ssl.SSLContext object at 0x108dfa0c0>...
                 └ <function __connect_addr at 0x107b5a430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 876, in __connect_addr
    await connected
          └ <Future finished exception=TooManyConnectionsError('sorry, too many clients already')>

asyncpg.exceptions.TooManyConnectionsError: sorry, too many clients already

2023-12-15 05:12:06.185 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51518 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 500
2023-12-15 05:12:06.195 | ERROR    | app.endpoints.orgs:get_orgs:23 - sorry, too many clients alreadyTraceback (most recent call last):

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1083613a0>, 'role_id': '26393cbc-6912-4f00-8369-1d01e64440ec'}
                 │         └ <function get_orgs at 0x108207670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10860f730>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                 │         │          └ <providers.psql_provider.DB object at 0x1083613a0>
                 │         └ <function query_orgs at 0x1081f3dc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 41, in query_orgs
    main_org_id = await db.fetch_value(sql_main.format(role_id=role_id))
                        │  │           │        │              └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                        │  │           │        └ <method 'format' of 'str' objects>
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x107d95f70>
                        └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 45, in fetch_value
    await self.connect()
          │    └ <function DB.connect at 0x107d95ca0>
          └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 21, in connect
    self._connection_pool = await create_pool(
    │    │                        └ <function create_pool at 0x107b7f5e0>
    │    └ None
    └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 403, in _async__init__
    await self._initialize()
          │    └ <function Pool._initialize at 0x107b8b5e0>
          └ <asyncpg.pool.Pool object at 0x108f47bf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 430, in _initialize
    await first_ch.connect()
          │        └ <function PoolConnectionHolder.connect at 0x107b87e50>
          └ <asyncpg.pool.PoolConnectionHolder object at 0x108f3db40>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 128, in connect
    self._con = await self._pool._get_new_connection()
    │    │            │    └ <member '_pool' of 'PoolConnectionHolder' objects>
    │    │            └ <asyncpg.pool.PoolConnectionHolder object at 0x108f3db40>
    │    └ <member '_con' of 'PoolConnectionHolder' objects>
    └ <asyncpg.pool.PoolConnectionHolder object at 0x108f3db40>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 502, in _get_new_connection
    con = await connection.connect(
                │          └ <function connect at 0x107a5aa60>
                └ <module 'asyncpg.connection' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/as...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 2329, in connect
    return await connect_utils._connect(
                 │             └ <function _connect at 0x107b5a9d0>
                 └ <module 'asyncpg.connect_utils' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 991, in _connect
    conn = await _connect_addr(
                 └ <function _connect_addr at 0x107b5a3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 828, in _connect_addr
    return await __connect_addr(params, True, *args)
                 │              │              └ (('localhost', 5432), <uvloop.Loop running=True closed=False debug=False>, ConnectionConfiguration(command_timeout=60.0, stat...
                 │              └ ConnectionParameters(user='postgres', password='postgres', database='loan-ledger', ssl=<ssl.SSLContext object at 0x108eef9c0>...
                 └ <function __connect_addr at 0x107b5a430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 876, in __connect_addr
    await connected
          └ <Future finished exception=TooManyConnectionsError('sorry, too many clients already')>

asyncpg.exceptions.TooManyConnectionsError: sorry, too many clients already

2023-12-15 05:12:06.202 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51506 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 500
2023-12-15 05:12:13.542 | ERROR    | app.endpoints.orgs:get_orgs:23 - sorry, too many clients alreadyTraceback (most recent call last):

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1083613a0>, 'role_id': '26393cbc-6912-4f00-8369-1d01e64440ec'}
                 │         └ <function get_orgs at 0x108207670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10860f730>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                 │         │          └ <providers.psql_provider.DB object at 0x1083613a0>
                 │         └ <function query_orgs at 0x1081f3dc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 41, in query_orgs
    main_org_id = await db.fetch_value(sql_main.format(role_id=role_id))
                        │  │           │        │              └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                        │  │           │        └ <method 'format' of 'str' objects>
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x107d95f70>
                        └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 45, in fetch_value
    await self.connect()
          │    └ <function DB.connect at 0x107d95ca0>
          └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 21, in connect
    self._connection_pool = await create_pool(
    │    │                        └ <function create_pool at 0x107b7f5e0>
    │    └ None
    └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 403, in _async__init__
    await self._initialize()
          │    └ <function Pool._initialize at 0x107b8b5e0>
          └ <asyncpg.pool.Pool object at 0x108ef0880>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 430, in _initialize
    await first_ch.connect()
          │        └ <function PoolConnectionHolder.connect at 0x107b87e50>
          └ <asyncpg.pool.PoolConnectionHolder object at 0x108eef8c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 128, in connect
    self._con = await self._pool._get_new_connection()
    │    │            │    └ <member '_pool' of 'PoolConnectionHolder' objects>
    │    │            └ <asyncpg.pool.PoolConnectionHolder object at 0x108eef8c0>
    │    └ <member '_con' of 'PoolConnectionHolder' objects>
    └ <asyncpg.pool.PoolConnectionHolder object at 0x108eef8c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 502, in _get_new_connection
    con = await connection.connect(
                │          └ <function connect at 0x107a5aa60>
                └ <module 'asyncpg.connection' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/as...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 2329, in connect
    return await connect_utils._connect(
                 │             └ <function _connect at 0x107b5a9d0>
                 └ <module 'asyncpg.connect_utils' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 991, in _connect
    conn = await _connect_addr(
                 └ <function _connect_addr at 0x107b5a3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 828, in _connect_addr
    return await __connect_addr(params, True, *args)
                 │              │              └ (('localhost', 5432), <uvloop.Loop running=True closed=False debug=False>, ConnectionConfiguration(command_timeout=60.0, stat...
                 │              └ ConnectionParameters(user='postgres', password='postgres', database='loan-ledger', ssl=<ssl.SSLContext object at 0x108eef240>...
                 └ <function __connect_addr at 0x107b5a430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 876, in __connect_addr
    await connected
          └ <Future finished exception=TooManyConnectionsError('sorry, too many clients already')>

asyncpg.exceptions.TooManyConnectionsError: sorry, too many clients already

2023-12-15 05:12:13.553 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51575 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 500
2023-12-15 05:12:13.581 | ERROR    | app.endpoints.orgs:get_orgs:23 - sorry, too many clients alreadyTraceback (most recent call last):

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1083613a0>, 'role_id': '26393cbc-6912-4f00-8369-1d01e64440ec'}
                 │         └ <function get_orgs at 0x108207670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10860f730>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                 │         │          └ <providers.psql_provider.DB object at 0x1083613a0>
                 │         └ <function query_orgs at 0x1081f3dc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 41, in query_orgs
    main_org_id = await db.fetch_value(sql_main.format(role_id=role_id))
                        │  │           │        │              └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                        │  │           │        └ <method 'format' of 'str' objects>
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x107d95f70>
                        └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 45, in fetch_value
    await self.connect()
          │    └ <function DB.connect at 0x107d95ca0>
          └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 21, in connect
    self._connection_pool = await create_pool(
    │    │                        └ <function create_pool at 0x107b7f5e0>
    │    └ None
    └ <providers.psql_provider.DB object at 0x1083613a0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 403, in _async__init__
    await self._initialize()
          │    └ <function Pool._initialize at 0x107b8b5e0>
          └ <asyncpg.pool.Pool object at 0x108f4e300>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 430, in _initialize
    await first_ch.connect()
          │        └ <function PoolConnectionHolder.connect at 0x107b87e50>
          └ <asyncpg.pool.PoolConnectionHolder object at 0x108f06f40>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 128, in connect
    self._con = await self._pool._get_new_connection()
    │    │            │    └ <member '_pool' of 'PoolConnectionHolder' objects>
    │    │            └ <asyncpg.pool.PoolConnectionHolder object at 0x108f06f40>
    │    └ <member '_con' of 'PoolConnectionHolder' objects>
    └ <asyncpg.pool.PoolConnectionHolder object at 0x108f06f40>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 502, in _get_new_connection
    con = await connection.connect(
                │          └ <function connect at 0x107a5aa60>
                └ <module 'asyncpg.connection' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/as...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 2329, in connect
    return await connect_utils._connect(
                 │             └ <function _connect at 0x107b5a9d0>
                 └ <module 'asyncpg.connect_utils' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 991, in _connect
    conn = await _connect_addr(
                 └ <function _connect_addr at 0x107b5a3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 828, in _connect_addr
    return await __connect_addr(params, True, *args)
                 │              │              └ (('localhost', 5432), <uvloop.Loop running=True closed=False debug=False>, ConnectionConfiguration(command_timeout=60.0, stat...
                 │              └ ConnectionParameters(user='postgres', password='postgres', database='loan-ledger', ssl=<ssl.SSLContext object at 0x108f09340>...
                 └ <function __connect_addr at 0x107b5a430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 876, in __connect_addr
    await connected
          └ <Future finished exception=TooManyConnectionsError('sorry, too many clients already')>

asyncpg.exceptions.TooManyConnectionsError: sorry, too many clients already

2023-12-15 05:12:13.588 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51577 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 500
2023-12-15 05:12:42.418 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 05:12:42.519 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 05:12:42.520 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 05:12:42.520 | INFO     | uvicorn.server:serve:86 - Finished server process [30779]
2023-12-15 05:12:45.636 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 05:12:51.000 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:12:51.002 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:12:51.008 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51735 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:12:51.016 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:12:51.019 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:12:51.024 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51737 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:13:23.677 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 05:13:23.678 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:13:23.682 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51873 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 05:13:23.689 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:13:23.691 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51874 - "GET /options/users HTTP/1.1" 200
2023-12-15 05:13:23.701 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51875 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:13:23.716 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 05:13:23.719 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:13:23.719 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:13:23.720 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51879 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 05:13:23.721 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51874 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:13:23.722 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51873 - "GET /options/users HTTP/1.1" 200
2023-12-15 05:16:39.268 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 05:16:39.369 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 05:16:39.370 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 05:16:39.370 | INFO     | uvicorn.server:serve:86 - Finished server process [32587]
2023-12-15 05:16:39.796 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 05:19:58.725 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 05:19:58.827 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 05:19:58.828 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 05:19:58.828 | INFO     | uvicorn.server:serve:86 - Finished server process [32659]
2023-12-15 05:19:59.239 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 05:21:52.795 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 05:21:52.897 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 05:21:52.898 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 05:21:52.898 | INFO     | uvicorn.server:serve:86 - Finished server process [32703]
2023-12-15 05:21:53.322 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 05:23:05.111 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 05:23:05.213 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 05:23:05.213 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 05:23:05.213 | INFO     | uvicorn.server:serve:86 - Finished server process [32722]
2023-12-15 05:23:05.621 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 05:23:15.449 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 05:23:15.551 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 05:23:15.552 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 05:23:15.552 | INFO     | uvicorn.server:serve:86 - Finished server process [32736]
2023-12-15 05:23:15.966 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 05:23:40.863 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 05:23:40.964 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 05:23:40.964 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 05:23:40.965 | INFO     | uvicorn.server:serve:86 - Finished server process [32747]
2023-12-15 05:23:41.409 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 05:24:35.754 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 05:24:35.855 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 05:24:35.856 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 05:24:35.856 | INFO     | uvicorn.server:serve:86 - Finished server process [32759]
2023-12-15 05:24:36.291 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 05:25:12.526 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 05:25:12.627 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 05:25:12.628 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 05:25:12.628 | INFO     | uvicorn.server:serve:86 - Finished server process [32781]
2023-12-15 05:25:13.066 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 05:25:15.089 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 05:25:15.191 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 05:25:15.193 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 05:25:15.193 | INFO     | uvicorn.server:serve:86 - Finished server process [32795]
2023-12-15 05:25:15.626 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 05:25:22.405 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 05:25:22.505 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 05:25:22.505 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 05:25:22.506 | INFO     | uvicorn.server:serve:86 - Finished server process [32800]
2023-12-15 05:25:22.892 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 05:27:51.106 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 05:27:51.208 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 05:27:51.208 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 05:27:51.209 | INFO     | uvicorn.server:serve:86 - Finished server process [32808]
2023-12-15 05:27:51.630 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 05:27:58.416 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 05:27:58.517 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 05:27:58.518 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 05:27:58.518 | INFO     | uvicorn.server:serve:86 - Finished server process [32845]
2023-12-15 05:27:58.954 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 05:29:47.463 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55913 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-15 05:29:47.464 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55914 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:29:47.464 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55915 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-15 05:29:47.464 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55916 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-15 05:29:47.466 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55915 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 404
2023-12-15 05:29:47.466 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55917 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:29:47.467 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55918 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-15 05:29:47.469 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55918 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 404
2023-12-15 05:29:47.547 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 05:29:47.549 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:29:47.553 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55914 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 05:29:47.553 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55913 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:29:47.571 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 05:29:47.571 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:29:47.574 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55918 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:29:47.574 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55915 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 05:30:17.115 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 05:30:17.217 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 05:30:17.217 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 05:30:17.217 | INFO     | uvicorn.server:serve:86 - Finished server process [32858]
2023-12-15 05:30:17.625 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 05:30:30.575 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 05:30:30.576 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:30:30.588 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56109 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 05:30:30.591 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:30:30.599 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56111 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:30:30.603 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 05:30:30.604 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name,
    FROM
        parents;

    
2023-12-15 05:30:30.605 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56109 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 05:30:30.608 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:30:30.608 | ERROR    | app.endpoints.layouts:get_orgs:23 - syntax error at or near "FROM"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1033e19d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10315f430>
           └ <SpawnProcess name='SpawnProcess-14' parent=32585 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x103153a60>
    └ <SpawnProcess name='SpawnProcess-14' parent=32585 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1033f2a30>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-14' parent=32585 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-14' parent=32585 started>
    │    └ <function subprocess_started at 0x1058728b0>
    └ <SpawnProcess name='SpawnProcess-14' parent=32585 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1033f2b50>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x105863e50>
           │       │   └ <uvicorn.server.Server object at 0x1033f2b50>
           │       └ <function run at 0x10341e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10586c4c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1058bbc10>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059a2940>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059a29...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10599a970>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1058bbc10>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059a2940>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059a29...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059a2940>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059a29...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x105ad8340>
          └ <fastapi.applications.FastAPI object at 0x10599a970>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1059a64c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059a29...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x105ad82e0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x105ad8340>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1059a64c0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059a29...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10501baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x105ad82e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x105ad82e0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059a29...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x105ad82b0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x105ad82e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1059a6430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059a29...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x105ad8250>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x105ad82b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1059a6430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059a29...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10599aa90>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x105ad8250>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1059a6430>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059a29...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x104f72af0>
          └ APIRoute(path='/layouts/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1059a6430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1059a29...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x105acca60>
          └ APIRoute(path='/layouts/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x105ad8d60>
                     └ <function get_request_handler.<locals>.app at 0x105accc10>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104f5f790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x105881dc0>, 'role_id': '26393cbc-6912-4f00-8369-1d01e64440ec'}
                 │         └ <function get_orgs at 0x10574b280>
                 └ <fastapi.dependencies.models.Dependant object at 0x105ad5670>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 16, in get_orgs
    orgs = await layouts_crud.query_layouts_orgs(db, role_id)
                 │            │                  │   └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                 │            │                  └ <providers.psql_provider.DB object at 0x105881dc0>
                 │            └ <function query_layouts_orgs at 0x10574b160>
                 └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 33, in query_layouts_orgs
    return await db.fetch_all(sql)
                 │  │         └ "\n    WITH RECURSIVE parents AS (\n     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b...
                 │  └ <function DB.fetch_all at 0x105422c10>
                 └ <providers.psql_provider.DB object at 0x105881dc0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    WITH RECURSIVE parents AS (\n     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b...
                   │   └ <function Connection.fetch at 0x10517b0d0>
                   └ <PoolConnectionProxy [released] 0x105b02a90>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x1051681f0>
                 └ <asyncpg.connection.Connection object at 0x105b5d040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x105b5d040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1051685e0>
                         └ <asyncpg.connection.Connection object at 0x105b5d040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x105166700>
                 └ <asyncpg.connection.Connection object at 0x105b5d040>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x105b5d040>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.PostgresSyntaxError: syntax error at or near "FROM"

2023-12-15 05:30:30.628 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56110 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 500
2023-12-15 05:30:30.632 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56115 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:30:30.634 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:30:30.637 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name,
    FROM
        parents;

    
2023-12-15 05:30:30.638 | ERROR    | app.endpoints.layouts:get_orgs:23 - syntax error at or near "FROM"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1033e19d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10315f430>
           └ <SpawnProcess name='SpawnProcess-14' parent=32585 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x103153a60>
    └ <SpawnProcess name='SpawnProcess-14' parent=32585 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1033f2a30>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-14' parent=32585 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-14' parent=32585 started>
    │    └ <function subprocess_started at 0x1058728b0>
    └ <SpawnProcess name='SpawnProcess-14' parent=32585 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1033f2b50>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x105863e50>
           │       │   └ <uvicorn.server.Server object at 0x1033f2b50>
           │       └ <function run at 0x10341e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10586c4c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1058bbc10>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105ad87f0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105ad87...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10599a970>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1058bbc10>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105ad87f0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105ad87...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105ad87f0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105ad87...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x105ad8340>
          └ <fastapi.applications.FastAPI object at 0x10599a970>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1059a69d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105ad87...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x105ad82e0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x105ad8340>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1059a69d0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105ad87...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10501baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x105ad82e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x105ad82e0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105ad87...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x105ad82b0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x105ad82e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1059acc10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105ad87...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x105ad8250>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x105ad82b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1059acc10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105ad87...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10599aa90>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x105ad8250>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1059acc10>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105ad87...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x104f72af0>
          └ APIRoute(path='/layouts/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1059acc10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105ad87...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x105acca60>
          └ APIRoute(path='/layouts/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x105ad8610>
                     └ <function get_request_handler.<locals>.app at 0x105accc10>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104f5f790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x105881dc0>, 'role_id': '26393cbc-6912-4f00-8369-1d01e64440ec'}
                 │         └ <function get_orgs at 0x10574b280>
                 └ <fastapi.dependencies.models.Dependant object at 0x105ad5670>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 16, in get_orgs
    orgs = await layouts_crud.query_layouts_orgs(db, role_id)
                 │            │                  │   └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                 │            │                  └ <providers.psql_provider.DB object at 0x105881dc0>
                 │            └ <function query_layouts_orgs at 0x10574b160>
                 └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 33, in query_layouts_orgs
    return await db.fetch_all(sql)
                 │  │         └ "\n    WITH RECURSIVE parents AS (\n     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b...
                 │  └ <function DB.fetch_all at 0x105422c10>
                 └ <providers.psql_provider.DB object at 0x105881dc0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    WITH RECURSIVE parents AS (\n     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b...
                   │   └ <function Connection.fetch at 0x10517b0d0>
                   └ <PoolConnectionProxy [released] 0x105ad8c40>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x1051681f0>
                 └ <asyncpg.connection.Connection object at 0x105c1e5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x105c1e5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1051685e0>
                         └ <asyncpg.connection.Connection object at 0x105c1e5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x105166700>
                 └ <asyncpg.connection.Connection object at 0x105c1e5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x105c1e5e0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.PostgresSyntaxError: syntax error at or near "FROM"

2023-12-15 05:30:30.644 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56109 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 500
2023-12-15 05:30:55.771 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 05:30:55.872 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 05:30:55.873 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 05:30:55.873 | INFO     | uvicorn.server:serve:86 - Finished server process [32904]
2023-12-15 05:30:56.275 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 05:31:08.512 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:31:08.513 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:31:08.514 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 05:31:08.527 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56281 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 05:31:08.533 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56283 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:31:08.564 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 05:31:08.569 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 05:31:08.569 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:31:08.575 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56282 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:31:08.576 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56288 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 05:31:08.577 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56283 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:31:08.582 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:31:08.586 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 05:31:08.589 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56281 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:32:12.016 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:32:12.017 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:32:12.020 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 05:32:12.021 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56550 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:32:12.031 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56549 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:32:12.038 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:32:12.041 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:32:12.044 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56553 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:32:12.047 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 05:32:12.051 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56550 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:32:12.065 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:32:12.069 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 05:32:12.073 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56553 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:32:12.083 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:32:12.087 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 05:32:12.090 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56550 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:36:13.966 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57530 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:36:13.967 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57531 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:36:13.976 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:36:13.979 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:36:13.984 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57531 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:36:13.989 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:36:13.991 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:36:13.994 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57530 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:36:16.519 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57530 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:36:16.519 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57531 - "OPTIONS /options/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:36:16.519 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57547 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:36:16.520 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57548 - "OPTIONS /options/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:36:16.531 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 05:36:16.531 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 05:36:16.536 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:36:16.537 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57530 - "GET /options/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:36:16.540 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 05:36:16.547 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57531 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:36:16.547 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 05:36:16.553 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57531 - "OPTIONS /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:36:16.555 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57555 - "OPTIONS /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:36:16.558 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 05:36:16.565 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 05:36:16.568 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:36:16.569 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 05:36:16.570 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:36:16.570 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57530 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:36:16.570 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57548 - "GET /options/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:36:16.572 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57547 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:36:16.575 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 05:36:16.576 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:36:16.577 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57531 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:36:16.580 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57530 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:36:16.582 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 05:36:16.584 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 05:36:16.586 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57531 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:36:18.608 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:36:18.612 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:36:18.616 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57531 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:36:18.625 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:36:18.631 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:36:18.648 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57530 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:36:20.490 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57547 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-15 05:36:20.490 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57555 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-15 05:36:20.498 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 05:36:20.502 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 05:36:20.510 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:36:20.511 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:36:20.511 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57531 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 05:36:20.513 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57548 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:36:20.514 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57547 - "GET /options/users HTTP/1.1" 200
2023-12-15 05:36:20.518 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 05:36:20.518 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 05:36:20.520 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:36:20.522 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57530 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:36:20.522 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57555 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 05:36:20.523 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:36:20.524 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57531 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:36:20.525 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57548 - "GET /options/users HTTP/1.1" 200
2023-12-15 05:36:20.527 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 05:36:20.529 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 05:36:20.531 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57547 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:39:55.540 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 05:39:55.642 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 05:39:55.642 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 05:39:55.642 | INFO     | uvicorn.server:serve:86 - Finished server process [32927]
2023-12-15 05:39:56.064 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 05:40:34.206 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:40:34.211 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:40:34.219 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58605 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:40:34.234 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:40:34.238 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:40:34.241 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58607 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:41:00.792 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58718 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:41:00.793 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58719 - "OPTIONS /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:41:00.796 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58720 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-15 05:41:00.798 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58719 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 404
2023-12-15 05:41:00.799 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58721 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:41:00.800 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58722 - "OPTIONS /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:41:00.800 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58723 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-15 05:41:00.801 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58722 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 404
2023-12-15 05:41:00.804 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:41:00.805 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:41:00.813 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58720 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:41:00.863 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:41:00.870 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 05:41:00.871 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58722 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:41:00.873 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58718 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:41:00.882 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:41:00.890 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 05:41:00.895 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58720 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:41:40.243 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 05:41:40.345 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 05:41:40.345 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 05:41:40.345 | INFO     | uvicorn.server:serve:86 - Finished server process [33075]
2023-12-15 05:41:40.759 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 05:41:43.666 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:41:43.667 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:41:43.673 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 05:41:43.675 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:41:43.680 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58914 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:41:43.684 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58915 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:41:43.692 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 05:41:43.695 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:41:43.701 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:41:43.702 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58913 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:41:43.704 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58914 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:41:43.706 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 05:41:43.707 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:41:43.708 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58920 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:41:43.709 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 05:41:43.710 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58915 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:42:17.000 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 05:42:17.102 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 05:42:17.102 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 05:42:17.102 | INFO     | uvicorn.server:serve:86 - Finished server process [33118]
2023-12-15 05:42:17.512 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 05:42:25.900 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 05:42:26.002 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 05:42:26.003 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 05:42:26.003 | INFO     | uvicorn.server:serve:86 - Finished server process [33140]
2023-12-15 05:42:26.429 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 05:42:29.829 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:42:29.831 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:42:29.837 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org.id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 05:42:29.837 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:42:29.847 | ERROR    | app.endpoints.layouts:get_orgs:41 - missing FROM-clause entry for table "org"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x10514d9d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104f6f430>
           └ <SpawnProcess name='SpawnProcess-19' parent=32585 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104f63a60>
    └ <SpawnProcess name='SpawnProcess-19' parent=32585 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10515ea30>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-19' parent=32585 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-19' parent=32585 started>
    │    └ <function subprocess_started at 0x108acfca0>
    └ <SpawnProcess name='SpawnProcess-19' parent=32585 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10515eb50>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x108acf280>
           │       │   └ <uvicorn.server.Server object at 0x10515eb50>
           │       └ <function run at 0x1054fa820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x108acb4c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x108b1ad60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108d39af0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108d39a...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x108bfb6d0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x108b1ad60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108d39af0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108d39a...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108d39af0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108d39a...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x108c0ec40>
          └ <fastapi.applications.FastAPI object at 0x108bfb6d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x108c07e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108d39a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x108c0ebe0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x108c0ec40>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x108c07e50>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108d39a...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x108177af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x108c0ebe0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x108c0ebe0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108d39a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x108c0e6d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x108c0ebe0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x108c07dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108d39a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x108c0e9a0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x108c0e6d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x108c07dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108d39a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x108bfb7f0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x108c0e9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x108c07dc0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108d39a...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x107fceaf0>
          └ APIRoute(path='/layouts/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x108c07dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108d39a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x108c07af0>
          └ APIRoute(path='/layouts/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x108d39d90>
                     └ <function get_request_handler.<locals>.app at 0x108c07a60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x107fbb790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x108ae3b20>, 'role_id': '26393cbc-6912-4f00-8369-1d01e64440ec'}
                 │         └ <function get_orgs at 0x108980670>
                 └ <fastapi.dependencies.models.Dependant object at 0x108d2e4c0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 34, in get_orgs
    users = await layouts_crud.query_layouts_users(db, role_id)
                  │            │                   │   └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                  │            │                   └ <providers.psql_provider.DB object at 0x108ae3b20>
                  │            └ <function query_layouts_users at 0x1089a71f0>
                  └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 73, in query_layouts_users
    return await db.fetch_all(sql)
                 │  │         └ "\n    WITH RECURSIVE parents AS (\n     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b...
                 │  └ <function DB.fetch_all at 0x10867ec10>
                 └ <providers.psql_provider.DB object at 0x108ae3b20>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    WITH RECURSIVE parents AS (\n     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b...
                   │   └ <function Connection.fetch at 0x1082d60d0>
                   └ <PoolConnectionProxy [released] 0x108d343a0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x1082c41f0>
                 └ <asyncpg.connection.Connection object at 0x108bf0b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x108bf0b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1082c45e0>
                         └ <asyncpg.connection.Connection object at 0x108bf0b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1082c2700>
                 └ <asyncpg.connection.Connection object at 0x108bf0b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x108bf0b80>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.UndefinedTableError: missing FROM-clause entry for table "org"

2023-12-15 05:42:29.870 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59123 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 500
2023-12-15 05:42:29.871 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59124 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:42:29.875 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 05:42:29.879 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:42:29.880 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59122 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:42:29.881 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:42:29.882 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59123 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:42:29.889 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:42:29.890 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org.id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 05:42:29.894 | ERROR    | app.endpoints.layouts:get_orgs:41 - missing FROM-clause entry for table "org"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x10514d9d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104f6f430>
           └ <SpawnProcess name='SpawnProcess-19' parent=32585 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104f63a60>
    └ <SpawnProcess name='SpawnProcess-19' parent=32585 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10515ea30>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-19' parent=32585 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-19' parent=32585 started>
    │    └ <function subprocess_started at 0x108acfca0>
    └ <SpawnProcess name='SpawnProcess-19' parent=32585 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10515eb50>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x108acf280>
           │       │   └ <uvicorn.server.Server object at 0x10515eb50>
           │       └ <function run at 0x1054fa820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x108acb4c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x108b1ad60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108dae340>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108dae3...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x108bfb6d0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x108b1ad60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108dae340>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108dae3...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108dae340>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108dae3...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x108c0ec40>
          └ <fastapi.applications.FastAPI object at 0x108bfb6d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1094571f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108dae3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x108c0ebe0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x108c0ec40>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1094571f0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108dae3...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x108177af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x108c0ebe0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x108c0ebe0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108dae3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x108c0e6d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x108c0ebe0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x109457160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108dae3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x108c0e9a0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x108c0e6d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x109457160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108dae3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x108bfb7f0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x108c0e9a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x109457160>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108dae3...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x107fceaf0>
          └ APIRoute(path='/layouts/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x109457160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x108dae3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x108c07af0>
          └ APIRoute(path='/layouts/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x108dae550>
                     └ <function get_request_handler.<locals>.app at 0x108c07a60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x107fbb790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x108ae3b20>, 'role_id': '26393cbc-6912-4f00-8369-1d01e64440ec'}
                 │         └ <function get_orgs at 0x108980670>
                 └ <fastapi.dependencies.models.Dependant object at 0x108d2e4c0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 34, in get_orgs
    users = await layouts_crud.query_layouts_users(db, role_id)
                  │            │                   │   └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                  │            │                   └ <providers.psql_provider.DB object at 0x108ae3b20>
                  │            └ <function query_layouts_users at 0x1089a71f0>
                  └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 73, in query_layouts_users
    return await db.fetch_all(sql)
                 │  │         └ "\n    WITH RECURSIVE parents AS (\n     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b...
                 │  └ <function DB.fetch_all at 0x10867ec10>
                 └ <providers.psql_provider.DB object at 0x108ae3b20>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    WITH RECURSIVE parents AS (\n     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b...
                   │   └ <function Connection.fetch at 0x1082d60d0>
                   └ <PoolConnectionProxy [released] 0x108c09e80>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x1082c41f0>
                 └ <asyncpg.connection.Connection object at 0x1093dd6d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1093dd6d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1082c45e0>
                         └ <asyncpg.connection.Connection object at 0x1093dd6d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1082c2700>
                 └ <asyncpg.connection.Connection object at 0x1093dd6d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1093dd6d0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.UndefinedTableError: missing FROM-clause entry for table "org"

2023-12-15 05:42:29.900 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59129 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 500
2023-12-15 05:42:29.902 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 05:42:29.905 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59124 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:43:02.380 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 05:43:02.482 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 05:43:02.482 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 05:43:02.483 | INFO     | uvicorn.server:serve:86 - Finished server process [33147]
2023-12-15 05:43:02.916 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 05:43:06.075 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:43:06.075 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:43:06.079 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:43:06.099 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59288 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:43:06.103 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 05:43:06.108 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 05:43:06.109 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:43:06.112 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59287 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:43:06.113 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59286 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:43:06.114 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59294 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:43:06.124 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:43:06.126 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:43:06.129 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 05:43:06.130 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59287 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:43:06.131 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 05:43:06.133 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59288 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:43:30.160 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:43:30.163 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:43:30.167 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59397 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:43:30.175 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:43:30.178 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:43:30.184 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59399 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:43:35.860 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59426 - "OPTIONS /org/1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 05:43:35.861 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59427 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-15 05:43:35.862 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59430 - "OPTIONS /org/1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 05:43:35.862 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59431 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-15 05:43:35.875 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:43:35.875 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:43:35.878 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 05:43:35.878 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 05:43:35.881 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59429 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:43:35.883 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59428 - "GET /options/users HTTP/1.1" 200
2023-12-15 05:43:35.884 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59427 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 05:43:35.888 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:43:35.889 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:43:35.894 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa';
    
2023-12-15 05:43:35.895 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59429 - "GET /options/users HTTP/1.1" 200
2023-12-15 05:43:35.895 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59431 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:43:35.896 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 05:43:35.898 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59428 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 05:43:35.899 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59426 - "GET /org/1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 05:43:35.903 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 05:43:35.906 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa';
    
2023-12-15 05:43:35.908 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59428 - "GET /org/1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 05:43:46.829 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:43:46.832 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:43:46.839 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59487 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:43:46.847 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:43:46.850 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:43:46.852 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59489 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:43:53.837 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:43:53.841 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:43:53.850 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 05:43:53.852 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:43:53.860 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59521 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:43:53.861 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 05:43:53.863 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59522 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:43:53.866 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59520 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:43:53.870 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:43:53.870 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:43:53.871 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:43:53.872 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59521 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:43:53.874 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 05:43:53.875 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59522 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:43:53.877 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 05:43:53.879 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59527 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:45:30.826 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 05:45:30.927 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 05:45:30.927 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 05:45:30.927 | INFO     | uvicorn.server:serve:86 - Finished server process [33166]
2023-12-15 05:45:31.322 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 05:46:04.488 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 05:46:04.590 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 05:46:04.590 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 05:46:04.590 | INFO     | uvicorn.server:serve:86 - Finished server process [33239]
2023-12-15 05:46:05.012 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 05:46:23.140 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 05:46:23.242 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 05:46:23.243 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 05:46:23.243 | INFO     | uvicorn.server:serve:86 - Finished server process [33253]
2023-12-15 05:46:23.674 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 05:46:27.613 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 05:46:27.715 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 05:46:27.715 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 05:46:27.715 | INFO     | uvicorn.server:serve:86 - Finished server process [33267]
2023-12-15 05:46:28.133 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 05:47:03.113 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60305 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:47:03.114 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60306 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:47:03.126 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:47:03.132 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:47:03.138 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60305 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:47:03.148 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:47:03.152 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:47:03.157 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60306 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:47:06.138 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60306 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:47:06.144 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60321 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-15 05:47:06.145 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60323 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:47:06.146 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60324 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-15 05:47:06.151 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 05:47:06.153 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 05:47:06.159 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:47:06.163 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60305 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 05:47:06.167 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60322 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:47:06.168 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:47:06.171 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 05:47:06.171 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60321 - "GET /options/users HTTP/1.1" 200
2023-12-15 05:47:06.174 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 05:47:06.174 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60324 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 05:47:06.174 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:47:06.176 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60305 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:47:06.176 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:47:06.177 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60306 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:47:06.178 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60322 - "GET /options/users HTTP/1.1" 200
2023-12-15 05:47:06.181 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 05:47:06.182 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 05:47:06.184 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60305 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:47:10.528 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 05:47:10.530 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:47:10.532 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 05:47:10.536 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:47:10.540 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60322 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 05:47:10.541 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60306 - "GET /options/users HTTP/1.1" 200
2023-12-15 05:47:10.549 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60324 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:47:10.554 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 05:47:10.555 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 05:47:10.556 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:47:10.557 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:47:10.559 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60305 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:47:10.559 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60321 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 05:47:10.560 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60306 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:47:10.560 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60323 - "GET /options/users HTTP/1.1" 200
2023-12-15 05:47:10.566 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 05:47:10.568 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 05:47:10.572 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60324 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 05:47:14.372 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:47:14.375 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:47:14.378 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60324 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:47:14.384 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:47:14.387 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:47:14.389 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60306 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:47:17.926 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 05:47:17.932 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:47:17.933 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 05:47:17.935 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:47:17.937 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60324 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 05:47:17.937 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60393 - "GET /options/users HTTP/1.1" 200
2023-12-15 05:47:17.940 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60394 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:47:17.945 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 05:47:17.948 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa';
    
2023-12-15 05:47:17.950 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 05:47:17.951 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:47:17.956 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60324 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 05:47:17.958 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60306 - "GET /org/1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 05:47:17.958 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60393 - "GET /options/users HTTP/1.1" 200
2023-12-15 05:47:17.959 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60399 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 05:47:17.968 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 05:47:17.969 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa';
    
2023-12-15 05:47:17.971 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60324 - "GET /org/1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 05:47:20.065 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:47:20.071 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:47:20.077 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60324 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:47:20.094 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:47:20.099 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 05:47:20.105 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60399 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:47:22.491 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60393 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 05:47:22.492 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60306 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 05:47:22.497 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:47:22.502 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:47:22.505 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:47:22.508 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60306 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 05:47:22.512 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 05:47:22.512 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 05:47:22.515 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 05:47:22.519 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60324 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:47:22.520 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60399 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:47:22.521 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60393 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 05:47:22.528 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:47:22.529 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 05:47:22.530 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 05:47:22.532 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60306 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 05:47:22.533 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 05:47:22.534 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60394 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:04:09.149 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64557 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:04:09.150 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64558 - "OPTIONS /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:04:09.154 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64559 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 06:04:09.156 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64560 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:04:09.161 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64561 - "OPTIONS /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:04:09.165 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64562 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 06:04:09.174 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:04:09.179 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 06:04:09.180 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:04:09.193 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64559 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 06:04:09.202 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 06:04:09.203 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 06:04:09.205 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 06:04:09.205 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64557 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:04:09.205 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64562 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 06:04:09.207 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64558 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:04:09.210 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:04:09.212 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 06:04:09.213 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64559 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:04:09.214 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:04:09.215 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 06:04:09.216 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64562 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:05:15.192 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64838 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:05:15.192 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64839 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:05:15.209 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:05:15.212 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 06:05:15.218 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64839 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:05:15.226 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:05:15.229 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 06:05:15.232 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64838 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:05:17.860 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64838 - "OPTIONS /org/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 06:05:17.860 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64839 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-15 06:05:17.861 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64855 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-15 06:05:17.862 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64856 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-15 06:05:17.862 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64838 - "OPTIONS /org/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 06:05:17.863 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64839 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-15 06:05:17.863 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64855 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-15 06:05:17.864 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64858 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-15 06:05:17.876 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 06:05:17.876 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 06:05:17.876 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 06:05:17.885 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 06:05:17.886 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64856 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 06:05:17.886 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64839 - "GET /options/users HTTP/1.1" 200
2023-12-15 06:05:17.889 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64855 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 06:05:17.891 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a';
    
2023-12-15 06:05:17.894 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 06:05:17.895 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 06:05:17.898 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64857 - "GET /org/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 06:05:17.898 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64838 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 06:05:17.899 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64858 - "GET /options/users HTTP/1.1" 200
2023-12-15 06:05:17.900 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 06:05:17.902 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64856 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 06:05:17.903 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 06:05:17.905 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a';
    
2023-12-15 06:05:17.906 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64855 - "GET /org/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 06:05:33.967 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 06:05:33.968 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 06:05:33.977 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 06:05:33.978 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 06:05:33.979 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64937 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 06:05:33.989 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64939 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 06:05:33.995 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64938 - "GET /options/users HTTP/1.1" 200
2023-12-15 06:05:34.001 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a';
    
2023-12-15 06:05:34.003 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 06:05:34.004 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 06:05:34.005 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 06:05:34.007 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64944 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 06:05:34.007 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64936 - "GET /org/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 06:05:34.008 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64937 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 06:05:34.012 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64939 - "GET /options/users HTTP/1.1" 200
2023-12-15 06:05:34.014 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 06:05:34.017 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a';
    
2023-12-15 06:05:34.023 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64944 - "GET /org/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 06:06:22.916 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 06:06:22.922 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 06:06:22.925 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 06:06:22.933 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65158 - "GET /options/users HTTP/1.1" 200
2023-12-15 06:06:22.939 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 06:06:22.944 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65157 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 06:06:22.948 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 06:06:22.952 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65159 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 06:06:22.958 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a';
    
2023-12-15 06:06:22.961 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65164 - "GET /options/users HTTP/1.1" 200
2023-12-15 06:06:22.963 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 06:06:22.966 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65158 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 06:06:22.967 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 06:06:22.969 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65156 - "GET /org/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 06:06:22.974 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65157 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 06:06:22.977 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 06:06:22.980 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a';
    
2023-12-15 06:06:22.985 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65158 - "GET /org/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 06:06:44.698 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:06:44.700 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 06:06:44.704 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65257 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:06:44.709 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:06:44.714 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 06:06:44.716 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65259 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:06:54.792 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65302 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 06:06:54.794 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65306 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 06:06:54.806 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 06:06:54.806 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 06:06:54.807 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 06:06:54.809 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 06:06:54.811 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65303 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 06:06:54.811 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65304 - "GET /options/users HTTP/1.1" 200
2023-12-15 06:06:54.814 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65305 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 06:06:54.819 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 06:06:54.819 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 06:06:54.822 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 06:06:54.823 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65303 - "GET /options/users HTTP/1.1" 200
2023-12-15 06:06:54.824 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65306 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 06:06:54.824 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 06:06:54.825 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65304 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 06:06:54.833 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65302 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 06:06:54.840 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 06:06:54.849 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 06:06:54.855 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65304 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 06:07:26.177 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 06:07:26.179 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 06:07:26.187 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 06:07:26.192 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65449 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 06:07:26.192 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 06:07:26.197 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 06:07:26.199 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65450 - "GET /options/users HTTP/1.1" 200
2023-12-15 06:07:26.200 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65451 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 06:07:26.209 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65448 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 06:07:26.210 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-15 06:07:26.218 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 06:07:26.218 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 06:07:26.219 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65457 - "GET /options/orgs HTTP/1.1" 200
2023-12-15 06:07:26.222 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 06:07:26.224 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65449 - "GET /options/users HTTP/1.1" 200
2023-12-15 06:07:26.224 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65459 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 06:07:26.226 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 06:07:26.229 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65451 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 06:08:02.041 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 06:08:02.042 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:08:02.042 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 06:08:02.050 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49227 - "GET /options/users HTTP/1.1" 200
2023-12-15 06:08:02.051 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 06:08:02.059 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49228 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 06:08:02.063 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 06:08:02.064 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 06:08:02.068 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 06:08:02.068 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49226 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:08:02.084 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49233 - "GET /options/users HTTP/1.1" 200
2023-12-15 06:08:02.085 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49225 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 06:08:02.085 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 06:08:02.087 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:08:02.090 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49227 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 06:08:02.092 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 06:08:02.093 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 06:08:02.094 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49228 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:08:02.096 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 06:08:02.099 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49225 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 06:08:06.191 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 06:08:06.194 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:08:06.198 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 06:08:06.203 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 06:08:06.208 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49227 - "GET /options/users HTTP/1.1" 200
2023-12-15 06:08:06.217 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49233 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 06:08:06.222 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 06:08:06.223 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 06:08:06.224 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 06:08:06.226 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 06:08:06.229 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49225 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 06:08:06.229 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49226 - "GET /options/users HTTP/1.1" 200
2023-12-15 06:08:06.232 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49228 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:08:06.233 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49227 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 06:08:06.240 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 06:08:06.240 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:08:06.244 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 06:08:06.250 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49226 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:08:06.252 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 06:08:06.256 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49233 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 06:08:28.078 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:08:28.080 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 06:08:28.082 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49358 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:08:28.089 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:08:28.093 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 06:08:28.095 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49360 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:08:31.819 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 06:08:31.831 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 06:08:31.834 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 06:08:31.835 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:08:31.839 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49378 - "GET /options/users HTTP/1.1" 200
2023-12-15 06:08:31.842 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49379 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 06:08:31.844 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a';
    
2023-12-15 06:08:31.848 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49360 - "GET /org/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 06:08:31.848 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 06:08:31.848 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 06:08:31.848 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 06:08:31.850 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49385 - "GET /options/users HTTP/1.1" 200
2023-12-15 06:08:31.850 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49358 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:08:31.851 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49378 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 06:08:31.852 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 06:08:31.854 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a';
    
2023-12-15 06:08:31.854 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:08:31.856 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49379 - "GET /org/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 06:08:31.856 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 06:08:31.858 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49360 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:08:40.124 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:08:40.131 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 06:08:40.137 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49423 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:08:40.149 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:08:40.155 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 06:08:40.160 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49423 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:08:41.701 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:08:41.702 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 06:08:41.708 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 06:08:41.715 | ERROR    | app.endpoints.layouts:get_orgs:59 - sorry, too many clients alreadyTraceback (most recent call last):

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x10679a370>}
                 │         └ <function get_orgs at 0x106632940>
                 └ <fastapi.dependencies.models.Dependant object at 0x1068baf70>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 52, in get_orgs
    permissions = await layouts_crud.query_layouts_permissions(db)
                        │            │                         └ <providers.psql_provider.DB object at 0x10679a370>
                        │            └ <function query_layouts_permissions at 0x106650430>
                        └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 84, in query_layouts_permissions
    return await db.fetch_all(sql)
                 │  │         └ '\n    SELECT\n        id,\n        name\n    FROM\n        permissions;\n    '
                 │  └ <function DB.fetch_all at 0x106216c10>
                 └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 36, in fetch_all
    await self.connect()
          │    └ <function DB.connect at 0x106216af0>
          └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 21, in connect
    self._connection_pool = await create_pool(
    │    │                        └ <function create_pool at 0x105f655e0>
    │    └ <asyncpg.pool.Pool object at 0x106dbd5c0>
    └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 403, in _async__init__
    await self._initialize()
          │    └ <function Pool._initialize at 0x105f725e0>
          └ <asyncpg.pool.Pool object at 0x106dbd7d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 430, in _initialize
    await first_ch.connect()
          │        └ <function PoolConnectionHolder.connect at 0x105f6ee50>
          └ <asyncpg.pool.PoolConnectionHolder object at 0x10820cbc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 128, in connect
    self._con = await self._pool._get_new_connection()
    │    │            │    └ <member '_pool' of 'PoolConnectionHolder' objects>
    │    │            └ <asyncpg.pool.PoolConnectionHolder object at 0x10820cbc0>
    │    └ <member '_con' of 'PoolConnectionHolder' objects>
    └ <asyncpg.pool.PoolConnectionHolder object at 0x10820cbc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 502, in _get_new_connection
    con = await connection.connect(
                │          └ <function connect at 0x105e40a60>
                └ <module 'asyncpg.connection' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/as...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 2329, in connect
    return await connect_utils._connect(
                 │             └ <function _connect at 0x105f429d0>
                 └ <module 'asyncpg.connect_utils' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 991, in _connect
    conn = await _connect_addr(
                 └ <function _connect_addr at 0x105f423a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 828, in _connect_addr
    return await __connect_addr(params, True, *args)
                 │              │              └ (('localhost', 5432), <uvloop.Loop running=True closed=False debug=False>, ConnectionConfiguration(command_timeout=60.0, stat...
                 │              └ ConnectionParameters(user='postgres', password='postgres', database='loan-ledger', ssl=<ssl.SSLContext object at 0x10820cf40>...
                 └ <function __connect_addr at 0x105f42430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 876, in __connect_addr
    await connected
          └ <Future finished exception=TooManyConnectionsError('sorry, too many clients already')>

asyncpg.exceptions.TooManyConnectionsError: sorry, too many clients already

2023-12-15 06:08:41.732 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49436 - "GET /layouts/permissions HTTP/1.1" 500
2023-12-15 06:08:41.733 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49435 - "GET /options/users HTTP/1.1" 200
2023-12-15 06:08:41.739 | ERROR    | app.endpoints.layouts:get_orgs:23 - sorry, too many clients alreadyTraceback (most recent call last):

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x10679a370>, 'role_id': '26393cbc-6912-4f00-8369-1d01e64440ec'}
                 │         └ <function get_orgs at 0x1066504c0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1069e1370>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 16, in get_orgs
    orgs = await layouts_crud.query_layouts_orgs(db, role_id)
                 │            │                  │   └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                 │            │                  └ <providers.psql_provider.DB object at 0x10679a370>
                 │            └ <function query_layouts_orgs at 0x1066503a0>
                 └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 33, in query_layouts_orgs
    return await db.fetch_all(sql)
                 │  │         └ "\n    WITH RECURSIVE parents AS (\n     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b...
                 │  └ <function DB.fetch_all at 0x106216c10>
                 └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 37, in fetch_all
    async with self._connection_pool.acquire() as con:
               │    └ None
               └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 981, in __aenter__
    self.connection = await self.pool._acquire(self.timeout)
    │    │                  │    │             │    └ <member 'timeout' of 'PoolAcquireContext' objects>
    │    │                  │    │             └ <asyncpg.pool.PoolAcquireContext object at 0x106dbaf40>
    │    │                  │    └ <member 'pool' of 'PoolAcquireContext' objects>
    │    │                  └ <asyncpg.pool.PoolAcquireContext object at 0x106dbaf40>
    │    └ <member 'connection' of 'PoolAcquireContext' objects>
    └ <asyncpg.pool.PoolAcquireContext object at 0x106dbaf40>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 821, in _acquire
    return await _acquire_impl()
                 └ <function Pool._acquire.<locals>._acquire_impl at 0x106ace5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 806, in _acquire_impl
    proxy = await ch.acquire()  # type: PoolConnectionProxy
                  │  └ <function PoolConnectionHolder.acquire at 0x105f6eee0>
                  └ <asyncpg.pool.PoolConnectionHolder object at 0x108207440>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 136, in acquire
    await self.connect()
          │    └ <function PoolConnectionHolder.connect at 0x105f6ee50>
          └ <asyncpg.pool.PoolConnectionHolder object at 0x108207440>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 128, in connect
    self._con = await self._pool._get_new_connection()
    │    │            │    └ <member '_pool' of 'PoolConnectionHolder' objects>
    │    │            └ <asyncpg.pool.PoolConnectionHolder object at 0x108207440>
    │    └ <member '_con' of 'PoolConnectionHolder' objects>
    └ <asyncpg.pool.PoolConnectionHolder object at 0x108207440>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 502, in _get_new_connection
    con = await connection.connect(
                │          └ <function connect at 0x105e40a60>
                └ <module 'asyncpg.connection' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/as...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 2329, in connect
    return await connect_utils._connect(
                 │             └ <function _connect at 0x105f429d0>
                 └ <module 'asyncpg.connect_utils' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 991, in _connect
    conn = await _connect_addr(
                 └ <function _connect_addr at 0x105f423a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 828, in _connect_addr
    return await __connect_addr(params, True, *args)
                 │              │              └ (('localhost', 5432), <uvloop.Loop running=True closed=False debug=False>, ConnectionConfiguration(command_timeout=60.0, stat...
                 │              └ ConnectionParameters(user='postgres', password='postgres', database='loan-ledger', ssl=<ssl.SSLContext object at 0x1082042c0>...
                 └ <function __connect_addr at 0x105f42430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 876, in __connect_addr
    await connected
          └ <Future finished exception=TooManyConnectionsError('sorry, too many clients already')>

asyncpg.exceptions.TooManyConnectionsError: sorry, too many clients already

2023-12-15 06:08:41.741 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49425 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 500
2023-12-15 06:08:41.744 | ERROR    | app.endpoints.options:user_optins:23 - sorry, too many clients alreadyTraceback (most recent call last):

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x10679a370>}
                 │         └ <function user_optins at 0x1066430d0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1069e17f0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/options.py", line 16, in user_optins
    user_optins = await options_crud.qyery_user_optins(db)
                        │            │                 └ <providers.psql_provider.DB object at 0x10679a370>
                        │            └ <function qyery_user_optins at 0x1066434c0>
                        └ <module 'app.crud.options_crud' from '/Users/ryu/loan-ledger-if/app/crud/options_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/options_crud.py", line 16, in qyery_user_optins
    return await db.fetch_all(sql)
                 │  │         └ '\n    SELECT\n        users.id,\n        users.last_name,\n        users.first_name,\n        users.email\n    FROM\n       ...
                 │  └ <function DB.fetch_all at 0x106216c10>
                 └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 36, in fetch_all
    await self.connect()
          │    └ <function DB.connect at 0x106216af0>
          └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 21, in connect
    self._connection_pool = await create_pool(
    │    │                        └ <function create_pool at 0x105f655e0>
    │    └ None
    └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 403, in _async__init__
    await self._initialize()
          │    └ <function Pool._initialize at 0x105f725e0>
          └ <asyncpg.pool.Pool object at 0x106dbd670>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 430, in _initialize
    await first_ch.connect()
          │        └ <function PoolConnectionHolder.connect at 0x105f6ee50>
          └ <asyncpg.pool.PoolConnectionHolder object at 0x1082ed7c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 128, in connect
    self._con = await self._pool._get_new_connection()
    │    │            │    └ <member '_pool' of 'PoolConnectionHolder' objects>
    │    │            └ <asyncpg.pool.PoolConnectionHolder object at 0x1082ed7c0>
    │    └ <member '_con' of 'PoolConnectionHolder' objects>
    └ <asyncpg.pool.PoolConnectionHolder object at 0x1082ed7c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 502, in _get_new_connection
    con = await connection.connect(
                │          └ <function connect at 0x105e40a60>
                └ <module 'asyncpg.connection' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/as...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 2329, in connect
    return await connect_utils._connect(
                 │             └ <function _connect at 0x105f429d0>
                 └ <module 'asyncpg.connect_utils' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 991, in _connect
    conn = await _connect_addr(
                 └ <function _connect_addr at 0x105f423a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 828, in _connect_addr
    return await __connect_addr(params, True, *args)
                 │              │              └ (('localhost', 5432), <uvloop.Loop running=True closed=False debug=False>, ConnectionConfiguration(command_timeout=60.0, stat...
                 │              └ ConnectionParameters(user='postgres', password='postgres', database='loan-ledger', ssl=<ssl.SSLContext object at 0x1082edb40>...
                 └ <function __connect_addr at 0x105f42430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 876, in __connect_addr
    await connected
          └ <Future finished exception=TooManyConnectionsError('sorry, too many clients already')>

asyncpg.exceptions.TooManyConnectionsError: sorry, too many clients already

2023-12-15 06:08:41.746 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49436 - "GET /options/users HTTP/1.1" 500
2023-12-15 06:08:41.747 | ERROR    | app.endpoints.layouts:get_orgs:59 - sorry, too many clients alreadyTraceback (most recent call last):

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x10679a370>}
                 │         └ <function get_orgs at 0x106632940>
                 └ <fastapi.dependencies.models.Dependant object at 0x1068baf70>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 52, in get_orgs
    permissions = await layouts_crud.query_layouts_permissions(db)
                        │            │                         └ <providers.psql_provider.DB object at 0x10679a370>
                        │            └ <function query_layouts_permissions at 0x106650430>
                        └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 84, in query_layouts_permissions
    return await db.fetch_all(sql)
                 │  │         └ '\n    SELECT\n        id,\n        name\n    FROM\n        permissions;\n    '
                 │  └ <function DB.fetch_all at 0x106216c10>
                 └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 36, in fetch_all
    await self.connect()
          │    └ <function DB.connect at 0x106216af0>
          └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 21, in connect
    self._connection_pool = await create_pool(
    │    │                        └ <function create_pool at 0x105f655e0>
    │    └ None
    └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 403, in _async__init__
    await self._initialize()
          │    └ <function Pool._initialize at 0x105f725e0>
          └ <asyncpg.pool.Pool object at 0x108254a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 430, in _initialize
    await first_ch.connect()
          │        └ <function PoolConnectionHolder.connect at 0x105f6ee50>
          └ <asyncpg.pool.PoolConnectionHolder object at 0x10820c0c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 128, in connect
    self._con = await self._pool._get_new_connection()
    │    │            │    └ <member '_pool' of 'PoolConnectionHolder' objects>
    │    │            └ <asyncpg.pool.PoolConnectionHolder object at 0x10820c0c0>
    │    └ <member '_con' of 'PoolConnectionHolder' objects>
    └ <asyncpg.pool.PoolConnectionHolder object at 0x10820c0c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 502, in _get_new_connection
    con = await connection.connect(
                │          └ <function connect at 0x105e40a60>
                └ <module 'asyncpg.connection' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/as...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 2329, in connect
    return await connect_utils._connect(
                 │             └ <function _connect at 0x105f429d0>
                 └ <module 'asyncpg.connect_utils' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 991, in _connect
    conn = await _connect_addr(
                 └ <function _connect_addr at 0x105f423a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 828, in _connect_addr
    return await __connect_addr(params, True, *args)
                 │              │              └ (('localhost', 5432), <uvloop.Loop running=True closed=False debug=False>, ConnectionConfiguration(command_timeout=60.0, stat...
                 │              └ ConnectionParameters(user='postgres', password='postgres', database='loan-ledger', ssl=<ssl.SSLContext object at 0x1082db5c0>...
                 └ <function __connect_addr at 0x105f42430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 876, in __connect_addr
    await connected
          └ <Future finished exception=TooManyConnectionsError('sorry, too many clients already')>

asyncpg.exceptions.TooManyConnectionsError: sorry, too many clients already

2023-12-15 06:08:41.748 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49441 - "GET /layouts/permissions HTTP/1.1" 500
2023-12-15 06:08:41.749 | ERROR    | app.endpoints.orgs:get_org:57 - sorry, too many clients alreadyTraceback (most recent call last):

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x10679a370>, 'org_id': '94ef5080-bc13-4d6b-ba39-44e8839aad8a'}
                 │         └ <function get_org at 0x10662d430>
                 └ <fastapi.dependencies.models.Dependant object at 0x1068a8370>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
                │         │         └ <providers.psql_provider.DB object at 0x10679a370>
                │         └ <function query_org at 0x1066323a0>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 182, in query_org
    permissions = await db.fetch_all(sql)
                        │  │         └ "\n    SELECT\n        permissions.id,\n        permissions.name\n    FROM\n        permissions\n    JOIN\n        role_permi...
                        │  └ <function DB.fetch_all at 0x106216c10>
                        └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 36, in fetch_all
    await self.connect()
          │    └ <function DB.connect at 0x106216af0>
          └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 21, in connect
    self._connection_pool = await create_pool(
    │    │                        └ <function create_pool at 0x105f655e0>
    │    └ None
    └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 403, in _async__init__
    await self._initialize()
          │    └ <function Pool._initialize at 0x105f725e0>
          └ <asyncpg.pool.Pool object at 0x108254bf0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 430, in _initialize
    await first_ch.connect()
          │        └ <function PoolConnectionHolder.connect at 0x105f6ee50>
          └ <asyncpg.pool.PoolConnectionHolder object at 0x1082e8440>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 128, in connect
    self._con = await self._pool._get_new_connection()
    │    │            │    └ <member '_pool' of 'PoolConnectionHolder' objects>
    │    │            └ <asyncpg.pool.PoolConnectionHolder object at 0x1082e8440>
    │    └ <member '_con' of 'PoolConnectionHolder' objects>
    └ <asyncpg.pool.PoolConnectionHolder object at 0x1082e8440>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 502, in _get_new_connection
    con = await connection.connect(
                │          └ <function connect at 0x105e40a60>
                └ <module 'asyncpg.connection' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/as...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 2329, in connect
    return await connect_utils._connect(
                 │             └ <function _connect at 0x105f429d0>
                 └ <module 'asyncpg.connect_utils' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 991, in _connect
    conn = await _connect_addr(
                 └ <function _connect_addr at 0x105f423a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 828, in _connect_addr
    return await __connect_addr(params, True, *args)
                 │              │              └ (('localhost', 5432), <uvloop.Loop running=True closed=False debug=False>, ConnectionConfiguration(command_timeout=60.0, stat...
                 │              └ ConnectionParameters(user='postgres', password='postgres', database='loan-ledger', ssl=<ssl.SSLContext object at 0x1082e87c0>...
                 └ <function __connect_addr at 0x105f42430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 876, in __connect_addr
    await connected
          └ <Future finished exception=TooManyConnectionsError('sorry, too many clients already')>

asyncpg.exceptions.TooManyConnectionsError: sorry, too many clients already

2023-12-15 06:08:41.755 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49423 - "GET /org/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 500
2023-12-15 06:08:41.755 | ERROR    | app.endpoints.layouts:get_orgs:23 - sorry, too many clients alreadyTraceback (most recent call last):

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x10679a370>, 'role_id': '26393cbc-6912-4f00-8369-1d01e64440ec'}
                 │         └ <function get_orgs at 0x1066504c0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1069e1370>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 16, in get_orgs
    orgs = await layouts_crud.query_layouts_orgs(db, role_id)
                 │            │                  │   └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                 │            │                  └ <providers.psql_provider.DB object at 0x10679a370>
                 │            └ <function query_layouts_orgs at 0x1066503a0>
                 └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 18, in query_layouts_orgs
    main_org_id = await db.fetch_value(sql_main)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x106216f70>
                        └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 45, in fetch_value
    await self.connect()
          │    └ <function DB.connect at 0x106216af0>
          └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 21, in connect
    self._connection_pool = await create_pool(
    │    │                        └ <function create_pool at 0x105f655e0>
    │    └ None
    └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 403, in _async__init__
    await self._initialize()
          │    └ <function Pool._initialize at 0x105f725e0>
          └ <asyncpg.pool.Pool object at 0x106dbd510>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 430, in _initialize
    await first_ch.connect()
          │        └ <function PoolConnectionHolder.connect at 0x105f6ee50>
          └ <asyncpg.pool.PoolConnectionHolder object at 0x1082e89c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 128, in connect
    self._con = await self._pool._get_new_connection()
    │    │            │    └ <member '_pool' of 'PoolConnectionHolder' objects>
    │    │            └ <asyncpg.pool.PoolConnectionHolder object at 0x1082e89c0>
    │    └ <member '_con' of 'PoolConnectionHolder' objects>
    └ <asyncpg.pool.PoolConnectionHolder object at 0x1082e89c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 502, in _get_new_connection
    con = await connection.connect(
                │          └ <function connect at 0x105e40a60>
                └ <module 'asyncpg.connection' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/as...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 2329, in connect
    return await connect_utils._connect(
                 │             └ <function _connect at 0x105f429d0>
                 └ <module 'asyncpg.connect_utils' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 991, in _connect
    conn = await _connect_addr(
                 └ <function _connect_addr at 0x105f423a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 828, in _connect_addr
    return await __connect_addr(params, True, *args)
                 │              │              └ (('localhost', 5432), <uvloop.Loop running=True closed=False debug=False>, ConnectionConfiguration(command_timeout=60.0, stat...
                 │              └ ConnectionParameters(user='postgres', password='postgres', database='loan-ledger', ssl=<ssl.SSLContext object at 0x1082e8d40>...
                 └ <function __connect_addr at 0x105f42430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 876, in __connect_addr
    await connected
          └ <Future finished exception=TooManyConnectionsError('sorry, too many clients already')>

asyncpg.exceptions.TooManyConnectionsError: sorry, too many clients already

2023-12-15 06:08:41.758 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49435 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 500
2023-12-15 06:08:41.762 | ERROR    | app.endpoints.orgs:get_org:57 - sorry, too many clients alreadyTraceback (most recent call last):

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x10679a370>, 'org_id': '94ef5080-bc13-4d6b-ba39-44e8839aad8a'}
                 │         └ <function get_org at 0x10662d430>
                 └ <fastapi.dependencies.models.Dependant object at 0x1068a8370>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
                │         │         └ <providers.psql_provider.DB object at 0x10679a370>
                │         └ <function query_org at 0x1066323a0>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 156, in query_org
    org_basic = await db.fetch_one(sql)
                      │  │         └ "\n    SELECT\n        orgs.p_id,\n        orgs.name,\n        orgs.remark,\n        orgs.type,\n        user_org_rels.user_i...
                      │  └ <function DB.fetch_one at 0x106216ca0>
                      └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 27, in fetch_one
    await self.connect()
          │    └ <function DB.connect at 0x106216af0>
          └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 21, in connect
    self._connection_pool = await create_pool(
    │    │                        └ <function create_pool at 0x105f655e0>
    │    └ None
    └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 403, in _async__init__
    await self._initialize()
          │    └ <function Pool._initialize at 0x105f725e0>
          └ <asyncpg.pool.Pool object at 0x106dbd880>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 430, in _initialize
    await first_ch.connect()
          │        └ <function PoolConnectionHolder.connect at 0x105f6ee50>
          └ <asyncpg.pool.PoolConnectionHolder object at 0x108204d40>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 128, in connect
    self._con = await self._pool._get_new_connection()
    │    │            │    └ <member '_pool' of 'PoolConnectionHolder' objects>
    │    │            └ <asyncpg.pool.PoolConnectionHolder object at 0x108204d40>
    │    └ <member '_con' of 'PoolConnectionHolder' objects>
    └ <asyncpg.pool.PoolConnectionHolder object at 0x108204d40>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 502, in _get_new_connection
    con = await connection.connect(
                │          └ <function connect at 0x105e40a60>
                └ <module 'asyncpg.connection' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/as...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 2329, in connect
    return await connect_utils._connect(
                 │             └ <function _connect at 0x105f429d0>
                 └ <module 'asyncpg.connect_utils' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 991, in _connect
    conn = await _connect_addr(
                 └ <function _connect_addr at 0x105f423a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 828, in _connect_addr
    return await __connect_addr(params, True, *args)
                 │              │              └ (('localhost', 5432), <uvloop.Loop running=True closed=False debug=False>, ConnectionConfiguration(command_timeout=60.0, stat...
                 │              └ ConnectionParameters(user='postgres', password='postgres', database='loan-ledger', ssl=<ssl.SSLContext object at 0x108204a40>...
                 └ <function __connect_addr at 0x105f42430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 876, in __connect_addr
    await connected
          └ <Future finished exception=TooManyConnectionsError('sorry, too many clients already')>

asyncpg.exceptions.TooManyConnectionsError: sorry, too many clients already

2023-12-15 06:08:41.766 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49441 - "GET /org/94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 500
2023-12-15 06:08:48.593 | ERROR    | app.endpoints.orgs:get_orgs:23 - sorry, too many clients alreadyTraceback (most recent call last):

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x10679a370>, 'role_id': '26393cbc-6912-4f00-8369-1d01e64440ec'}
                 │         └ <function get_orgs at 0x1066325e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1068ac9d0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                 │         │          └ <providers.psql_provider.DB object at 0x10679a370>
                 │         └ <function query_orgs at 0x10661edc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 41, in query_orgs
    main_org_id = await db.fetch_value(sql_main.format(role_id=role_id))
                        │  │           │        │              └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                        │  │           │        └ <method 'format' of 'str' objects>
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x106216f70>
                        └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 45, in fetch_value
    await self.connect()
          │    └ <function DB.connect at 0x106216af0>
          └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 21, in connect
    self._connection_pool = await create_pool(
    │    │                        └ <function create_pool at 0x105f655e0>
    │    └ None
    └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 403, in _async__init__
    await self._initialize()
          │    └ <function Pool._initialize at 0x105f725e0>
          └ <asyncpg.pool.Pool object at 0x1082e20f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 430, in _initialize
    await first_ch.connect()
          │        └ <function PoolConnectionHolder.connect at 0x105f6ee50>
          └ <asyncpg.pool.PoolConnectionHolder object at 0x108204ac0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 128, in connect
    self._con = await self._pool._get_new_connection()
    │    │            │    └ <member '_pool' of 'PoolConnectionHolder' objects>
    │    │            └ <asyncpg.pool.PoolConnectionHolder object at 0x108204ac0>
    │    └ <member '_con' of 'PoolConnectionHolder' objects>
    └ <asyncpg.pool.PoolConnectionHolder object at 0x108204ac0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 502, in _get_new_connection
    con = await connection.connect(
                │          └ <function connect at 0x105e40a60>
                └ <module 'asyncpg.connection' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/as...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 2329, in connect
    return await connect_utils._connect(
                 │             └ <function _connect at 0x105f429d0>
                 └ <module 'asyncpg.connect_utils' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 991, in _connect
    conn = await _connect_addr(
                 └ <function _connect_addr at 0x105f423a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 828, in _connect_addr
    return await __connect_addr(params, True, *args)
                 │              │              └ (('localhost', 5432), <uvloop.Loop running=True closed=False debug=False>, ConnectionConfiguration(command_timeout=60.0, stat...
                 │              └ ConnectionParameters(user='postgres', password='postgres', database='loan-ledger', ssl=<ssl.SSLContext object at 0x10820c1c0>...
                 └ <function __connect_addr at 0x105f42430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 876, in __connect_addr
    await connected
          └ <Future finished exception=TooManyConnectionsError('sorry, too many clients already')>

asyncpg.exceptions.TooManyConnectionsError: sorry, too many clients already

2023-12-15 06:08:48.600 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49472 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 500
2023-12-15 06:08:48.609 | ERROR    | app.endpoints.orgs:get_orgs:23 - sorry, too many clients alreadyTraceback (most recent call last):

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x10679a370>, 'role_id': '26393cbc-6912-4f00-8369-1d01e64440ec'}
                 │         └ <function get_orgs at 0x1066325e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1068ac9d0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs
    orgs = await orgs_crud.query_orgs(db, role_id)
                 │         │          │   └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                 │         │          └ <providers.psql_provider.DB object at 0x10679a370>
                 │         └ <function query_orgs at 0x10661edc0>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 41, in query_orgs
    main_org_id = await db.fetch_value(sql_main.format(role_id=role_id))
                        │  │           │        │              └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                        │  │           │        └ <method 'format' of 'str' objects>
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x106216f70>
                        └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 45, in fetch_value
    await self.connect()
          │    └ <function DB.connect at 0x106216af0>
          └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 21, in connect
    self._connection_pool = await create_pool(
    │    │                        └ <function create_pool at 0x105f655e0>
    │    └ None
    └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 403, in _async__init__
    await self._initialize()
          │    └ <function Pool._initialize at 0x105f725e0>
          └ <asyncpg.pool.Pool object at 0x108308250>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 430, in _initialize
    await first_ch.connect()
          │        └ <function PoolConnectionHolder.connect at 0x105f6ee50>
          └ <asyncpg.pool.PoolConnectionHolder object at 0x1082dbac0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 128, in connect
    self._con = await self._pool._get_new_connection()
    │    │            │    └ <member '_pool' of 'PoolConnectionHolder' objects>
    │    │            └ <asyncpg.pool.PoolConnectionHolder object at 0x1082dbac0>
    │    └ <member '_con' of 'PoolConnectionHolder' objects>
    └ <asyncpg.pool.PoolConnectionHolder object at 0x1082dbac0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 502, in _get_new_connection
    con = await connection.connect(
                │          └ <function connect at 0x105e40a60>
                └ <module 'asyncpg.connection' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/as...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 2329, in connect
    return await connect_utils._connect(
                 │             └ <function _connect at 0x105f429d0>
                 └ <module 'asyncpg.connect_utils' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 991, in _connect
    conn = await _connect_addr(
                 └ <function _connect_addr at 0x105f423a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 828, in _connect_addr
    return await __connect_addr(params, True, *args)
                 │              │              └ (('localhost', 5432), <uvloop.Loop running=True closed=False debug=False>, ConnectionConfiguration(command_timeout=60.0, stat...
                 │              └ ConnectionParameters(user='postgres', password='postgres', database='loan-ledger', ssl=<ssl.SSLContext object at 0x1082dbe40>...
                 └ <function __connect_addr at 0x105f42430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 876, in __connect_addr
    await connected
          └ <Future finished exception=TooManyConnectionsError('sorry, too many clients already')>

asyncpg.exceptions.TooManyConnectionsError: sorry, too many clients already

2023-12-15 06:08:48.616 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49474 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 500
2023-12-15 06:08:49.777 | ERROR    | app.endpoints.layouts:get_orgs:23 - sorry, too many clients alreadyTraceback (most recent call last):

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x10679a370>, 'role_id': '26393cbc-6912-4f00-8369-1d01e64440ec'}
                 │         └ <function get_orgs at 0x1066504c0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1069e1370>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 16, in get_orgs
    orgs = await layouts_crud.query_layouts_orgs(db, role_id)
                 │            │                  │   └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                 │            │                  └ <providers.psql_provider.DB object at 0x10679a370>
                 │            └ <function query_layouts_orgs at 0x1066503a0>
                 └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 18, in query_layouts_orgs
    main_org_id = await db.fetch_value(sql_main)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x106216f70>
                        └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 45, in fetch_value
    await self.connect()
          │    └ <function DB.connect at 0x106216af0>
          └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 21, in connect
    self._connection_pool = await create_pool(
    │    │                        └ <function create_pool at 0x105f655e0>
    │    └ None
    └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 403, in _async__init__
    await self._initialize()
          │    └ <function Pool._initialize at 0x105f725e0>
          └ <asyncpg.pool.Pool object at 0x106da21a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 430, in _initialize
    await first_ch.connect()
          │        └ <function PoolConnectionHolder.connect at 0x105f6ee50>
          └ <asyncpg.pool.PoolConnectionHolder object at 0x1082ed9c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 128, in connect
    self._con = await self._pool._get_new_connection()
    │    │            │    └ <member '_pool' of 'PoolConnectionHolder' objects>
    │    │            └ <asyncpg.pool.PoolConnectionHolder object at 0x1082ed9c0>
    │    └ <member '_con' of 'PoolConnectionHolder' objects>
    └ <asyncpg.pool.PoolConnectionHolder object at 0x1082ed9c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 502, in _get_new_connection
    con = await connection.connect(
                │          └ <function connect at 0x105e40a60>
                └ <module 'asyncpg.connection' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/as...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 2329, in connect
    return await connect_utils._connect(
                 │             └ <function _connect at 0x105f429d0>
                 └ <module 'asyncpg.connect_utils' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 991, in _connect
    conn = await _connect_addr(
                 └ <function _connect_addr at 0x105f423a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 828, in _connect_addr
    return await __connect_addr(params, True, *args)
                 │              │              └ (('localhost', 5432), <uvloop.Loop running=True closed=False debug=False>, ConnectionConfiguration(command_timeout=60.0, stat...
                 │              └ ConnectionParameters(user='postgres', password='postgres', database='loan-ledger', ssl=<ssl.SSLContext object at 0x1082e8bc0>...
                 └ <function __connect_addr at 0x105f42430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 876, in __connect_addr
    await connected
          └ <Future finished exception=TooManyConnectionsError('sorry, too many clients already')>

asyncpg.exceptions.TooManyConnectionsError: sorry, too many clients already

2023-12-15 06:08:49.779 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49474 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 500
2023-12-15 06:08:49.780 | ERROR    | app.endpoints.layouts:get_orgs:41 - sorry, too many clients alreadyTraceback (most recent call last):

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x10679a370>, 'role_id': '26393cbc-6912-4f00-8369-1d01e64440ec'}
                 │         └ <function get_orgs at 0x10662d670>
                 └ <fastapi.dependencies.models.Dependant object at 0x1069d95b0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 34, in get_orgs
    users = await layouts_crud.query_layouts_users(db, role_id)
                  │            │                   │   └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                  │            │                   └ <providers.psql_provider.DB object at 0x10679a370>
                  │            └ <function query_layouts_users at 0x106650280>
                  └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 50, in query_layouts_users
    main_org_id = await db.fetch_value(sql_main)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x106216f70>
                        └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 45, in fetch_value
    await self.connect()
          │    └ <function DB.connect at 0x106216af0>
          └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 21, in connect
    self._connection_pool = await create_pool(
    │    │                        └ <function create_pool at 0x105f655e0>
    │    └ None
    └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 403, in _async__init__
    await self._initialize()
          │    └ <function Pool._initialize at 0x105f725e0>
          └ <asyncpg.pool.Pool object at 0x108308d50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 430, in _initialize
    await first_ch.connect()
          │        └ <function PoolConnectionHolder.connect at 0x105f6ee50>
          └ <asyncpg.pool.PoolConnectionHolder object at 0x106daf640>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 128, in connect
    self._con = await self._pool._get_new_connection()
    │    │            │    └ <member '_pool' of 'PoolConnectionHolder' objects>
    │    │            └ <asyncpg.pool.PoolConnectionHolder object at 0x106daf640>
    │    └ <member '_con' of 'PoolConnectionHolder' objects>
    └ <asyncpg.pool.PoolConnectionHolder object at 0x106daf640>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 502, in _get_new_connection
    con = await connection.connect(
                │          └ <function connect at 0x105e40a60>
                └ <module 'asyncpg.connection' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/as...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 2329, in connect
    return await connect_utils._connect(
                 │             └ <function _connect at 0x105f429d0>
                 └ <module 'asyncpg.connect_utils' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 991, in _connect
    conn = await _connect_addr(
                 └ <function _connect_addr at 0x105f423a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 828, in _connect_addr
    return await __connect_addr(params, True, *args)
                 │              │              └ (('localhost', 5432), <uvloop.Loop running=True closed=False debug=False>, ConnectionConfiguration(command_timeout=60.0, stat...
                 │              └ ConnectionParameters(user='postgres', password='postgres', database='loan-ledger', ssl=<ssl.SSLContext object at 0x1082048c0>...
                 └ <function __connect_addr at 0x105f42430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 876, in __connect_addr
    await connected
          └ <Future finished exception=TooManyConnectionsError('sorry, too many clients already')>

asyncpg.exceptions.TooManyConnectionsError: sorry, too many clients already

2023-12-15 06:08:49.782 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49472 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 500
2023-12-15 06:08:49.783 | ERROR    | app.endpoints.layouts:get_orgs:59 - sorry, too many clients alreadyTraceback (most recent call last):

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x10679a370>}
                 │         └ <function get_orgs at 0x106632940>
                 └ <fastapi.dependencies.models.Dependant object at 0x1068baf70>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 52, in get_orgs
    permissions = await layouts_crud.query_layouts_permissions(db)
                        │            │                         └ <providers.psql_provider.DB object at 0x10679a370>
                        │            └ <function query_layouts_permissions at 0x106650430>
                        └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 84, in query_layouts_permissions
    return await db.fetch_all(sql)
                 │  │         └ '\n    SELECT\n        id,\n        name\n    FROM\n        permissions;\n    '
                 │  └ <function DB.fetch_all at 0x106216c10>
                 └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 36, in fetch_all
    await self.connect()
          │    └ <function DB.connect at 0x106216af0>
          └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 21, in connect
    self._connection_pool = await create_pool(
    │    │                        └ <function create_pool at 0x105f655e0>
    │    └ None
    └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 403, in _async__init__
    await self._initialize()
          │    └ <function Pool._initialize at 0x105f725e0>
          └ <asyncpg.pool.Pool object at 0x108254a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 430, in _initialize
    await first_ch.connect()
          │        └ <function PoolConnectionHolder.connect at 0x105f6ee50>
          └ <asyncpg.pool.PoolConnectionHolder object at 0x1082ed7c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 128, in connect
    self._con = await self._pool._get_new_connection()
    │    │            │    └ <member '_pool' of 'PoolConnectionHolder' objects>
    │    │            └ <asyncpg.pool.PoolConnectionHolder object at 0x1082ed7c0>
    │    └ <member '_con' of 'PoolConnectionHolder' objects>
    └ <asyncpg.pool.PoolConnectionHolder object at 0x1082ed7c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 502, in _get_new_connection
    con = await connection.connect(
                │          └ <function connect at 0x105e40a60>
                └ <module 'asyncpg.connection' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/as...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 2329, in connect
    return await connect_utils._connect(
                 │             └ <function _connect at 0x105f429d0>
                 └ <module 'asyncpg.connect_utils' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 991, in _connect
    conn = await _connect_addr(
                 └ <function _connect_addr at 0x105f423a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 828, in _connect_addr
    return await __connect_addr(params, True, *args)
                 │              │              └ (('localhost', 5432), <uvloop.Loop running=True closed=False debug=False>, ConnectionConfiguration(command_timeout=60.0, stat...
                 │              └ ConnectionParameters(user='postgres', password='postgres', database='loan-ledger', ssl=<ssl.SSLContext object at 0x1082ed2c0>...
                 └ <function __connect_addr at 0x105f42430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 876, in __connect_addr
    await connected
          └ <Future finished exception=TooManyConnectionsError('sorry, too many clients already')>

asyncpg.exceptions.TooManyConnectionsError: sorry, too many clients already

2023-12-15 06:08:49.785 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49485 - "GET /layouts/permissions HTTP/1.1" 500
2023-12-15 06:08:49.791 | ERROR    | app.endpoints.layouts:get_orgs:23 - sorry, too many clients alreadyTraceback (most recent call last):

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x10679a370>, 'role_id': '26393cbc-6912-4f00-8369-1d01e64440ec'}
                 │         └ <function get_orgs at 0x1066504c0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1069e1370>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 16, in get_orgs
    orgs = await layouts_crud.query_layouts_orgs(db, role_id)
                 │            │                  │   └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                 │            │                  └ <providers.psql_provider.DB object at 0x10679a370>
                 │            └ <function query_layouts_orgs at 0x1066503a0>
                 └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 18, in query_layouts_orgs
    main_org_id = await db.fetch_value(sql_main)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x106216f70>
                        └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 45, in fetch_value
    await self.connect()
          │    └ <function DB.connect at 0x106216af0>
          └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 21, in connect
    self._connection_pool = await create_pool(
    │    │                        └ <function create_pool at 0x105f655e0>
    │    └ None
    └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 403, in _async__init__
    await self._initialize()
          │    └ <function Pool._initialize at 0x105f725e0>
          └ <asyncpg.pool.Pool object at 0x108308f60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 430, in _initialize
    await first_ch.connect()
          │        └ <function PoolConnectionHolder.connect at 0x105f6ee50>
          └ <asyncpg.pool.PoolConnectionHolder object at 0x1082e8b40>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 128, in connect
    self._con = await self._pool._get_new_connection()
    │    │            │    └ <member '_pool' of 'PoolConnectionHolder' objects>
    │    │            └ <asyncpg.pool.PoolConnectionHolder object at 0x1082e8b40>
    │    └ <member '_con' of 'PoolConnectionHolder' objects>
    └ <asyncpg.pool.PoolConnectionHolder object at 0x1082e8b40>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 502, in _get_new_connection
    con = await connection.connect(
                │          └ <function connect at 0x105e40a60>
                └ <module 'asyncpg.connection' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/as...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 2329, in connect
    return await connect_utils._connect(
                 │             └ <function _connect at 0x105f429d0>
                 └ <module 'asyncpg.connect_utils' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 991, in _connect
    conn = await _connect_addr(
                 └ <function _connect_addr at 0x105f423a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 828, in _connect_addr
    return await __connect_addr(params, True, *args)
                 │              │              └ (('localhost', 5432), <uvloop.Loop running=True closed=False debug=False>, ConnectionConfiguration(command_timeout=60.0, stat...
                 │              └ ConnectionParameters(user='postgres', password='postgres', database='loan-ledger', ssl=<ssl.SSLContext object at 0x1082ed4c0>...
                 └ <function __connect_addr at 0x105f42430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 876, in __connect_addr
    await connected
          └ <Future finished exception=TooManyConnectionsError('sorry, too many clients already')>

asyncpg.exceptions.TooManyConnectionsError: sorry, too many clients already

2023-12-15 06:08:49.793 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49489 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 500
2023-12-15 06:08:49.794 | ERROR    | app.endpoints.layouts:get_orgs:41 - sorry, too many clients alreadyTraceback (most recent call last):

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x10679a370>, 'role_id': '26393cbc-6912-4f00-8369-1d01e64440ec'}
                 │         └ <function get_orgs at 0x10662d670>
                 └ <fastapi.dependencies.models.Dependant object at 0x1069d95b0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 34, in get_orgs
    users = await layouts_crud.query_layouts_users(db, role_id)
                  │            │                   │   └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                  │            │                   └ <providers.psql_provider.DB object at 0x10679a370>
                  │            └ <function query_layouts_users at 0x106650280>
                  └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 50, in query_layouts_users
    main_org_id = await db.fetch_value(sql_main)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x106216f70>
                        └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 45, in fetch_value
    await self.connect()
          │    └ <function DB.connect at 0x106216af0>
          └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 21, in connect
    self._connection_pool = await create_pool(
    │    │                        └ <function create_pool at 0x105f655e0>
    │    └ None
    └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 403, in _async__init__
    await self._initialize()
          │    └ <function Pool._initialize at 0x105f725e0>
          └ <asyncpg.pool.Pool object at 0x10830b1a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 430, in _initialize
    await first_ch.connect()
          │        └ <function PoolConnectionHolder.connect at 0x105f6ee50>
          └ <asyncpg.pool.PoolConnectionHolder object at 0x108207e40>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 128, in connect
    self._con = await self._pool._get_new_connection()
    │    │            │    └ <member '_pool' of 'PoolConnectionHolder' objects>
    │    │            └ <asyncpg.pool.PoolConnectionHolder object at 0x108207e40>
    │    └ <member '_con' of 'PoolConnectionHolder' objects>
    └ <asyncpg.pool.PoolConnectionHolder object at 0x108207e40>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 502, in _get_new_connection
    con = await connection.connect(
                │          └ <function connect at 0x105e40a60>
                └ <module 'asyncpg.connection' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/as...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 2329, in connect
    return await connect_utils._connect(
                 │             └ <function _connect at 0x105f429d0>
                 └ <module 'asyncpg.connect_utils' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 991, in _connect
    conn = await _connect_addr(
                 └ <function _connect_addr at 0x105f423a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 828, in _connect_addr
    return await __connect_addr(params, True, *args)
                 │              │              └ (('localhost', 5432), <uvloop.Loop running=True closed=False debug=False>, ConnectionConfiguration(command_timeout=60.0, stat...
                 │              └ ConnectionParameters(user='postgres', password='postgres', database='loan-ledger', ssl=<ssl.SSLContext object at 0x10820c0c0>...
                 └ <function __connect_addr at 0x105f42430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 876, in __connect_addr
    await connected
          └ <Future finished exception=TooManyConnectionsError('sorry, too many clients already')>

asyncpg.exceptions.TooManyConnectionsError: sorry, too many clients already

2023-12-15 06:08:49.796 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49474 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 500
2023-12-15 06:08:49.796 | ERROR    | app.endpoints.layouts:get_orgs:59 - sorry, too many clients alreadyTraceback (most recent call last):

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x10679a370>}
                 │         └ <function get_orgs at 0x106632940>
                 └ <fastapi.dependencies.models.Dependant object at 0x1068baf70>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 52, in get_orgs
    permissions = await layouts_crud.query_layouts_permissions(db)
                        │            │                         └ <providers.psql_provider.DB object at 0x10679a370>
                        │            └ <function query_layouts_permissions at 0x106650430>
                        └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 84, in query_layouts_permissions
    return await db.fetch_all(sql)
                 │  │         └ '\n    SELECT\n        id,\n        name\n    FROM\n        permissions;\n    '
                 │  └ <function DB.fetch_all at 0x106216c10>
                 └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 36, in fetch_all
    await self.connect()
          │    └ <function DB.connect at 0x106216af0>
          └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 21, in connect
    self._connection_pool = await create_pool(
    │    │                        └ <function create_pool at 0x105f655e0>
    │    └ None
    └ <providers.psql_provider.DB object at 0x10679a370>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 403, in _async__init__
    await self._initialize()
          │    └ <function Pool._initialize at 0x105f725e0>
          └ <asyncpg.pool.Pool object at 0x108308b40>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 430, in _initialize
    await first_ch.connect()
          │        └ <function PoolConnectionHolder.connect at 0x105f6ee50>
          └ <asyncpg.pool.PoolConnectionHolder object at 0x10830af40>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 128, in connect
    self._con = await self._pool._get_new_connection()
    │    │            │    └ <member '_pool' of 'PoolConnectionHolder' objects>
    │    │            └ <asyncpg.pool.PoolConnectionHolder object at 0x10830af40>
    │    └ <member '_con' of 'PoolConnectionHolder' objects>
    └ <asyncpg.pool.PoolConnectionHolder object at 0x10830af40>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/pool.py", line 502, in _get_new_connection
    con = await connection.connect(
                │          └ <function connect at 0x105e40a60>
                └ <module 'asyncpg.connection' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/as...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 2329, in connect
    return await connect_utils._connect(
                 │             └ <function _connect at 0x105f429d0>
                 └ <module 'asyncpg.connect_utils' from '/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 991, in _connect
    conn = await _connect_addr(
                 └ <function _connect_addr at 0x105f423a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 828, in _connect_addr
    return await __connect_addr(params, True, *args)
                 │              │              └ (('localhost', 5432), <uvloop.Loop running=True closed=False debug=False>, ConnectionConfiguration(command_timeout=60.0, stat...
                 │              └ ConnectionParameters(user='postgres', password='postgres', database='loan-ledger', ssl=<ssl.SSLContext object at 0x108309340>...
                 └ <function __connect_addr at 0x105f42430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connect_utils.py", line 876, in __connect_addr
    await connected
          └ <Future finished exception=TooManyConnectionsError('sorry, too many clients already')>

asyncpg.exceptions.TooManyConnectionsError: sorry, too many clients already

2023-12-15 06:08:49.798 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49472 - "GET /layouts/permissions HTTP/1.1" 500
2023-12-15 06:09:03.840 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 06:09:03.942 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 06:09:03.943 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 06:09:03.943 | INFO     | uvicorn.server:serve:86 - Finished server process [33274]
2023-12-15 06:09:06.769 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 06:09:11.091 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:09:11.096 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 06:09:11.098 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:09:11.108 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49584 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 06:09:11.109 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 06:09:11.114 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49582 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:09:11.119 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 06:09:11.135 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:09:11.136 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 06:09:11.136 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49583 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:09:11.140 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49589 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 06:09:11.143 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:09:11.145 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 06:09:11.147 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49584 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:09:11.149 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 06:09:11.151 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49582 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:09:22.285 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:09:22.288 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 06:09:22.290 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49640 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:09:22.295 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:09:22.300 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 06:09:22.303 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49642 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:09:24.003 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 06:09:24.005 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:09:24.010 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 06:09:24.014 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 06:09:24.016 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49640 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:09:24.018 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 06:09:24.018 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49652 - "GET /options/users HTTP/1.1" 200
2023-12-15 06:09:24.021 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 06:09:24.021 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49653 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 06:09:24.024 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:09:24.027 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49642 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 06:09:24.028 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 06:09:24.029 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 06:09:24.031 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49659 - "GET /options/users HTTP/1.1" 200
2023-12-15 06:09:24.037 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49652 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 06:09:24.041 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 06:09:24.044 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 06:09:24.045 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49640 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:09:24.045 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 06:09:24.047 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49653 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 06:11:09.065 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 06:11:09.066 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:11:09.066 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:11:09.070 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 06:11:09.073 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50091 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 06:11:09.077 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 06:11:09.078 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 06:11:09.082 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50089 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:11:09.086 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 06:11:09.088 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 06:11:09.090 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50088 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 06:11:09.092 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50099 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 06:11:09.092 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50090 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:11:09.095 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:11:09.096 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 06:11:09.097 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 06:11:09.100 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 06:11:09.101 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50099 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:11:09.102 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 06:11:09.103 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 06:11:09.106 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50089 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 06:11:09.110 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50091 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:07:10.400 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61647 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:07:10.402 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61648 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:07:10.417 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:07:10.423 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 08:07:10.436 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61647 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:07:10.447 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:07:10.452 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 08:07:10.464 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61648 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:07:18.003 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:07:18.031 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 08:07:18.054 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61685 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:07:18.067 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:07:18.076 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 08:07:18.080 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61687 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:07:24.122 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:07:24.128 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 08:07:24.133 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61713 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:07:24.142 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:07:24.145 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 08:07:24.148 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61715 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:07:59.069 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61858 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:07:59.070 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61859 - "OPTIONS /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:07:59.071 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61860 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 08:07:59.072 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61861 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:07:59.072 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61862 - "OPTIONS /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:07:59.081 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61863 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 08:07:59.096 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:07:59.097 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:07:59.102 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:07:59.109 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 08:07:59.110 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61861 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 08:07:59.119 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61859 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:07:59.122 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 08:07:59.123 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:07:59.128 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61863 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 08:07:59.128 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61860 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:07:59.129 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:07:59.138 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:07:59.143 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 08:07:59.146 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61861 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:07:59.148 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 08:07:59.150 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61859 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:07:59.881 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:07:59.889 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 08:07:59.893 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61859 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:07:59.908 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:07:59.914 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 08:07:59.921 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61861 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:08:04.260 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61861 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:08:04.260 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61859 - "OPTIONS /options/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:08:04.261 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61897 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:08:04.261 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61898 - "OPTIONS /options/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:08:04.272 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 08:08:04.272 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 08:08:04.278 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 08:08:04.280 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61897 - "GET /options/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:08:04.284 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 08:08:04.288 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 08:08:04.291 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61898 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:08:04.291 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 08:08:04.294 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61859 - "GET /options/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:08:04.296 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61859 - "OPTIONS /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:08:04.297 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61898 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-15 08:08:04.297 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61861 - "OPTIONS /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:08:04.297 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61859 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-15 08:08:04.299 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 08:08:04.306 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 08:08:04.307 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:08:04.309 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61898 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 08:08:04.312 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 08:08:04.315 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 08:08:04.316 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:08:04.320 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61897 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:08:04.321 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61904 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:08:04.321 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61859 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 08:08:04.325 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 08:08:04.327 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 08:08:04.328 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61898 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:08:11.044 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:08:11.047 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61939 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 08:08:11.060 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:08:11.071 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61941 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 08:32:19.495 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 08:32:19.595 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 08:32:19.596 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 08:32:19.596 | INFO     | uvicorn.server:serve:86 - Finished server process [33734]
2023-12-15 08:32:20.070 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 08:35:26.418 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 08:35:26.519 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 08:35:26.520 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 08:35:26.520 | INFO     | uvicorn.server:serve:86 - Finished server process [36992]
2023-12-15 08:35:26.935 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 08:36:51.505 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 08:36:51.607 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 08:36:51.607 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 08:36:51.608 | INFO     | uvicorn.server:serve:86 - Finished server process [37014]
2023-12-15 08:36:52.043 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 08:38:48.705 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 08:38:48.807 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 08:38:48.807 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 08:38:48.807 | INFO     | uvicorn.server:serve:86 - Finished server process [37031]
2023-12-15 08:38:49.218 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 08:39:04.801 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 08:39:04.903 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 08:39:04.903 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 08:39:04.904 | INFO     | uvicorn.server:serve:86 - Finished server process [37057]
2023-12-15 08:39:05.320 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 08:41:17.456 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53533 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:41:17.456 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53534 - "OPTIONS /options/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:41:17.457 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53535 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:41:17.457 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53536 - "OPTIONS /options/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:41:17.464 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 08:41:17.464 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 08:41:17.470 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 08:41:17.476 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53533 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:41:17.477 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 08:41:17.480 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53535 - "GET /options/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:41:17.489 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 08:41:17.493 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 08:41:17.495 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        users
    WHERE
        users.is_super = false
    
2023-12-15 08:41:17.500 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53533 - "GET /options/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:41:17.501 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 08:41:17.507 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53533 - "OPTIONS /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:41:17.508 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53535 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-15 08:41:17.508 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53536 - "OPTIONS /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:41:17.509 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53543 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-15 08:41:17.517 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53534 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:41:17.520 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:41:17.521 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 08:41:17.522 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53533 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 08:41:17.523 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 08:41:17.524 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53536 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:41:17.527 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:41:17.528 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 08:41:17.528 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53534 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 08:41:17.531 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 08:41:17.532 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53533 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:41:26.214 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53588 - "OPTIONS /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:41:26.215 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53589 - "OPTIONS /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:41:26.217 | ERROR    | app.endpoints.layouts:get_orgs:77 - query_layouts_org_users() missing 2 required positional arguments: 'org_id' and 'role_id'Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1034459d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1031c3430>
           └ <SpawnProcess name='SpawnProcess-6' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1031b7a60>
    └ <SpawnProcess name='SpawnProcess-6' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x103456a30>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=33732 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=33732 started>
    │    └ <function subprocess_started at 0x1058e4550>
    └ <SpawnProcess name='SpawnProcess-6' parent=33732 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x103456b50>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1058d8af0>
           │       │   └ <uvicorn.server.Server object at 0x103456b50>
           │       └ <function run at 0x103482820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1058dc540>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10592b3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105b5f580>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105b5f5...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x105a0cb20>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10592b3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105b5f580>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105b5f5...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105b5f580>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105b5f5...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x105b389d0>
          └ <fastapi.applications.FastAPI object at 0x105a0cb20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x105b31ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105b5f5...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x105b38940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x105b389d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x105b31ee0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105b5f5...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10507faf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x105b38940>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x105b38940>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105b5f5...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x105b38c70>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x105b38940>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105a189d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105b5f5...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x105b38b80>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x105b38c70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105a189d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105b5f5...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x105a0cc40>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x105b38b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105a189d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105b5f5...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x104fd6af0>
          └ APIRoute(path='/layouts/org/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105a189d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105b5f5...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x105a09b80>
          └ APIRoute(path='/layouts/org/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x105b45970>
                     └ <function get_request_handler.<locals>.app at 0x105a098b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104fc3790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x105901160>, 'org_id': '1b33d5f9-6655-492e-9ad0-ca8125f88b2c', 'role_id': '2639...
                 │         └ <function get_orgs at 0x10578e820>
                 └ <fastapi.dependencies.models.Dependant object at 0x105b3feb0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 70, in get_orgs
    users = await layouts_crud.query_layouts_org_users(db)
                  │            │                       └ <providers.psql_provider.DB object at 0x105901160>
                  │            └ <function query_layouts_org_users at 0x1057af5e0>
                  └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

TypeError: query_layouts_org_users() missing 2 required positional arguments: 'org_id' and 'role_id'

2023-12-15 08:41:26.226 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53589 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 500
2023-12-15 08:41:26.227 | ERROR    | app.endpoints.layouts:get_orgs:77 - query_layouts_org_users() missing 2 required positional arguments: 'org_id' and 'role_id'Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1034459d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1031c3430>
           └ <SpawnProcess name='SpawnProcess-6' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1031b7a60>
    └ <SpawnProcess name='SpawnProcess-6' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x103456a30>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=33732 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=33732 started>
    │    └ <function subprocess_started at 0x1058e4550>
    └ <SpawnProcess name='SpawnProcess-6' parent=33732 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x103456b50>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1058d8af0>
           │       │   └ <uvicorn.server.Server object at 0x103456b50>
           │       └ <function run at 0x103482820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1058dc540>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10592b3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105bb9f40>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105bb9f...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x105a0cb20>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10592b3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105bb9f40>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105bb9f...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105bb9f40>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105bb9f...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x105b389d0>
          └ <fastapi.applications.FastAPI object at 0x105a0cb20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x105b31040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105bb9f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x105b38940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x105b389d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x105b31040>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105bb9f...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10507faf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x105b38940>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x105b38940>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105bb9f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x105b38c70>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x105b38940>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105b31280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105bb9f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x105b38b80>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x105b38c70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105b31280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105bb9f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x105a0cc40>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x105b38b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105b31280>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105bb9f...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x104fd6af0>
          └ APIRoute(path='/layouts/org/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105b31280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105bb9f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x105a09b80>
          └ APIRoute(path='/layouts/org/users', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x105bc8490>
                     └ <function get_request_handler.<locals>.app at 0x105a098b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104fc3790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x105901160>, 'org_id': '1b33d5f9-6655-492e-9ad0-ca8125f88b2c', 'role_id': '2639...
                 │         └ <function get_orgs at 0x10578e820>
                 └ <fastapi.dependencies.models.Dependant object at 0x105b3feb0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 70, in get_orgs
    users = await layouts_crud.query_layouts_org_users(db)
                  │            │                       └ <providers.psql_provider.DB object at 0x105901160>
                  │            └ <function query_layouts_org_users at 0x1057af5e0>
                  └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

TypeError: query_layouts_org_users() missing 2 required positional arguments: 'org_id' and 'role_id'

2023-12-15 08:41:26.232 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53588 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 500
2023-12-15 08:41:26.232 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 08:41:26.235 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 08:41:26.239 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53587 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:41:26.245 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 08:41:26.247 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 08:41:26.249 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53588 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:42:05.415 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 08:42:05.517 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 08:42:05.517 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 08:42:05.517 | INFO     | uvicorn.server:serve:86 - Finished server process [37069]
2023-12-15 08:42:05.956 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 08:42:09.794 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 08:42:09.795 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 08:42:09.805 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 08:42:09.853 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53769 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:42:09.857 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:42:09.861 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 08:42:09.865 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 08:42:09.869 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53774 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:42:09.871 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:42:09.879 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53770 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:42:09.885 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 08:42:09.887 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:42:09.889 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:42:09.890 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53774 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:43:04.856 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 08:43:04.958 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 08:43:04.959 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 08:43:04.959 | INFO     | uvicorn.server:serve:86 - Finished server process [37123]
2023-12-15 08:43:05.358 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 08:43:08.591 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 08:43:08.639 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 08:43:08.643 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 08:43:08.652 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:43:08.654 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54025 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:43:08.665 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 08:43:08.667 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:43:08.670 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54026 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:43:08.673 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 08:43:08.674 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 08:43:08.675 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:43:08.676 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54029 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:43:08.677 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:43:08.678 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54025 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:43:08.698 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54025 - "OPTIONS /user/role/permissions?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:43:08.701 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54026 - "OPTIONS /user/role/permissions?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:43:08.710 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:43:08.711 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 08:43:08.723 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54029 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 08:43:08.736 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:43:08.738 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';

    
2023-12-15 08:43:08.740 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54026 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 08:43:08.742 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54025 - "GET /user/role/permissions?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:43:08.745 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 08:43:08.748 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';

    
2023-12-15 08:43:08.750 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54026 - "GET /user/role/permissions?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:44:38.208 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 08:44:38.310 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 08:44:38.310 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 08:44:38.311 | INFO     | uvicorn.server:serve:86 - Finished server process [37143]
2023-12-15 08:44:38.725 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 08:44:45.487 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 08:44:45.491 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 08:44:45.496 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:44:45.510 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:44:45.514 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54476 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:44:45.514 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 08:44:45.555 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54475 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:44:45.556 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 08:44:45.567 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 08:44:45.567 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:44:45.569 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 08:44:45.570 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54482 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 08:44:45.572 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:44:45.575 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:44:45.576 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 08:44:45.576 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:44:45.577 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 08:44:45.577 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54480 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:44:45.579 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54475 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 08:44:45.579 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54476 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:44:45.582 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54485 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:44:45.585 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 08:44:45.587 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 08:44:45.589 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54475 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:44:53.626 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:44:53.631 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54530 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 08:44:53.645 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:44:53.649 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54532 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 08:47:04.225 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 08:47:04.226 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:47:04.230 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55059 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 08:47:04.235 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 08:47:04.241 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55058 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:50:49.372 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 08:50:49.373 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:50:49.380 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55977 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 08:50:49.382 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 08:50:49.385 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55976 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:50:52.375 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 08:50:52.378 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:50:52.391 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55977 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 08:50:52.394 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 08:50:52.399 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55976 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:51:08.127 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 08:51:08.132 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:51:08.158 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56060 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 08:51:08.165 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 08:51:08.169 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56059 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:51:45.073 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56221 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:51:45.074 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56222 - "OPTIONS /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:51:45.074 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56223 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:51:45.074 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56224 - "OPTIONS /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:51:45.086 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 08:51:45.087 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 08:51:45.089 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 08:51:45.095 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56221 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:51:45.097 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:51:45.100 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 08:51:45.104 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 08:51:45.104 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:51:45.106 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56223 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:51:45.107 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56224 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:51:45.112 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 08:51:45.115 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:51:45.115 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:51:45.117 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56223 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:51:45.122 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56223 - "OPTIONS /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:51:45.123 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56224 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-15 08:51:45.123 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56221 - "OPTIONS /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:51:45.123 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56222 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-15 08:51:45.128 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 08:51:45.128 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:51:45.131 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56224 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 08:51:45.138 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:51:45.138 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 08:51:45.140 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56221 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 08:51:45.141 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56223 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:51:45.146 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 08:51:45.149 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 08:51:45.150 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56221 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:51:54.727 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 08:51:54.731 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:51:54.743 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56273 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 08:51:54.747 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 08:51:54.752 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56272 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:52:08.001 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:52:08.006 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56334 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 08:52:08.013 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 08:52:08.019 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 08:52:08.025 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56333 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:53:28.120 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56664 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 08:53:28.130 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 08:53:28.134 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:53:28.139 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56664 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 08:53:28.149 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 08:53:28.152 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56663 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:54:36.519 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 08:54:36.520 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:54:36.527 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56949 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 08:54:36.531 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 08:54:36.535 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56948 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:54:46.251 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:54:46.263 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56992 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 08:54:46.274 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:54:46.277 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56994 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 08:55:30.332 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 08:55:30.435 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 08:55:30.437 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 08:55:30.438 | INFO     | uvicorn.server:serve:86 - Finished server process [37188]
2023-12-15 08:55:30.880 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 08:55:43.526 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 08:55:43.627 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 08:55:43.628 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 08:55:43.628 | INFO     | uvicorn.server:serve:86 - Finished server process [37423]
2023-12-15 08:55:44.062 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 08:55:59.426 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 08:55:59.527 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 08:55:59.527 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 08:55:59.528 | INFO     | uvicorn.server:serve:86 - Finished server process [37434]
2023-12-15 08:55:59.955 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 08:56:17.264 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57363 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 405
2023-12-15 08:56:17.273 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:56:17.276 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57364 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 08:56:20.008 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57364 - "GET /user/role/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 405
2023-12-15 08:56:20.022 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:56:20.039 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57363 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 08:56:26.972 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 08:56:27.074 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 08:56:27.075 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 08:56:27.075 | INFO     | uvicorn.server:serve:86 - Finished server process [37446]
2023-12-15 08:56:27.513 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 08:57:51.703 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 08:57:51.709 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 08:57:51.723 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:57:51.727 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:57:51.728 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 08:57:51.744 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57758 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:57:51.749 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57757 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:57:51.753 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 08:57:51.754 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 08:57:51.755 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 08:57:51.758 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57758 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:57:51.761 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:57:51.763 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:57:51.765 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57762 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:57:51.775 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57762 - "OPTIONS /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:57:51.776 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57757 - "OPTIONS /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:57:51.781 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:57:51.782 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 08:57:51.786 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57758 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 08:57:51.795 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:57:51.796 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 08:57:51.799 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57757 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 08:57:51.800 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57762 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:57:51.808 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 08:57:51.812 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 08:57:51.815 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57762 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:57:54.125 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 08:57:54.126 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:57:54.130 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57757 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 08:57:54.131 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 08:57:54.136 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57762 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:57:59.060 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 08:57:59.066 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:57:59.084 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57757 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 08:57:59.093 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 08:57:59.096 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57762 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:58:59.178 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 08:58:59.281 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 08:58:59.281 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 08:58:59.281 | INFO     | uvicorn.server:serve:86 - Finished server process [37463]
2023-12-15 08:58:59.715 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 08:59:04.266 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 08:59:04.367 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 08:59:04.368 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 08:59:04.368 | INFO     | uvicorn.server:serve:86 - Finished server process [37534]
2023-12-15 08:59:04.797 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 08:59:38.367 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 08:59:38.469 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 08:59:38.469 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 08:59:38.470 | INFO     | uvicorn.server:serve:86 - Finished server process [37539]
2023-12-15 08:59:38.875 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 08:59:53.082 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:59:53.089 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58269 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 08:59:53.091 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 08:59:53.096 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 08:59:53.101 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58268 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:59:55.478 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58268 - "OPTIONS /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:59:55.487 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 08:59:55.496 | INFO     | providers.psql_provider:execute:57 - DELETE FROM role_permission_rels WHERE role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';
2023-12-15 08:59:55.501 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE roles
    SET
        name = '支店権限者',
        type = '25'
    WHERE
        roles.id = '81b56795-d809-4aba-95d0-f21f380803e7';
    
2023-12-15 08:59:55.507 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '81b56795-d809-4aba-95d0-f21f380803e7',
            '8f63e587-b802-4cfd-8ead-d3423237b054'
        )
        
2023-12-15 08:59:55.510 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '81b56795-d809-4aba-95d0-f21f380803e7',
            '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
        )
        
2023-12-15 08:59:55.512 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '81b56795-d809-4aba-95d0-f21f380803e7',
            '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
        )
        
2023-12-15 08:59:55.513 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '81b56795-d809-4aba-95d0-f21f380803e7',
            '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
        )
        
2023-12-15 08:59:55.516 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '81b56795-d809-4aba-95d0-f21f380803e7',
            '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
        )
        
2023-12-15 08:59:55.517 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '81b56795-d809-4aba-95d0-f21f380803e7',
            '55762da2-4d17-418e-b09f-e6249645ec18'
        )
        
2023-12-15 08:59:55.519 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '81b56795-d809-4aba-95d0-f21f380803e7',
            'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
        )
        
2023-12-15 08:59:55.522 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58268 - "PUT /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:59:55.533 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 08:59:55.539 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:59:55.542 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 08:59:55.548 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58268 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 08:59:55.576 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:59:55.577 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 08:59:55.580 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58269 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 08:59:55.582 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 08:59:55.586 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58268 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 08:59:57.498 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 08:59:57.499 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 08:59:57.503 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58269 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 08:59:57.506 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 08:59:57.509 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58268 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:00:03.338 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:00:03.343 | INFO     | providers.psql_provider:execute:57 - DELETE FROM role_permission_rels WHERE role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';
2023-12-15 09:00:03.347 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE roles
    SET
        name = '支店権限者',
        type = '25'
    WHERE
        roles.id = '81b56795-d809-4aba-95d0-f21f380803e7';
    
2023-12-15 09:00:03.352 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '81b56795-d809-4aba-95d0-f21f380803e7',
            '8f63e587-b802-4cfd-8ead-d3423237b054'
        )
        
2023-12-15 09:00:03.354 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '81b56795-d809-4aba-95d0-f21f380803e7',
            '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
        )
        
2023-12-15 09:00:03.355 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '81b56795-d809-4aba-95d0-f21f380803e7',
            '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
        )
        
2023-12-15 09:00:03.356 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '81b56795-d809-4aba-95d0-f21f380803e7',
            '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
        )
        
2023-12-15 09:00:03.357 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '81b56795-d809-4aba-95d0-f21f380803e7',
            '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
        )
        
2023-12-15 09:00:03.358 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '81b56795-d809-4aba-95d0-f21f380803e7',
            '2ca11194-6079-41e8-8b26-275aa42848fa'
        )
        
2023-12-15 09:00:03.361 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '81b56795-d809-4aba-95d0-f21f380803e7',
            '55762da2-4d17-418e-b09f-e6249645ec18'
        )
        
2023-12-15 09:00:03.362 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '81b56795-d809-4aba-95d0-f21f380803e7',
            '2065f63f-5e95-432e-9545-eed26715dc49'
        )
        
2023-12-15 09:00:03.362 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '81b56795-d809-4aba-95d0-f21f380803e7',
            '58289de8-b6b7-4629-9016-58e5d30e89ee'
        )
        
2023-12-15 09:00:03.363 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '81b56795-d809-4aba-95d0-f21f380803e7',
            'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
        )
        
2023-12-15 09:00:03.365 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '81b56795-d809-4aba-95d0-f21f380803e7',
            'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
        )
        
2023-12-15 09:00:03.367 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '81b56795-d809-4aba-95d0-f21f380803e7',
            'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7'
        )
        
2023-12-15 09:00:03.369 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58318 - "PUT /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:00:03.379 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:00:03.386 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:00:03.389 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:00:03.392 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58318 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:00:03.417 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:00:03.422 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:00:03.431 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58321 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:00:03.436 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:00:03.440 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58318 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:00:05.321 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:00:05.325 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58321 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:00:05.329 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:00:05.334 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:00:05.338 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58318 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:00:06.970 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:00:06.971 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:00:06.982 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58321 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:00:06.986 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:00:06.989 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58318 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:00:27.693 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:00:27.696 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58426 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 09:00:27.706 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:00:27.709 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58428 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 09:01:20.082 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:01:20.084 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:01:20.088 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58639 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:01:20.093 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:01:20.097 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58638 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:01:28.538 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:01:28.543 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:01:28.554 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58679 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:01:28.559 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:01:28.564 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58678 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:02:43.675 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:02:43.676 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:02:43.706 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58993 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:02:43.720 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:02:43.723 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58992 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:02:48.087 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:02:48.088 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:02:48.093 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58993 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:02:48.097 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:02:48.100 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58992 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:04:50.436 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59524 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-15 09:04:50.437 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59525 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-15 09:04:50.462 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:04:50.467 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59524 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 09:04:50.476 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:04:50.479 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59525 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 09:05:55.966 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59793 - "OPTIONS /orgs/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:05:55.978 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 09:05:55.982 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:05:55.989 | INFO     | providers.psql_provider:fetch_one:30 - 
        INSERT INTO roles (type, name)
        VALUES (
            '24',
            '本社担当者'
        )
        RETURNING id;
        
2023-12-15 09:05:55.994 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_org_rels (user_id, org_id, type)
        VALUES (
            '02804013-a550-4ee6-822c-c00a0f7d4985',
            '1b33d5f9-6655-492e-9ad0-ca8125f88b2c',
            '24'
        )
        
2023-12-15 09:05:55.995 | ERROR    | app.endpoints.orgs:org_new_users:91 - duplicate key value violates unique constraint "user_org_rels_pkey"
DETAIL:  Key (user_id, org_id)=(02804013-a550-4ee6-822c-c00a0f7d4985, 1b33d5f9-6655-492e-9ad0-ca8125f88b2c) already exists.Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1029e59d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102763430>
           └ <SpawnProcess name='SpawnProcess-16' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102757a60>
    └ <SpawnProcess name='SpawnProcess-16' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1029f6a30>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=33732 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=33732 started>
    │    └ <function subprocess_started at 0x105c88550>
    └ <SpawnProcess name='SpawnProcess-16' parent=33732 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1029f6b50>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x105c7caf0>
           │       │   └ <uvicorn.server.Server object at 0x1029f6b50>
           │       └ <function run at 0x102a22820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x105c80540>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x105ccf3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106033ee0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106033e...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x105db0b20>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x105ccf3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106033ee0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106033e...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106033ee0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106033e...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10600c9d0>
          └ <fastapi.applications.FastAPI object at 0x105db0b20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1056de700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106033e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10600c940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10600c9d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'content-length': '1346', 'accept': 'application/json, text/plai...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1056de700>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106033e...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x1051f7af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10600c940>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10600c940>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106033e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10600cc70>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10600c940>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105dbd160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106033e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10600cb80>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10600cc70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105dbd160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106033e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x105db0c40>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10600cb80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105dbd160>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106033e...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10514eaf0>
          └ APIRoute(path='/orgs/users/{org_id}', name='org_new_users', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105dbd160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106033e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x105dad3a0>
          └ APIRoute(path='/orgs/users/{org_id}', name='org_new_users', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x105dbbcd0>
                     └ <function get_request_handler.<locals>.app at 0x105dad4c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10513b790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x105ca5160>, 'org_id': '1b33d5f9-6655-492e-9ad0-ca8125f88b2c', 'data': {'user_i...
                 │         └ <function org_new_users at 0x105b2c280>
                 └ <fastapi.dependencies.models.Dependant object at 0x106001370>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 85, in org_new_users
    await orgs_crud.insert_org_user(db, data, org_id)
          │         │               │   │     └ '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
          │         │               │   └ {'user_ids': ['02804013-a550-4ee6-822c-c00a0f7d4985'], 'permissions': {'02804013-a550-4ee6-822c-c00a0f7d4985': {'type': '24',...
          │         │               └ <providers.psql_provider.DB object at 0x105ca5160>
          │         └ <function insert_org_user at 0x105b324c0>
          └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 369, in insert_org_user
    await db.execute(sql)
          │  │       └ "\n        INSERT INTO user_org_rels (user_id, org_id, type)\n        VALUES (\n            '02804013-a550-4ee6-822c-c00a0f7d...
          │  └ <function DB.execute at 0x1056feee0>
          └ <providers.psql_provider.DB object at 0x105ca5160>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 58, in execute
    await con.execute(query)
          │   │       └ "\n        INSERT INTO user_org_rels (user_id, org_id, type)\n        VALUES (\n            '02804013-a550-4ee6-822c-c00a0f7d...
          │   └ <function Connection.execute at 0x10544df70>
          └ <PoolConnectionProxy [released] 0x106033fa0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
                   │    │               │      └ None
                   │    │               └ "\n        INSERT INTO user_org_rels (user_id, org_id, type)\n        VALUES (\n            '02804013-a550-4ee6-822c-c00a0f7d...
                   │    └ <member '_protocol' of 'Connection' objects>
                   └ <asyncpg.connection.Connection object at 0x1060a9400>
  File "asyncpg/protocol/protocol.pyx", line 374, in query
    return await waiter

asyncpg.exceptions.UniqueViolationError: duplicate key value violates unique constraint "user_org_rels_pkey"
DETAIL:  Key (user_id, org_id)=(02804013-a550-4ee6-822c-c00a0f7d4985, 1b33d5f9-6655-492e-9ad0-ca8125f88b2c) already exists.

2023-12-15 09:05:56.019 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59793 - "POST /orgs/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 500
2023-12-15 09:06:48.980 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60007 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:06:48.981 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60008 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:06:48.988 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:06:48.991 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 09:06:48.993 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60008 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:06:48.999 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:06:49.002 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 09:06:49.006 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60007 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:06:54.103 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60032 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:06:54.103 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60033 - "OPTIONS /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:06:54.104 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60034 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:06:54.104 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60035 - "OPTIONS /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:06:54.115 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 09:06:54.117 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:06:54.120 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:06:54.122 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:06:54.122 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:06:54.124 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60035 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:06:54.129 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60034 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:06:54.131 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:06:54.134 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 09:06:54.148 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:06:54.151 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:06:54.152 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60035 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:06:54.154 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60033 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 09:06:54.154 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60035 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 09:06:54.160 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:06:54.161 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:06:54.161 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:06:54.162 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:06:54.162 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60033 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:06:54.163 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60032 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:06:54.164 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60034 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:06:54.167 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:06:54.167 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:06:54.168 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60035 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:06:54.169 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:06:54.170 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60032 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:07:40.028 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 09:07:40.130 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 09:07:40.130 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 09:07:40.131 | INFO     | uvicorn.server:serve:86 - Finished server process [37556]
2023-12-15 09:07:40.560 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 09:07:43.118 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:07:43.124 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 09:07:43.133 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:07:43.137 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:07:43.149 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:07:43.164 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60251 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:07:43.182 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60250 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:07:43.184 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:07:43.186 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:07:43.186 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:07:43.190 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 09:07:43.191 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60257 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:07:43.194 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:07:43.206 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:07:43.207 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:07:43.207 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:07:43.212 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60251 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:07:43.213 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60259 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:07:43.213 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60250 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:07:43.215 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:07:43.216 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:07:43.218 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60255 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:07:43.219 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:07:43.220 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60257 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:07:47.710 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:07:47.713 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60257 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 09:07:47.722 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:07:47.738 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60255 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 09:08:00.492 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 09:08:00.497 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:08:00.506 | INFO     | providers.psql_provider:fetch_one:30 - 
        INSERT INTO roles (type, name)
        VALUES (
            '24',
            '本社担当者'
        )
        RETURNING id;
        
2023-12-15 09:08:00.512 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_org_rels (user_id, org_id, type)
        VALUES (
            '37c0b84f-d73b-4a2f-ace0-a750ef7e288e',
            '1b33d5f9-6655-492e-9ad0-ca8125f88b2c',
            '24'
        )
        
2023-12-15 09:08:00.518 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_role_rels (user_id, role_id)
        VALUES (
            '37c0b84f-d73b-4a2f-ace0-a750ef7e288e',
            '79e73b30-1b1d-4ad2-9d86-e59310b58716'
        )
        
2023-12-15 09:08:00.523 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO org_role_rels (org_id, role_id)
        VALUES (
            '1b33d5f9-6655-492e-9ad0-ca8125f88b2c',
            '79e73b30-1b1d-4ad2-9d86-e59310b58716'
        )
        
2023-12-15 09:08:00.529 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '79e73b30-1b1d-4ad2-9d86-e59310b58716',
                '8f63e587-b802-4cfd-8ead-d3423237b054'
            )
            
2023-12-15 09:08:00.531 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '79e73b30-1b1d-4ad2-9d86-e59310b58716',
                '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
            )
            
2023-12-15 09:08:00.532 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '79e73b30-1b1d-4ad2-9d86-e59310b58716',
                '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
            )
            
2023-12-15 09:08:00.533 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '79e73b30-1b1d-4ad2-9d86-e59310b58716',
                '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
            )
            
2023-12-15 09:08:00.534 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '79e73b30-1b1d-4ad2-9d86-e59310b58716',
                'dd96b563-2476-4904-a880-a2cffe1ea0ac'
            )
            
2023-12-15 09:08:00.537 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '79e73b30-1b1d-4ad2-9d86-e59310b58716',
                '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
            )
            
2023-12-15 09:08:00.538 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '79e73b30-1b1d-4ad2-9d86-e59310b58716',
                '2ca11194-6079-41e8-8b26-275aa42848fa'
            )
            
2023-12-15 09:08:00.539 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '79e73b30-1b1d-4ad2-9d86-e59310b58716',
                '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
            )
            
2023-12-15 09:08:00.540 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '79e73b30-1b1d-4ad2-9d86-e59310b58716',
                '58289de8-b6b7-4629-9016-58e5d30e89ee'
            )
            
2023-12-15 09:08:00.541 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '79e73b30-1b1d-4ad2-9d86-e59310b58716',
                '2065f63f-5e95-432e-9545-eed26715dc49'
            )
            
2023-12-15 09:08:00.541 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '79e73b30-1b1d-4ad2-9d86-e59310b58716',
                '55762da2-4d17-418e-b09f-e6249645ec18'
            )
            
2023-12-15 09:08:00.542 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '79e73b30-1b1d-4ad2-9d86-e59310b58716',
                'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
            )
            
2023-12-15 09:08:00.543 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '79e73b30-1b1d-4ad2-9d86-e59310b58716',
                'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
            )
            
2023-12-15 09:08:00.544 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '79e73b30-1b1d-4ad2-9d86-e59310b58716',
                'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7'
            )
            
2023-12-15 09:08:00.545 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60338 - "POST /orgs/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:08:00.553 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:08:00.558 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:08:00.560 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:08:00.563 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60338 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:08:00.577 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60338 - "OPTIONS /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:08:00.579 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60342 - "OPTIONS /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:08:00.584 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:08:00.584 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 09:08:00.586 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60341 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:08:00.592 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:08:00.592 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '79e73b30-1b1d-4ad2-9d86-e59310b58716';

    
2023-12-15 09:08:00.594 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60342 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:08:00.594 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60338 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:08:00.599 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 09:08:00.603 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '79e73b30-1b1d-4ad2-9d86-e59310b58716';

    
2023-12-15 09:08:00.606 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60342 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:08:19.021 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60424 - "OPTIONS /org/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:08:19.031 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            id
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
            AND
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 09:08:19.036 | ERROR    | app.endpoints.users:remove_role_user:79 - name 'query_user_role_permissions' is not definedTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100b4d9d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1008cb430>
           └ <SpawnProcess name='SpawnProcess-17' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1008bfa60>
    └ <SpawnProcess name='SpawnProcess-17' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100b5ea30>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=33732 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=33732 started>
    │    └ <function subprocess_started at 0x102fec550>
    └ <SpawnProcess name='SpawnProcess-17' parent=33732 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100b5eb50>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x102fe1af0>
           │       │   └ <uvicorn.server.Server object at 0x100b5eb50>
           │       └ <function run at 0x100b8a820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x102fe5540>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10302fb20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1032722b0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1032722...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x103114880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10302fb20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1032722b0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1032722...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1032722b0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1032722...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x103240c40>
          └ <fastapi.applications.FastAPI object at 0x103114880>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103111280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1032722...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x103240880>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x103240c40>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'content-length': '53', 'accept': 'application/json, text/plain,...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103111280>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1032722...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x102787af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x103240880>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x103240880>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1032722...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x103240d00>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x103240880>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103111e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1032722...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1032407f0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x103240d00>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103111e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1032722...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1031149a0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1032407f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103111e50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1032722...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1026deaf0>
          └ APIRoute(path='/org/users/{org_id}', name='remove_role_user', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103111e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1032722...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103111310>
          └ APIRoute(path='/org/users/{org_id}', name='remove_role_user', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1032d8ee0>
                     └ <function get_request_handler.<locals>.app at 0x103111430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1026cb790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102ffae80>, 'org_id': '1b33d5f9-6655-492e-9ad0-ca8125f88b2c', 'data': {'user_i...
                 │         └ <function remove_role_user at 0x102e96700>
                 └ <fastapi.dependencies.models.Dependant object at 0x1031140a0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/users.py", line 73, in remove_role_user
    await users_crud.deleted_user_role_permissions(db, data, org_id)
          │          │                             │   │     └ '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
          │          │                             │   └ {'user_ids': ['37c0b84f-d73b-4a2f-ace0-a750ef7e288e']}
          │          │                             └ <providers.psql_provider.DB object at 0x102ffae80>
          │          └ <function deleted_user_role_permissions at 0x102e7fca0>
          └ <module 'app.crud.users_crud' from '/Users/ryu/loan-ledger-if/app/crud/users_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/users_crud.py", line 149, in deleted_user_role_permissions
    old_user_role_permissions = await query_user_role_permissions(db, user_id, org_id)
                                                                  │   │        └ '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
                                                                  │   └ '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
                                                                  └ <providers.psql_provider.DB object at 0x102ffae80>

NameError: name 'query_user_role_permissions' is not defined

2023-12-15 09:08:19.064 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60424 - "POST /org/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 500
2023-12-15 09:09:19.928 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 09:09:20.029 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 09:09:20.030 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 09:09:20.030 | INFO     | uvicorn.server:serve:86 - Finished server process [37717]
2023-12-15 09:09:20.454 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 09:09:25.713 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 09:09:25.815 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 09:09:25.815 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 09:09:25.816 | INFO     | uvicorn.server:serve:86 - Finished server process [37772]
2023-12-15 09:09:26.247 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 09:09:30.695 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 09:09:30.797 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 09:09:30.799 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 09:09:30.799 | INFO     | uvicorn.server:serve:86 - Finished server process [37780]
2023-12-15 09:09:31.222 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 09:10:43.056 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 09:10:43.158 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 09:10:43.161 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 09:10:43.162 | INFO     | uvicorn.server:serve:86 - Finished server process [37785]
2023-12-15 09:10:43.586 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 09:11:35.879 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 09:11:35.880 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:11:35.897 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:11:35.899 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:11:35.905 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:11:35.908 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61219 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:11:35.915 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61220 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:11:35.923 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 09:11:35.927 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:11:35.930 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:11:35.932 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:11:35.933 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:11:35.935 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61219 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:11:35.936 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61224 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:11:35.953 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61224 - "OPTIONS /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:11:35.958 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61232 - "OPTIONS /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:11:35.966 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:11:35.969 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 09:11:35.970 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:11:35.971 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61219 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:11:35.991 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:11:35.996 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61232 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:11:35.997 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '79e73b30-1b1d-4ad2-9d86-e59310b58716';

    
2023-12-15 09:11:35.999 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:11:36.002 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61220 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:11:36.003 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:11:36.004 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61224 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:11:36.009 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61232 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:11:36.012 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:11:36.013 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 09:11:36.016 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:11:36.020 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61224 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:11:36.021 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '79e73b30-1b1d-4ad2-9d86-e59310b58716';

    
2023-12-15 09:11:36.021 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:11:36.025 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61220 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:11:36.025 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61219 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:11:38.103 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61220 - "OPTIONS /org/user/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:11:38.116 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            id
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
            AND
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 09:11:38.123 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 09:11:38.128 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '79e73b30-1b1d-4ad2-9d86-e59310b58716';

    
2023-12-15 09:11:38.135 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_org_rels
        WHERE
            user_org_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
            AND
            user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
        
2023-12-15 09:11:38.138 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_role_rels
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
            AND
            user_role_rels.role_id = '79e73b30-1b1d-4ad2-9d86-e59310b58716';
        
2023-12-15 09:11:38.140 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM org_role_rels
        WHERE
            org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
            AND
            org_role_rels.role_id = '79e73b30-1b1d-4ad2-9d86-e59310b58716';
        
2023-12-15 09:11:38.144 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '79e73b30-1b1d-4ad2-9d86-e59310b58716'
                AND
                permission_id = '8f63e587-b802-4cfd-8ead-d3423237b054';
            
2023-12-15 09:11:38.146 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '79e73b30-1b1d-4ad2-9d86-e59310b58716'
                AND
                permission_id = '0b25e905-64ae-42d2-98ed-2c8ebd845d66';
            
2023-12-15 09:11:38.149 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '79e73b30-1b1d-4ad2-9d86-e59310b58716'
                AND
                permission_id = '53dc2e89-791d-4b66-aa73-f51ea9cd4e26';
            
2023-12-15 09:11:38.150 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '79e73b30-1b1d-4ad2-9d86-e59310b58716'
                AND
                permission_id = '7f956b2a-65ce-463e-9ddb-6627f9b42ecf';
            
2023-12-15 09:11:38.153 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '79e73b30-1b1d-4ad2-9d86-e59310b58716'
                AND
                permission_id = 'dd96b563-2476-4904-a880-a2cffe1ea0ac';
            
2023-12-15 09:11:38.158 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '79e73b30-1b1d-4ad2-9d86-e59310b58716'
                AND
                permission_id = '55ba3199-c673-49d8-8001-9b5f3b2b33dc';
            
2023-12-15 09:11:38.160 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '79e73b30-1b1d-4ad2-9d86-e59310b58716'
                AND
                permission_id = '2ca11194-6079-41e8-8b26-275aa42848fa';
            
2023-12-15 09:11:38.162 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '79e73b30-1b1d-4ad2-9d86-e59310b58716'
                AND
                permission_id = '0a3f364b-21e6-4c0d-bf6e-67729bf899a2';
            
2023-12-15 09:11:38.163 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '79e73b30-1b1d-4ad2-9d86-e59310b58716'
                AND
                permission_id = '58289de8-b6b7-4629-9016-58e5d30e89ee';
            
2023-12-15 09:11:38.165 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '79e73b30-1b1d-4ad2-9d86-e59310b58716'
                AND
                permission_id = '2065f63f-5e95-432e-9545-eed26715dc49';
            
2023-12-15 09:11:38.165 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '79e73b30-1b1d-4ad2-9d86-e59310b58716'
                AND
                permission_id = '55762da2-4d17-418e-b09f-e6249645ec18';
            
2023-12-15 09:11:38.166 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '79e73b30-1b1d-4ad2-9d86-e59310b58716'
                AND
                permission_id = 'ee3ed4ae-43d9-4d37-92f9-a4950788d8be';
            
2023-12-15 09:11:38.168 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '79e73b30-1b1d-4ad2-9d86-e59310b58716'
                AND
                permission_id = 'bce2b4a4-0cad-4baa-96dd-671f2d942c7e';
            
2023-12-15 09:11:38.170 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '79e73b30-1b1d-4ad2-9d86-e59310b58716'
                AND
                permission_id = 'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7';
            
2023-12-15 09:11:38.171 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM roles WHERE id = '79e73b30-1b1d-4ad2-9d86-e59310b58716';
        
2023-12-15 09:11:38.174 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61220 - "POST /org/user/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:11:38.184 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:11:38.189 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:11:38.191 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:11:38.194 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61220 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:11:40.874 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:11:40.878 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61220 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 09:11:40.891 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:11:40.907 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61219 - "GET /options/permissions HTTP/1.1" 200
2023-12-15 09:11:48.173 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 09:11:48.178 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:11:48.185 | INFO     | providers.psql_provider:fetch_one:30 - 
        INSERT INTO roles (type, name)
        VALUES (
            '25',
            '支店権限者'
        )
        RETURNING id;
        
2023-12-15 09:11:48.188 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_org_rels (user_id, org_id, type)
        VALUES (
            '4df1a42a-dbb8-4bce-9be0-29cca28767ab',
            '1b33d5f9-6655-492e-9ad0-ca8125f88b2c',
            '25'
        )
        
2023-12-15 09:11:48.194 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_role_rels (user_id, role_id)
        VALUES (
            '4df1a42a-dbb8-4bce-9be0-29cca28767ab',
            '847c8505-851a-4209-b272-a7c56554c5f3'
        )
        
2023-12-15 09:11:48.196 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO org_role_rels (org_id, role_id)
        VALUES (
            '1b33d5f9-6655-492e-9ad0-ca8125f88b2c',
            '847c8505-851a-4209-b272-a7c56554c5f3'
        )
        
2023-12-15 09:11:48.199 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61298 - "POST /orgs/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:11:48.218 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:11:48.223 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:11:48.226 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:11:48.234 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61298 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:11:48.250 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61298 - "OPTIONS /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:11:48.258 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61302 - "OPTIONS /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:11:48.275 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:11:48.276 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 09:11:48.280 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61301 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:11:48.293 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:11:48.294 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '847c8505-851a-4209-b272-a7c56554c5f3';

    
2023-12-15 09:11:48.299 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61302 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:11:48.301 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61298 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:11:48.313 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 09:11:48.317 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '847c8505-851a-4209-b272-a7c56554c5f3';

    
2023-12-15 09:11:48.321 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61302 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:11:50.601 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            id
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
            AND
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 09:11:50.606 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 09:11:50.609 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '847c8505-851a-4209-b272-a7c56554c5f3';

    
2023-12-15 09:11:50.610 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_org_rels
        WHERE
            user_org_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab'
            AND
            user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
        
2023-12-15 09:11:50.613 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_role_rels
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab'
            AND
            user_role_rels.role_id = '847c8505-851a-4209-b272-a7c56554c5f3';
        
2023-12-15 09:11:50.614 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM org_role_rels
        WHERE
            org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
            AND
            org_role_rels.role_id = '847c8505-851a-4209-b272-a7c56554c5f3';
        
2023-12-15 09:11:50.617 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM roles WHERE id = '847c8505-851a-4209-b272-a7c56554c5f3';
        
2023-12-15 09:11:50.620 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61302 - "POST /org/user/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:11:50.633 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:11:50.639 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:11:50.643 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:11:50.648 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61302 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:27:31.088 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65102 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:27:31.089 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65103 - "OPTIONS /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:27:31.100 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65104 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:27:31.109 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65105 - "OPTIONS /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:27:31.151 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:27:31.152 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 09:27:31.162 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:27:31.168 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65102 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:27:31.171 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:27:31.176 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 09:27:31.178 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:27:31.180 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:27:31.184 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65105 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:27:31.185 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65103 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:27:31.196 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:27:31.199 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:27:31.201 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:27:31.202 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65105 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:27:31.212 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65105 - "OPTIONS /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:27:31.213 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65103 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 09:27:31.214 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65102 - "OPTIONS /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:27:31.214 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65104 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 09:27:31.236 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:27:31.238 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:27:31.244 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65103 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:27:31.247 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:27:31.251 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65105 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:27:31.252 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:27:31.256 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65104 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:27:31.260 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:27:31.266 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:27:31.268 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65103 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:27:32.451 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:27:32.453 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65103 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:27:32.463 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:27:32.467 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65104 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:27:43.351 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:27:43.358 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65167 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:27:43.369 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:27:43.373 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65169 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:27:53.635 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65218 - "OPTIONS /orgs/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:27:53.647 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 09:27:53.650 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:27:53.654 | INFO     | providers.psql_provider:fetch_one:30 - 
        INSERT INTO roles (type, name)
        VALUES (
            '25',
            '支店権限者'
        )
        RETURNING id;
        
2023-12-15 09:27:53.657 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_org_rels (user_id, org_id, type)
        VALUES (
            '4df1a42a-dbb8-4bce-9be0-29cca28767ab',
            '1b33d5f9-6655-492e-9ad0-ca8125f88b2c',
            '25'
        )
        
2023-12-15 09:27:53.660 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_role_rels (user_id, role_id)
        VALUES (
            '4df1a42a-dbb8-4bce-9be0-29cca28767ab',
            'f95a8692-5156-43c2-95c9-667c398777d9'
        )
        
2023-12-15 09:27:53.665 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO org_role_rels (org_id, role_id)
        VALUES (
            '1b33d5f9-6655-492e-9ad0-ca8125f88b2c',
            'f95a8692-5156-43c2-95c9-667c398777d9'
        )
        
2023-12-15 09:27:53.668 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'f95a8692-5156-43c2-95c9-667c398777d9',
                '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
            )
            
2023-12-15 09:27:53.671 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'f95a8692-5156-43c2-95c9-667c398777d9',
                '2ca11194-6079-41e8-8b26-275aa42848fa'
            )
            
2023-12-15 09:27:53.672 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'f95a8692-5156-43c2-95c9-667c398777d9',
                '55762da2-4d17-418e-b09f-e6249645ec18'
            )
            
2023-12-15 09:27:53.673 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'f95a8692-5156-43c2-95c9-667c398777d9',
                'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
            )
            
2023-12-15 09:27:53.674 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65218 - "POST /orgs/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:27:53.687 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:27:53.695 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:27:53.698 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:27:53.702 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65218 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:27:53.716 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65218 - "OPTIONS /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:27:53.720 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65222 - "OPTIONS /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:27:53.730 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:27:53.731 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 09:27:53.733 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65221 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:27:53.748 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:27:53.749 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'f95a8692-5156-43c2-95c9-667c398777d9';

    
2023-12-15 09:27:53.752 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65222 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:27:53.753 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65218 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:27:53.764 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 09:27:53.772 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'f95a8692-5156-43c2-95c9-667c398777d9';

    
2023-12-15 09:27:53.775 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65222 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:28:19.930 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:28:19.934 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65332 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:28:19.948 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:28:19.952 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65334 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:29:34.050 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 09:29:34.152 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 09:29:34.153 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 09:29:34.153 | INFO     | uvicorn.server:serve:86 - Finished server process [37798]
2023-12-15 09:29:34.639 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 09:29:58.104 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 09:29:58.205 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 09:29:58.206 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 09:29:58.206 | INFO     | uvicorn.server:serve:86 - Finished server process [38084]
2023-12-15 09:29:58.600 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 09:30:22.075 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 09:30:22.177 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 09:30:22.178 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 09:30:22.178 | INFO     | uvicorn.server:serve:86 - Finished server process [38100]
2023-12-15 09:30:22.625 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 09:30:26.672 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 09:30:26.774 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 09:30:26.774 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 09:30:26.775 | INFO     | uvicorn.server:serve:86 - Finished server process [38111]
2023-12-15 09:30:27.176 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 09:31:33.144 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 09:31:33.245 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 09:31:33.246 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 09:31:33.246 | INFO     | uvicorn.server:serve:86 - Finished server process [38116]
2023-12-15 09:31:33.664 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 09:32:09.468 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 09:32:09.570 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 09:32:09.571 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 09:32:09.571 | INFO     | uvicorn.server:serve:86 - Finished server process [38141]
2023-12-15 09:32:09.987 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 09:32:29.603 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 09:32:29.704 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 09:32:29.704 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 09:32:29.705 | INFO     | uvicorn.server:serve:86 - Finished server process [38153]
2023-12-15 09:32:30.133 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 09:33:55.290 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 09:33:55.391 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 09:33:55.391 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 09:33:55.392 | INFO     | uvicorn.server:serve:86 - Finished server process [38164]
2023-12-15 09:33:55.823 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 09:34:05.331 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 09:34:05.432 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 09:34:05.433 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 09:34:05.433 | INFO     | uvicorn.server:serve:86 - Finished server process [38181]
2023-12-15 09:34:05.851 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 09:34:14.845 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 09:34:14.947 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 09:34:14.947 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 09:34:14.948 | INFO     | uvicorn.server:serve:86 - Finished server process [38191]
2023-12-15 09:34:15.353 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 09:34:43.596 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 09:34:43.698 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 09:34:43.698 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 09:34:43.699 | INFO     | uvicorn.server:serve:86 - Finished server process [38199]
2023-12-15 09:34:44.124 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 09:34:48.565 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:34:48.566 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 09:34:48.570 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:34:48.586 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50540 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:34:48.606 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:34:48.615 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 09:34:48.617 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:34:48.622 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50541 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:34:48.635 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:34:48.637 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:34:48.650 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50545 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:34:48.652 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:34:48.653 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 09:34:48.654 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:34:48.654 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:34:48.657 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'f95a8692-5156-43c2-95c9-667c398777d9';

    
2023-12-15 09:34:48.660 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50550 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:34:48.663 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50551 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:34:48.665 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:34:48.666 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:34:48.666 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:34:48.667 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50545 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:34:48.667 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50541 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:34:48.668 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50540 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:34:48.669 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 09:34:48.672 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'f95a8692-5156-43c2-95c9-667c398777d9';

    
2023-12-15 09:34:48.672 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:34:48.673 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:34:48.674 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50550 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:34:48.675 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50551 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:34:48.681 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:34:48.681 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:34:48.682 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50550 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:34:48.683 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50541 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:34:51.991 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50541 - "OPTIONS /org/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:34:51.993 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50541 - "DELETE /org/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 422
2023-12-15 09:36:05.109 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 09:36:05.210 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 09:36:05.211 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 09:36:05.212 | INFO     | uvicorn.server:serve:86 - Finished server process [38212]
2023-12-15 09:36:05.632 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 09:36:09.790 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 09:36:09.791 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:36:09.805 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:36:09.828 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:36:09.831 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50898 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:36:09.832 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:36:09.844 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50897 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:36:09.844 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:36:09.853 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 09:36:09.856 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:36:09.857 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:36:09.861 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50898 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:36:09.861 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:36:09.864 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50902 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:36:09.871 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:36:09.872 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:36:09.873 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 09:36:09.876 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50898 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:36:09.877 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'f95a8692-5156-43c2-95c9-667c398777d9';

    
2023-12-15 09:36:09.880 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50897 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:36:09.882 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:36:09.882 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:36:09.884 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50910 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:36:09.886 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50902 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:36:09.886 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 09:36:09.889 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:36:09.901 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:36:09.902 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50897 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:36:09.905 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'f95a8692-5156-43c2-95c9-667c398777d9';

    
2023-12-15 09:36:09.911 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:36:09.912 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50898 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:36:09.912 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:36:09.913 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50902 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:36:09.915 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50910 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:36:12.028 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50910 - "OPTIONS /org/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:36:12.041 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            id
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
            AND
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 09:36:12.055 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 09:36:12.064 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'f95a8692-5156-43c2-95c9-667c398777d9';

    
2023-12-15 09:36:12.066 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_org_rels
        WHERE
            user_org_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab'
            AND
            user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
        
2023-12-15 09:36:12.068 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_role_rels
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab'
            AND
            user_role_rels.role_id = 'f95a8692-5156-43c2-95c9-667c398777d9';
        
2023-12-15 09:36:12.069 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM org_role_rels
        WHERE
            org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
            AND
            org_role_rels.role_id = 'f95a8692-5156-43c2-95c9-667c398777d9';
        
2023-12-15 09:36:12.071 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'f95a8692-5156-43c2-95c9-667c398777d9'
                AND
                permission_id = '7f956b2a-65ce-463e-9ddb-6627f9b42ecf';
            
2023-12-15 09:36:12.072 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'f95a8692-5156-43c2-95c9-667c398777d9'
                AND
                permission_id = '2ca11194-6079-41e8-8b26-275aa42848fa';
            
2023-12-15 09:36:12.073 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'f95a8692-5156-43c2-95c9-667c398777d9'
                AND
                permission_id = '55762da2-4d17-418e-b09f-e6249645ec18';
            
2023-12-15 09:36:12.073 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'f95a8692-5156-43c2-95c9-667c398777d9'
                AND
                permission_id = 'bce2b4a4-0cad-4baa-96dd-671f2d942c7e';
            
2023-12-15 09:36:12.074 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM roles WHERE id = 'f95a8692-5156-43c2-95c9-667c398777d9';
        
2023-12-15 09:36:12.075 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50910 - "PUT /org/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:36:12.085 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:36:12.087 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:36:12.088 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:36:12.089 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50910 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:36:15.155 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:36:15.163 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50910 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:36:15.188 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:36:15.196 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50942 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:36:24.285 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50981 - "POST /orgs/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 404
2023-12-15 09:36:56.607 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 09:36:56.608 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:36:56.627 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:36:56.640 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:36:56.642 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:36:56.644 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51116 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:36:56.645 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51117 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:36:56.658 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 09:36:56.663 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:36:56.668 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:36:56.671 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:36:56.672 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:36:56.685 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51117 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:36:56.688 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51121 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:36:56.692 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:36:56.693 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:36:56.697 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51125 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:36:56.698 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:36:56.704 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51116 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:36:56.707 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:36:56.710 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51117 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:36:56.711 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:36:56.713 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:36:56.714 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51125 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:36:57.848 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:36:57.850 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51125 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:36:57.858 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:36:57.860 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51117 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:37:06.416 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 09:37:06.421 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:37:06.428 | INFO     | providers.psql_provider:fetch_one:30 - 
        INSERT INTO roles (type, name)
        VALUES (
            '26',
            '営業担当者'
        )
        RETURNING id;
        
2023-12-15 09:37:06.432 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_org_rels (user_id, org_id, type)
        VALUES (
            '4df1a42a-dbb8-4bce-9be0-29cca28767ab',
            '1b33d5f9-6655-492e-9ad0-ca8125f88b2c',
            '26'
        )
        
2023-12-15 09:37:06.434 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_role_rels (user_id, role_id)
        VALUES (
            '4df1a42a-dbb8-4bce-9be0-29cca28767ab',
            'c2d8eca6-9e32-4a74-b35f-6aded04198f6'
        )
        
2023-12-15 09:37:06.435 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO org_role_rels (org_id, role_id)
        VALUES (
            '1b33d5f9-6655-492e-9ad0-ca8125f88b2c',
            'c2d8eca6-9e32-4a74-b35f-6aded04198f6'
        )
        
2023-12-15 09:37:06.442 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'c2d8eca6-9e32-4a74-b35f-6aded04198f6',
                'dd96b563-2476-4904-a880-a2cffe1ea0ac'
            )
            
2023-12-15 09:37:06.446 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'c2d8eca6-9e32-4a74-b35f-6aded04198f6',
                '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
            )
            
2023-12-15 09:37:06.448 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'c2d8eca6-9e32-4a74-b35f-6aded04198f6',
                '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
            )
            
2023-12-15 09:37:06.450 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'c2d8eca6-9e32-4a74-b35f-6aded04198f6',
                '2ca11194-6079-41e8-8b26-275aa42848fa'
            )
            
2023-12-15 09:37:06.451 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'c2d8eca6-9e32-4a74-b35f-6aded04198f6',
                '58289de8-b6b7-4629-9016-58e5d30e89ee'
            )
            
2023-12-15 09:37:06.453 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'c2d8eca6-9e32-4a74-b35f-6aded04198f6',
                'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
            )
            
2023-12-15 09:37:06.457 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51172 - "POST /org/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:37:06.470 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:37:06.476 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:37:06.479 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:37:06.483 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51172 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:37:06.507 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 09:37:06.513 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:37:06.521 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51175 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:37:06.529 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'c2d8eca6-9e32-4a74-b35f-6aded04198f6';

    
2023-12-15 09:37:06.532 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:37:06.534 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51172 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:37:06.536 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51175 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:37:06.544 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 09:37:06.549 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'c2d8eca6-9e32-4a74-b35f-6aded04198f6';

    
2023-12-15 09:37:06.553 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51179 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:38:08.912 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51437 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:38:08.913 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51438 - "OPTIONS /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:38:08.913 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51439 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:38:08.914 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51440 - "OPTIONS /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:38:08.964 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:38:08.965 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 09:38:08.970 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:38:08.984 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51440 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:38:08.986 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:38:08.994 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 09:38:09.000 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:38:09.003 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:38:09.005 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51439 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:38:09.006 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51438 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:38:09.012 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:38:09.016 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:38:09.017 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:38:09.019 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51439 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:38:09.043 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51439 - "OPTIONS /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:38:09.044 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51438 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 09:38:09.044 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51440 - "OPTIONS /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:38:09.045 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51437 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 09:38:09.045 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51439 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 09:38:09.046 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51447 - "OPTIONS /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:38:09.047 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51438 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 09:38:09.047 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51448 - "OPTIONS /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:38:09.061 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 09:38:09.062 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:38:09.065 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:38:09.074 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51439 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:38:09.079 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'c2d8eca6-9e32-4a74-b35f-6aded04198f6';

    
2023-12-15 09:38:09.080 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:38:09.080 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:38:09.083 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51448 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:38:09.083 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51440 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:38:09.084 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51437 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:38:09.095 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:38:09.098 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:38:09.099 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 09:38:09.101 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51439 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:38:09.111 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:38:09.112 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:38:09.114 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'c2d8eca6-9e32-4a74-b35f-6aded04198f6';

    
2023-12-15 09:38:09.115 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51437 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:38:09.116 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51448 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:38:09.117 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51438 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:38:36.808 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 09:38:36.812 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:38:36.823 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:38:36.825 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:38:36.826 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:38:36.828 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51578 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:38:36.832 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51577 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:38:36.836 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:38:36.845 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:38:36.846 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 09:38:36.849 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:38:36.853 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51578 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:38:36.855 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:38:36.858 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51582 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:38:36.866 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:38:36.867 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:38:36.867 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 09:38:36.869 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51578 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:38:36.875 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:38:36.876 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:38:36.876 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'c2d8eca6-9e32-4a74-b35f-6aded04198f6';

    
2023-12-15 09:38:36.877 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51589 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:38:36.878 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51582 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:38:36.878 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51577 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:38:36.884 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:38:36.885 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:38:36.888 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 09:38:36.901 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51589 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:38:36.909 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:38:36.909 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:38:36.909 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'c2d8eca6-9e32-4a74-b35f-6aded04198f6';

    
2023-12-15 09:38:36.910 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51577 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:38:36.910 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51578 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:38:36.911 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51582 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:40:55.460 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 09:40:55.562 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 09:40:55.562 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 09:40:55.562 | INFO     | uvicorn.server:serve:86 - Finished server process [38254]
2023-12-15 09:40:55.985 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 09:41:06.622 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 09:41:06.725 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 09:41:06.726 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 09:41:06.727 | INFO     | uvicorn.server:serve:86 - Finished server process [38414]
2023-12-15 09:41:07.156 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 09:41:11.702 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:41:11.713 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 09:41:11.723 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:41:11.730 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52225 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:41:11.750 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:41:11.754 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 09:41:11.765 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:41:11.767 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:41:11.769 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52230 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:41:11.771 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52226 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:41:11.777 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:41:11.785 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:41:11.787 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:41:11.788 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52230 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:41:11.801 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 09:41:11.801 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:41:11.802 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:41:11.806 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52226 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:41:11.807 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:41:11.818 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52230 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:41:11.820 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'c2d8eca6-9e32-4a74-b35f-6aded04198f6';

    
2023-12-15 09:41:11.821 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:41:11.823 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52238 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:41:11.824 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52225 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:41:11.827 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:41:11.830 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:41:11.831 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 09:41:11.831 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:41:11.831 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52226 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:41:11.832 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52241 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:41:11.838 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:41:11.838 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'c2d8eca6-9e32-4a74-b35f-6aded04198f6';

    
2023-12-15 09:41:11.839 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52226 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:41:11.839 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52230 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:41:15.973 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            id
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
            AND
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 09:41:15.979 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 09:41:15.984 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'c2d8eca6-9e32-4a74-b35f-6aded04198f6';

    
2023-12-15 09:41:15.986 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_org_rels
        WHERE
            user_org_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab'
            AND
            user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
        
2023-12-15 09:41:15.991 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_role_rels
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab'
            AND
            user_role_rels.role_id = 'c2d8eca6-9e32-4a74-b35f-6aded04198f6';
        
2023-12-15 09:41:15.994 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM org_role_rels
        WHERE
            org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
            AND
            org_role_rels.role_id = 'c2d8eca6-9e32-4a74-b35f-6aded04198f6';
        
2023-12-15 09:41:16.001 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'c2d8eca6-9e32-4a74-b35f-6aded04198f6'
                AND
                permission_id = 'dd96b563-2476-4904-a880-a2cffe1ea0ac';
            
2023-12-15 09:41:16.009 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'c2d8eca6-9e32-4a74-b35f-6aded04198f6'
                AND
                permission_id = '7f956b2a-65ce-463e-9ddb-6627f9b42ecf';
            
2023-12-15 09:41:16.010 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'c2d8eca6-9e32-4a74-b35f-6aded04198f6'
                AND
                permission_id = '53dc2e89-791d-4b66-aa73-f51ea9cd4e26';
            
2023-12-15 09:41:16.017 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'c2d8eca6-9e32-4a74-b35f-6aded04198f6'
                AND
                permission_id = '2ca11194-6079-41e8-8b26-275aa42848fa';
            
2023-12-15 09:41:16.019 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'c2d8eca6-9e32-4a74-b35f-6aded04198f6'
                AND
                permission_id = '58289de8-b6b7-4629-9016-58e5d30e89ee';
            
2023-12-15 09:41:16.021 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'c2d8eca6-9e32-4a74-b35f-6aded04198f6'
                AND
                permission_id = 'bce2b4a4-0cad-4baa-96dd-671f2d942c7e';
            
2023-12-15 09:41:16.022 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM roles WHERE id = 'c2d8eca6-9e32-4a74-b35f-6aded04198f6';
        
2023-12-15 09:41:16.025 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52230 - "PUT /org/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:41:16.038 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:41:16.042 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:41:16.044 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:41:16.047 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52230 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:41:17.713 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:41:17.715 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52230 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:41:17.733 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:41:17.735 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52273 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:41:26.648 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 09:41:26.652 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:41:26.661 | INFO     | providers.psql_provider:fetch_one:30 - 
        INSERT INTO roles (type, name)
        VALUES (
            '25',
            '支店権限者'
        )
        RETURNING id;
        
2023-12-15 09:41:26.663 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_org_rels (user_id, org_id, type)
        VALUES (
            '4df1a42a-dbb8-4bce-9be0-29cca28767ab',
            '1b33d5f9-6655-492e-9ad0-ca8125f88b2c',
            '25'
        )
        
2023-12-15 09:41:26.665 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_role_rels (user_id, role_id)
        VALUES (
            '4df1a42a-dbb8-4bce-9be0-29cca28767ab',
            '33e76615-41f0-4733-978f-f629ced6533a'
        )
        
2023-12-15 09:41:26.670 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO org_role_rels (org_id, role_id)
        VALUES (
            '1b33d5f9-6655-492e-9ad0-ca8125f88b2c',
            '33e76615-41f0-4733-978f-f629ced6533a'
        )
        
2023-12-15 09:41:26.672 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '33e76615-41f0-4733-978f-f629ced6533a',
                '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
            )
            
2023-12-15 09:41:26.673 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '33e76615-41f0-4733-978f-f629ced6533a',
                '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
            )
            
2023-12-15 09:41:26.674 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '33e76615-41f0-4733-978f-f629ced6533a',
                '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
            )
            
2023-12-15 09:41:26.675 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '33e76615-41f0-4733-978f-f629ced6533a',
                '55762da2-4d17-418e-b09f-e6249645ec18'
            )
            
2023-12-15 09:41:26.677 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '33e76615-41f0-4733-978f-f629ced6533a',
                'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
            )
            
2023-12-15 09:41:26.680 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52311 - "POST /org/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:41:26.703 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:41:26.707 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:41:26.713 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:41:26.715 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52311 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:41:26.740 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 09:41:26.740 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:41:26.743 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52314 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:41:26.754 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:41:26.755 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '33e76615-41f0-4733-978f-f629ced6533a';

    
2023-12-15 09:41:26.757 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52317 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:41:26.761 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52311 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:41:26.770 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 09:41:26.775 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '33e76615-41f0-4733-978f-f629ced6533a';

    
2023-12-15 09:41:26.776 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52317 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:41:31.481 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            id
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
            AND
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 09:41:31.485 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 09:41:31.491 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '33e76615-41f0-4733-978f-f629ced6533a';

    
2023-12-15 09:41:31.502 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_org_rels
        WHERE
            user_org_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab'
            AND
            user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
        
2023-12-15 09:41:31.507 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_role_rels
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab'
            AND
            user_role_rels.role_id = '33e76615-41f0-4733-978f-f629ced6533a';
        
2023-12-15 09:41:31.512 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM org_role_rels
        WHERE
            org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
            AND
            org_role_rels.role_id = '33e76615-41f0-4733-978f-f629ced6533a';
        
2023-12-15 09:41:31.514 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '33e76615-41f0-4733-978f-f629ced6533a'
                AND
                permission_id = '7f956b2a-65ce-463e-9ddb-6627f9b42ecf';
            
2023-12-15 09:41:31.515 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '33e76615-41f0-4733-978f-f629ced6533a'
                AND
                permission_id = '53dc2e89-791d-4b66-aa73-f51ea9cd4e26';
            
2023-12-15 09:41:31.516 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '33e76615-41f0-4733-978f-f629ced6533a'
                AND
                permission_id = '55ba3199-c673-49d8-8001-9b5f3b2b33dc';
            
2023-12-15 09:41:31.517 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '33e76615-41f0-4733-978f-f629ced6533a'
                AND
                permission_id = '55762da2-4d17-418e-b09f-e6249645ec18';
            
2023-12-15 09:41:31.517 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '33e76615-41f0-4733-978f-f629ced6533a'
                AND
                permission_id = 'ee3ed4ae-43d9-4d37-92f9-a4950788d8be';
            
2023-12-15 09:41:31.518 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM roles WHERE id = '33e76615-41f0-4733-978f-f629ced6533a';
        
2023-12-15 09:41:31.519 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52317 - "PUT /org/users/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:41:31.528 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:41:31.531 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:41:31.532 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:41:31.535 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52317 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:42:14.752 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 09:42:14.855 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 09:42:14.856 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 09:42:14.857 | INFO     | uvicorn.server:serve:86 - Finished server process [38424]
2023-12-15 09:42:15.313 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 09:42:17.615 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:42:17.616 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 09:42:17.623 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:42:17.639 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52529 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:42:17.649 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:42:17.655 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 09:42:17.657 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:42:17.659 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:42:17.667 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52534 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:42:17.670 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52530 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:42:17.675 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:42:17.678 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:42:17.681 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:42:17.683 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52530 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:42:17.714 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:42:17.716 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:42:17.719 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52534 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:42:17.720 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:42:17.724 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52530 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:42:17.732 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:42:17.734 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:42:17.734 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52529 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:42:17.736 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:42:17.738 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52534 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:42:21.184 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52534 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:42:21.184 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52529 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:42:21.192 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:42:21.194 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 09:42:21.198 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52534 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:42:21.204 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:42:21.207 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 09:42:21.209 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52529 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:42:22.665 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 09:42:22.665 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:42:22.670 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:42:22.674 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:42:22.682 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52534 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:42:22.686 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:42:22.688 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 09:42:22.689 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52529 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:42:22.696 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 09:42:22.696 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:42:22.698 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:42:22.699 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52530 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:42:22.700 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 09:42:22.704 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52534 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:42:22.706 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:42:22.706 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:42:22.708 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52529 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:42:22.708 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:42:22.711 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52530 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:42:22.716 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:42:22.716 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:42:22.717 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52534 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:42:22.718 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:42:22.719 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52529 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:42:25.073 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:42:25.076 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:42:25.087 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52534 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:42:25.089 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:42:25.092 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52529 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:42:27.875 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 09:42:27.876 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:42:27.883 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52534 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:42:27.887 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 09:42:27.893 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52529 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 09:42:29.415 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:42:29.418 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 09:42:29.431 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52529 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:42:29.441 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:42:29.470 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 09:42:29.483 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52534 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:42:33.327 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52534 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:42:33.327 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52529 - "OPTIONS /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:42:33.329 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52627 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:42:33.329 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52534 - "OPTIONS /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:42:33.335 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:42:33.335 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:42:33.340 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:42:33.342 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52626 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:42:33.350 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 09:42:33.379 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 09:42:33.380 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 09:42:33.386 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52529 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:42:33.394 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52627 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 09:42:33.401 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52628 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:42:33.407 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:42:33.409 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:42:33.411 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 09:42:33.415 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52627 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:42:33.415 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 09:42:33.419 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52626 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:42:38.503 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:42:38.506 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 09:42:38.512 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52658 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:42:38.522 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:42:38.525 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 09:42:38.539 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52660 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:42:44.462 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 09:42:44.564 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 09:42:44.566 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 09:42:44.567 | INFO     | uvicorn.server:serve:86 - Finished server process [38482]
2023-12-15 09:42:44.997 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 09:42:47.930 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 09:42:48.032 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 09:42:48.032 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 09:42:48.033 | INFO     | uvicorn.server:serve:86 - Finished server process [38541]
2023-12-15 09:42:48.484 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 09:42:56.474 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 09:42:56.575 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 09:42:56.576 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 09:42:56.576 | INFO     | uvicorn.server:serve:86 - Finished server process [38546]
2023-12-15 09:42:57.007 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 09:43:02.365 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 09:43:02.465 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 09:43:02.466 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 09:43:02.466 | INFO     | uvicorn.server:serve:86 - Finished server process [38557]
2023-12-15 09:43:02.886 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 09:43:03.291 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 09:43:03.393 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 09:43:03.394 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 09:43:03.394 | INFO     | uvicorn.server:serve:86 - Finished server process [38569]
2023-12-15 09:43:03.804 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 09:43:07.636 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:43:07.685 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 09:43:07.703 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52791 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:43:07.723 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:43:07.726 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 09:43:07.731 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52793 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:44:43.753 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:44:43.759 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 09:44:43.762 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53197 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:44:43.769 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 09:44:43.772 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 09:44:43.776 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53199 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 09:58:01.915 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 09:58:02.016 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 09:58:02.017 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 09:58:02.017 | INFO     | uvicorn.server:serve:86 - Finished server process [38572]
2023-12-15 09:58:24.936 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 09:59:11.466 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 09:59:11.567 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 09:59:11.567 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 09:59:11.568 | INFO     | uvicorn.server:serve:86 - Finished server process [38759]
2023-12-15 09:59:58.852 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 10:02:37.375 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 10:02:37.476 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 10:02:37.476 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 10:02:37.476 | INFO     | uvicorn.server:serve:86 - Finished server process [38791]
2023-12-15 10:02:37.871 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 10:03:14.900 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 10:03:15.002 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 10:03:15.002 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 10:03:15.003 | INFO     | uvicorn.server:serve:86 - Finished server process [38810]
2023-12-15 10:03:15.423 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 10:03:52.878 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 10:03:52.980 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 10:03:52.982 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 10:03:52.982 | INFO     | uvicorn.server:serve:86 - Finished server process [38827]
2023-12-15 10:03:53.432 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 10:05:19.895 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58164 - "OPTIONS /orgs?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:05:19.895 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58165 - "OPTIONS /orgs?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:05:19.901 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:05:19.903 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 10:05:19.908 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58165 - "GET /orgs?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:05:19.913 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:05:19.916 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 10:05:19.918 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58164 - "GET /orgs?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:05:27.549 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:05:27.568 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 10:05:27.580 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58202 - "GET /orgs?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:05:27.589 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:05:27.591 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 10:05:27.597 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58204 - "GET /orgs?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:06:16.440 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 10:06:16.543 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 10:06:16.545 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 10:06:16.546 | INFO     | uvicorn.server:serve:86 - Finished server process [38843]
2023-12-15 10:06:16.951 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 10:06:20.183 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:06:20.264 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 10:06:20.345 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58426 - "GET /orgs?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:06:20.379 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:06:20.383 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 10:06:20.387 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58428 - "GET /orgs?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:07:00.571 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58594 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:07:00.573 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58595 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:07:00.598 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '26393cbc-6912-4f00-8369-1d01e64440ec'
        AND
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:07:00.607 | ERROR    | app.endpoints.users:get_users:79 - 'NoneType' object is not subscriptableTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1047af430>
           └ <SpawnProcess name='SpawnProcess-49' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1047a3a60>
    └ <SpawnProcess name='SpawnProcess-49' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104a429d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-49' parent=33732 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-49' parent=33732 started>
    │    └ <function subprocess_started at 0x106ec4700>
    └ <SpawnProcess name='SpawnProcess-49' parent=33732 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104a42af0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x106eb7ca0>
           │       │   └ <uvicorn.server.Server object at 0x104a42af0>
           │       └ <function run at 0x104a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x106ebb4c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106f0e880>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10712d340>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10712d3...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x106fee5e0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106f0e880>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10712d340>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10712d3...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10712d340>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10712d3...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10712d970>
          └ <fastapi.applications.FastAPI object at 0x106fee5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107002040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10712d3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10712d910>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10712d970>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107002040>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10712d3...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10666baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10712d910>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10712d910>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10712d3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10712d8e0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10712d910>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106ff9430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10712d3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10712d880>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10712d8e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106ff9430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10712d3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x106fee700>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10712d880>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106ff9430>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10712d3...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1065c1af0>
          └ APIRoute(path='/users', name='get_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106ff9430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10712d3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x106ff9790>
          └ APIRoute(path='/users', name='get_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10711a040>
                     └ <function get_request_handler.<locals>.app at 0x106ff9940>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1065af790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x106ed9a30>, 'user_id': '02804013-a550-4ee6-822c-c00a0f7d4985', 'role_id': '263...
                 │         └ <function get_users at 0x106d6f940>
                 └ <fastapi.dependencies.models.Dependant object at 0x1071282b0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/users.py", line 73, in get_users
    users = await users_crud.query_user_permissions(db, user_id, role_id)
                  │          │                      │   │        └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                  │          │                      │   └ '02804013-a550-4ee6-822c-c00a0f7d4985'
                  │          │                      └ <providers.psql_provider.DB object at 0x106ed9a30>
                  │          └ <function query_user_permissions at 0x106d735e0>
                  └ <module 'app.crud.users_crud' from '/Users/ryu/loan-ledger-if/app/crud/users_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/users_crud.py", line 71, in query_user_permissions
    role_permission_rels.role_id = '{role["id"]}';

TypeError: 'NoneType' object is not subscriptable

2023-12-15 10:07:00.637 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58594 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 500
2023-12-15 10:07:00.655 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '26393cbc-6912-4f00-8369-1d01e64440ec'
        AND
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:07:00.658 | ERROR    | app.endpoints.users:get_users:79 - 'NoneType' object is not subscriptableTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104a319d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1047af430>
           └ <SpawnProcess name='SpawnProcess-49' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1047a3a60>
    └ <SpawnProcess name='SpawnProcess-49' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104a429d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-49' parent=33732 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-49' parent=33732 started>
    │    └ <function subprocess_started at 0x106ec4700>
    └ <SpawnProcess name='SpawnProcess-49' parent=33732 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104a42af0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x106eb7ca0>
           │       │   └ <uvicorn.server.Server object at 0x104a42af0>
           │       └ <function run at 0x104a6e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x106ebb4c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106f0e880>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10711a1f0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10711a1...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x106fee5e0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106f0e880>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10711a1f0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10711a1...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10711a1f0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10711a1...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10712d970>
          └ <fastapi.applications.FastAPI object at 0x106fee5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107002e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10711a1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10712d910>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10712d970>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107002e50>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10711a1...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10666baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10712d910>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10712d910>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10711a1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10712d8e0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10712d910>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106ff9dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10711a1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10712d880>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10712d8e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106ff9dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10711a1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x106fee700>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10712d880>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106ff9dc0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10711a1...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1065c1af0>
          └ APIRoute(path='/users', name='get_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106ff9dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10711a1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x106ff9790>
          └ APIRoute(path='/users', name='get_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10712de80>
                     └ <function get_request_handler.<locals>.app at 0x106ff9940>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1065af790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x106ed9a30>, 'user_id': '02804013-a550-4ee6-822c-c00a0f7d4985', 'role_id': '263...
                 │         └ <function get_users at 0x106d6f940>
                 └ <fastapi.dependencies.models.Dependant object at 0x1071282b0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/users.py", line 73, in get_users
    users = await users_crud.query_user_permissions(db, user_id, role_id)
                  │          │                      │   │        └ '26393cbc-6912-4f00-8369-1d01e64440ec'
                  │          │                      │   └ '02804013-a550-4ee6-822c-c00a0f7d4985'
                  │          │                      └ <providers.psql_provider.DB object at 0x106ed9a30>
                  │          └ <function query_user_permissions at 0x106d735e0>
                  └ <module 'app.crud.users_crud' from '/Users/ryu/loan-ledger-if/app/crud/users_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/users_crud.py", line 71, in query_user_permissions
    role_permission_rels.role_id = '{role["id"]}';

TypeError: 'NoneType' object is not subscriptable

2023-12-15 10:07:00.663 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58595 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 500
2023-12-15 10:08:10.329 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 10:08:10.431 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 10:08:10.431 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 10:08:10.431 | INFO     | uvicorn.server:serve:86 - Finished server process [38886]
2023-12-15 10:08:10.860 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 10:08:14.714 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:08:14.717 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:08:14.719 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58902 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:08:14.731 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:08:14.735 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:08:14.743 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58908 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:12:16.377 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:12:16.384 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:12:16.393 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59965 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:12:16.407 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:12:16.414 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:12:16.470 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59967 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:20:39.024 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 10:20:39.125 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 10:20:39.126 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 10:20:39.126 | INFO     | uvicorn.server:serve:86 - Finished server process [38915]
2023-12-15 10:20:39.618 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 10:20:58.135 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 10:20:58.236 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 10:20:58.236 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 10:20:58.236 | INFO     | uvicorn.server:serve:86 - Finished server process [39135]
2023-12-15 10:20:58.671 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 10:21:56.909 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 10:21:57.010 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 10:21:57.011 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 10:21:57.011 | INFO     | uvicorn.server:serve:86 - Finished server process [39144]
2023-12-15 10:21:57.448 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 10:21:58.763 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 10:21:58.864 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 10:21:58.865 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 10:21:58.865 | INFO     | uvicorn.server:serve:86 - Finished server process [39158]
2023-12-15 10:21:59.278 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 10:22:12.629 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 10:22:12.731 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 10:22:12.731 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 10:22:12.732 | INFO     | uvicorn.server:serve:86 - Finished server process [39165]
2023-12-15 10:22:13.138 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 10:22:15.698 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62391 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:22:15.698 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62392 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:22:15.709 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:22:15.766 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:22:15.772 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:22:15.777 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:22:15.780 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 10:22:15.783 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 10:22:15.785 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 10:22:15.789 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62391 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:22:15.797 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:22:15.800 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:22:15.802 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:22:15.804 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:22:15.805 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 10:22:15.806 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 10:22:15.808 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 10:22:15.810 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62392 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:24:23.907 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:24:23.919 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:24:23.922 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:24:23.935 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:24:23.938 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 10:24:23.949 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 10:24:23.962 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 10:24:23.979 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62929 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:24:23.985 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:24:23.996 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:24:24.001 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:24:24.005 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:24:24.015 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 10:24:24.018 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 10:24:24.019 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 10:24:24.033 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62931 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:26:35.246 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:26:35.250 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:26:35.257 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:26:35.267 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:26:35.269 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 10:26:35.300 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 10:26:35.303 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 10:26:35.312 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63471 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:26:35.326 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:26:35.328 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:26:35.332 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:26:35.336 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:26:35.338 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 10:26:35.340 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 10:26:35.341 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 10:26:35.343 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63473 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:28:14.941 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:28:14.986 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:28:14.991 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:28:14.993 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:28:14.994 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 10:28:14.995 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 10:28:14.996 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 10:28:14.998 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63886 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:28:15.002 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:28:15.004 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:28:15.005 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:28:15.008 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:28:15.010 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 10:28:15.016 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 10:28:15.018 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 10:28:15.021 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63888 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:28:25.958 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:28:25.965 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:28:25.970 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:28:25.975 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:28:25.976 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 10:28:25.979 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 10:28:25.981 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 10:28:25.984 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63939 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:28:25.995 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:28:25.998 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:28:26.000 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:28:26.003 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:28:26.004 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 10:28:26.006 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 10:28:26.008 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 10:28:26.010 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63941 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:28:43.128 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:28:43.135 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:28:43.141 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:28:43.144 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:28:43.145 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 10:28:43.146 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 10:28:43.148 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 10:28:43.150 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64021 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:28:43.158 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:28:43.162 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:28:43.167 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:28:43.170 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:28:43.171 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 10:28:43.172 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 10:28:43.174 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 10:28:43.176 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64023 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:31:24.389 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:31:24.394 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:31:24.405 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:31:24.411 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:31:24.414 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 10:31:24.420 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 10:31:24.423 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 10:31:24.425 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64704 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:31:24.435 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:31:24.441 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:31:24.445 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:31:24.451 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:31:24.453 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 10:31:24.455 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 10:31:24.459 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 10:31:24.473 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64706 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:32:10.435 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:32:10.449 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:32:10.454 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:32:10.458 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:32:10.460 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 10:32:10.464 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 10:32:10.469 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 10:32:10.472 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64893 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:32:10.481 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:32:10.484 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:32:10.487 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:32:10.490 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:32:10.494 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 10:32:10.497 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 10:32:10.499 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 10:32:10.507 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64895 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:32:34.329 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64999 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:32:34.330 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65000 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:32:34.339 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:32:34.348 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:32:34.354 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:32:34.360 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:32:34.364 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 10:32:34.368 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 10:32:34.373 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 10:32:34.378 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64999 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:32:34.397 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:32:34.407 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:32:34.416 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:32:34.424 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:32:34.427 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 10:32:34.429 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 10:32:34.432 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 10:32:34.436 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65000 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:34:22.128 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 10:34:22.228 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 10:34:22.229 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 10:34:22.229 | INFO     | uvicorn.server:serve:86 - Finished server process [39175]
2023-12-15 10:34:22.660 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 10:34:24.894 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:34:24.898 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:34:24.904 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 10:34:24.908 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 10:34:24.910 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:34:24.914 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 10:34:24.917 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65457 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:34:24.930 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:34:24.934 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:34:24.941 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 10:34:24.950 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 10:34:24.954 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:34:24.966 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 10:34:24.970 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65457 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:34:47.922 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:34:47.927 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:34:47.936 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 10:34:47.947 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 10:34:47.950 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:34:47.961 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 10:34:47.999 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65459 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:34:48.005 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:34:48.009 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:34:48.013 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 10:34:48.016 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 10:34:48.019 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:34:48.021 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 10:34:48.023 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49176 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:35:45.529 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:35:45.533 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:35:45.541 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 10:35:45.547 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 10:35:45.564 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:35:45.566 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 10:35:45.600 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49412 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:35:45.609 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:35:45.614 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:35:45.619 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 10:35:45.621 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 10:35:45.623 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:35:45.627 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 10:35:45.628 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49414 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:39:15.625 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:39:15.631 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:39:15.638 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 10:39:15.642 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 10:39:15.650 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:39:15.656 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 10:39:15.659 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50269 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:39:15.679 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:39:15.721 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:39:15.737 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 10:39:15.738 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 10:39:15.740 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:39:15.741 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 10:39:15.743 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50271 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:52:43.786 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53612 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:52:43.788 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53613 - "OPTIONS /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:52:43.790 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53614 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 10:52:43.794 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53615 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:52:43.797 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53616 - "OPTIONS /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:52:43.798 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53617 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 10:52:43.805 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:52:43.806 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:52:43.813 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 10:52:43.815 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 10:52:43.819 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53614 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 10:52:43.820 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53613 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:52:43.822 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 10:52:43.826 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 10:52:43.826 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:52:43.827 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53612 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:52:43.829 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53617 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 10:52:43.832 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:52:43.832 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 10:52:43.835 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53614 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:52:43.838 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 10:52:43.840 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53613 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:53:02.437 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53700 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:53:02.437 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53701 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:53:02.446 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:53:02.448 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 10:53:02.450 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53701 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:53:02.455 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:53:02.457 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 10:53:02.459 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53700 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:53:08.784 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:53:08.790 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 10:53:08.797 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53737 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:53:08.811 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:53:08.814 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 10:53:08.821 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53737 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:53:12.541 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53737 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:53:12.541 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53739 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:53:12.548 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:53:12.553 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:53:12.555 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 10:53:12.557 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 10:53:12.558 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:53:12.561 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 10:53:12.562 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53739 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 10:53:12.570 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 10:53:12.572 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 10:53:12.577 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 10:53:12.579 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 10:53:12.581 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 10:53:12.582 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 10:53:12.586 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53737 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:06:30.388 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56965 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:06:30.389 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56966 - "OPTIONS /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:06:30.392 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56967 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 11:06:30.395 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56968 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:06:30.400 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56969 - "OPTIONS /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:06:30.401 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56970 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 11:06:30.412 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:06:30.413 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:06:30.418 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 11:06:30.428 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56967 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 11:06:30.445 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 11:06:30.446 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 11:06:30.447 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 11:06:30.450 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56970 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 11:06:30.451 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56965 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:06:30.452 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56966 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:06:30.457 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:06:30.457 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:06:30.463 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 11:06:30.470 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56970 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:06:30.477 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 11:06:30.479 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56967 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:07:45.455 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57286 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:07:45.455 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57287 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:07:45.468 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:07:45.473 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 11:07:45.478 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 11:07:45.484 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 11:07:45.487 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 11:07:45.491 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 11:07:45.495 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57286 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:07:45.505 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:07:45.511 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 11:07:45.514 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 11:07:45.516 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 11:07:45.519 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 11:07:45.521 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 11:07:45.526 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57287 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:08:05.686 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:08:05.686 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:08:05.688 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 11:08:05.692 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57376 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 11:08:05.698 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 11:08:05.699 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 11:08:05.703 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57374 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:08:05.704 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 11:08:05.705 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57375 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:08:05.707 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57382 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 11:08:05.710 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:08:05.710 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:08:05.712 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 11:08:05.713 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57374 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:08:05.714 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 11:08:05.716 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57376 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:16:09.232 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:16:09.234 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:16:09.234 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 11:16:09.237 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57780 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 11:16:09.242 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 11:16:09.243 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 11:16:09.244 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 11:16:09.247 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57779 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:16:09.247 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57786 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 11:16:09.248 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57778 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:16:09.260 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:16:09.260 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:16:09.263 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 11:16:09.265 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57778 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:16:09.268 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 11:16:09.271 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57780 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:17:12.530 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57807 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:17:12.530 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57808 - "OPTIONS /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:17:12.530 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57809 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 11:17:12.531 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57810 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:17:12.533 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57811 - "OPTIONS /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:17:12.533 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57812 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 11:17:12.539 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:17:12.539 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:17:12.541 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 11:17:12.555 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57809 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 11:17:12.560 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 11:17:12.562 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 11:17:12.569 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57808 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:17:12.569 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57807 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:17:12.570 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 11:17:12.575 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57812 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 11:17:12.579 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:17:12.580 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:17:12.583 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 11:17:12.585 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57807 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:17:12.589 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 11:17:12.594 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57809 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:18:12.484 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:18:12.485 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:18:12.486 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 11:18:12.489 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57833 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 11:18:12.489 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 11:18:12.495 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57831 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:18:12.501 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 11:18:12.503 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 11:18:12.504 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:18:12.506 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57837 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 11:18:12.510 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 11:18:12.511 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57832 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:18:12.514 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57833 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:18:12.518 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:18:12.521 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 11:18:12.526 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57837 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:21:35.046 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 11:21:35.047 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:21:35.050 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:21:35.057 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57886 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 11:21:35.072 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 11:21:35.073 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 11:21:35.076 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 11:21:35.077 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57884 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:21:35.078 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57890 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 11:21:35.081 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57885 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:21:35.085 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:21:35.087 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:21:35.092 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 11:21:35.094 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 11:21:35.095 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57890 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:21:35.096 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57886 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:22:15.968 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:22:15.971 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 11:22:15.972 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57902 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:22:15.978 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:22:15.980 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 11:22:15.983 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57904 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:22:17.189 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:22:17.191 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 11:22:17.192 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57904 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:22:17.200 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:22:17.202 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 11:22:17.204 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57902 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:22:24.249 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:22:24.249 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 11:22:24.257 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57915 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 11:22:24.258 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 11:22:24.264 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57914 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:22:24.270 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 11:22:24.272 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57918 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 11:22:24.274 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:22:24.277 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 11:22:24.279 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57915 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:23:05.699 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 11:23:05.700 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:23:05.702 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57940 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 11:23:05.702 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 11:23:05.706 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57939 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:23:05.712 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 11:23:05.714 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:23:05.714 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57940 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 11:23:05.716 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 11:23:05.718 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57943 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:23:31.545 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 11:23:31.545 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:23:31.547 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57956 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 11:23:31.547 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 11:23:31.551 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57955 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:23:31.554 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 11:23:31.556 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:23:31.557 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57959 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 11:23:31.560 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 11:23:31.561 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57956 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:23:56.903 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:23:56.906 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 11:23:56.918 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57975 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 11:23:56.928 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 11:23:56.932 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 11:23:56.939 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57975 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 11:23:56.940 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57974 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:23:56.948 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:23:56.952 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 11:23:56.954 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57975 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:26:25.147 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 11:26:25.148 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:26:25.157 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58342 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 11:26:25.157 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 11:26:25.162 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58341 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:26:25.172 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 11:26:25.176 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 11:26:25.178 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58349 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 11:26:25.180 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 11:26:25.184 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58342 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 11:30:36.070 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 11:30:36.172 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 11:30:36.173 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 11:30:36.173 | INFO     | uvicorn.server:serve:86 - Finished server process [39405]
2023-12-15 11:30:36.707 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 12:48:07.041 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 12:48:07.143 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 12:48:07.143 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 12:48:07.144 | INFO     | uvicorn.server:serve:86 - Finished server process [40430]
2023-12-15 12:48:07.626 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 12:49:14.704 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 12:49:14.806 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 12:49:14.806 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 12:49:14.806 | INFO     | uvicorn.server:serve:86 - Finished server process [41235]
2023-12-15 12:50:23.983 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 12:50:36.830 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 12:50:36.932 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 12:50:36.932 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 12:50:36.933 | INFO     | uvicorn.server:serve:86 - Finished server process [41283]
2023-12-15 12:50:37.370 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 12:54:44.529 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 12:54:44.630 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 12:54:44.631 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 12:54:44.632 | INFO     | uvicorn.server:serve:86 - Finished server process [41293]
2023-12-15 12:54:45.062 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 12:55:14.016 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 12:55:14.117 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 12:55:14.118 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 12:55:14.119 | INFO     | uvicorn.server:serve:86 - Finished server process [41365]
2023-12-15 12:55:14.541 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 12:56:32.841 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 12:56:32.943 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 12:56:32.947 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 12:56:32.947 | INFO     | uvicorn.server:serve:86 - Finished server process [41377]
2023-12-15 12:56:33.361 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 13:00:17.296 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 13:00:17.398 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 13:00:17.399 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 13:00:17.399 | INFO     | uvicorn.server:serve:86 - Finished server process [41393]
2023-12-15 13:00:17.828 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 13:01:12.852 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64757 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:01:12.854 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64758 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 13:01:12.857 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64759 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:01:12.859 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64760 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 13:01:12.881 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:01:12.883 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 13:01:12.888 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64758 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 13:01:12.894 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 13:01:12.896 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 13:01:12.897 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64760 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 13:01:12.899 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64757 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:01:12.908 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:01:12.910 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 13:01:12.912 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64760 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:01:32.488 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64843 - "OPTIONS /user/permissions HTTP/1.1" 200
2023-12-15 13:01:32.490 | ERROR    | app.endpoints.users:new_user_permissions:96 - 'email'Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1053bd9d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10513b430>
           └ <SpawnProcess name='SpawnProcess-65' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10512fa60>
    └ <SpawnProcess name='SpawnProcess-65' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1053ce9d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-65' parent=33732 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-65' parent=33732 started>
    │    └ <function subprocess_started at 0x107853af0>
    └ <SpawnProcess name='SpawnProcess-65' parent=33732 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1053ceaf0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1078530d0>
           │       │   └ <uvicorn.server.Server object at 0x1053ceaf0>
           │       └ <function run at 0x1053fa820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10784c6c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10789e430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107abb460>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107abb4...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x107981bb0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10789e430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107abb460>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107abb4...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107abb460>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107abb4...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10798a9d0>
          └ <fastapi.applications.FastAPI object at 0x107981bb0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10798df70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107abb4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1079903d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10798a9d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'content-length': '319', 'accept': 'application/json, text/plain...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10798df70>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107abb4...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x106ff7af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1079903d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1079903d0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107abb4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107990400>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1079903d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107aa85e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107abb4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1079901f0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107990400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107aa85e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107abb4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x107981cd0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1079901f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107aa85e0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107abb4...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106f4daf0>
          └ APIRoute(path='/user/permissions', name='new_user_permissions', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107aa85e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107abb4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x107aa8040>
          └ APIRoute(path='/user/permissions', name='new_user_permissions', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x107ab0790>
                     └ <function get_request_handler.<locals>.app at 0x107aa8550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x106f3c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x107871280>, 'data': {'last_name': '山田', 'first_name': '六郎', 'type': '26', 'rol...
                 │         └ <function new_user_permissions at 0x10771aa60>
                 └ <fastapi.dependencies.models.Dependant object at 0x107aaf790>

> File "/Users/ryu/loan-ledger-if/app/endpoints/users.py", line 90, in new_user_permissions
    await users_crud.insert_user_permissions(db, data)
          │          │                       │   └ {'last_name': '山田', 'first_name': '六郎', 'type': '26', 'role_name': {'id': '26', 'name': '営業担当者'}, 'permission_ids': ['dd96b56...
          │          │                       └ <providers.psql_provider.DB object at 0x107871280>
          │          └ <function insert_user_permissions at 0x107706700>
          └ <module 'app.crud.users_crud' from '/Users/ryu/loan-ledger-if/app/crud/users_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/users_crud.py", line 215, in insert_user_permissions
    '{data["email"]}',

KeyError: 'email'

2023-12-15 13:01:32.515 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64843 - "POST /user/permissions HTTP/1.1" 500
2023-12-15 13:02:07.696 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO users
        (
            last_name,
            first_name,
            email,
            password
        )
    VALUES
        (
            '山田',
            '六郎',
            '006@demo.com',
            '12345678'
        )
    RETURNING id;
    
2023-12-15 13:02:07.707 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO roles (type, name)
    VALUES (
        '26',
        '{'id': '26', 'name': '営業担当者'}'
    )
    RETURNING id;
    
2023-12-15 13:02:07.710 | ERROR    | app.endpoints.users:new_user_permissions:96 - syntax error at or near "id"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1053bd9d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10513b430>
           └ <SpawnProcess name='SpawnProcess-65' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10512fa60>
    └ <SpawnProcess name='SpawnProcess-65' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1053ce9d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-65' parent=33732 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-65' parent=33732 started>
    │    └ <function subprocess_started at 0x107853af0>
    └ <SpawnProcess name='SpawnProcess-65' parent=33732 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1053ceaf0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1078530d0>
           │       │   └ <uvicorn.server.Server object at 0x1053ceaf0>
           │       └ <function run at 0x1053fa820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10784c6c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10789e430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107ab0e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107ab0e...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x107981bb0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10789e430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107ab0e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107ab0e...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107ab0e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107ab0e...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10798a9d0>
          └ <fastapi.applications.FastAPI object at 0x107981bb0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10798df70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107ab0e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1079903d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10798a9d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'content-length': '342', 'accept': 'application/json, text/plain...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10798df70>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107ab0e...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x106ff7af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1079903d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1079903d0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107ab0e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107990400>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1079903d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107aa85e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107ab0e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1079901f0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107990400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107aa85e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107ab0e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x107981cd0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1079901f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107aa85e0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107ab0e...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106f4daf0>
          └ APIRoute(path='/user/permissions', name='new_user_permissions', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107aa85e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107ab0e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x107aa8040>
          └ APIRoute(path='/user/permissions', name='new_user_permissions', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x107abbf10>
                     └ <function get_request_handler.<locals>.app at 0x107aa8550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x106f3c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x107871280>, 'data': {'last_name': '山田', 'first_name': '六郎', 'email': '006@demo...
                 │         └ <function new_user_permissions at 0x10771aa60>
                 └ <fastapi.dependencies.models.Dependant object at 0x107aaf790>

> File "/Users/ryu/loan-ledger-if/app/endpoints/users.py", line 90, in new_user_permissions
    await users_crud.insert_user_permissions(db, data)
          │          │                       │   └ {'last_name': '山田', 'first_name': '六郎', 'email': '006@demo.com', 'type': '26', 'role_name': {'id': '26', 'name': '営業担当者'}, 'p...
          │          │                       └ <providers.psql_provider.DB object at 0x107871280>
          │          └ <function insert_user_permissions at 0x107706700>
          └ <module 'app.crud.users_crud' from '/Users/ryu/loan-ledger-if/app/crud/users_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/users_crud.py", line 230, in insert_user_permissions
    new_role = await db.fetch_one(sql)
                     │  │         └ "\n    INSERT INTO roles (type, name)\n    VALUES (\n        '26',\n        '{'id': '26', 'name': '営業担当者'}'\n    )\n    RETUR...
                     │  └ <function DB.fetch_one at 0x1073fdaf0>
                     └ <providers.psql_provider.DB object at 0x107871280>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 31, in fetch_one
    result = await con.fetchrow(query)
                   │   │        └ "\n    INSERT INTO roles (type, name)\n    VALUES (\n        '26',\n        '{'id': '26', 'name': '営業担当者'}'\n    )\n    RETUR...
                   │   └ <function Connection.fetchrow at 0x107157160>
                   └ <PoolConnectionProxy [released] 0x107abb4f0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 749, in fetchrow
    data = await self._execute(
                 │    └ <function Connection._execute at 0x1071441f0>
                 └ <asyncpg.connection.Connection object at 0x107c28130>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x107c28130>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1071445e0>
                         └ <asyncpg.connection.Connection object at 0x107c28130>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x107142700>
                 └ <asyncpg.connection.Connection object at 0x107c28130>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x107c28130>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.PostgresSyntaxError: syntax error at or near "id"

2023-12-15 13:02:07.733 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64988 - "POST /user/permissions HTTP/1.1" 500
2023-12-15 13:07:34.585 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO users
        (
            last_name,
            first_name,
            email,
            password
        )
    VALUES
        (
            '山田',
            '六郎',
            '006@demo.com',
            '12345678'
        )
    RETURNING id;
    
2023-12-15 13:07:34.598 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO roles (type, name)
    VALUES (
        '26',
        '営業担当者'
    )
    RETURNING id;
    
2023-12-15 13:07:34.600 | ERROR    | app.endpoints.users:new_user_permissions:96 - 'org_id'Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1053bd9d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10513b430>
           └ <SpawnProcess name='SpawnProcess-65' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10512fa60>
    └ <SpawnProcess name='SpawnProcess-65' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1053ce9d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-65' parent=33732 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-65' parent=33732 started>
    │    └ <function subprocess_started at 0x107853af0>
    └ <SpawnProcess name='SpawnProcess-65' parent=33732 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1053ceaf0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1078530d0>
           │       │   └ <uvicorn.server.Server object at 0x1053ceaf0>
           │       └ <function run at 0x1053fa820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10784c6c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10789e430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107ab0d60>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107ab0d...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x107981bb0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10789e430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107ab0d60>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107ab0d...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107ab0d60>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107ab0d...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10798a9d0>
          └ <fastapi.applications.FastAPI object at 0x107981bb0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10798df70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107ab0d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1079903d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10798a9d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'content-length': '323', 'accept': 'application/json, text/plain...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10798df70>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107ab0d...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x106ff7af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1079903d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1079903d0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107ab0d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107990400>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1079903d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107aa85e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107ab0d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1079901f0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107990400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107aa85e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107ab0d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x107981cd0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1079901f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107aa85e0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107ab0d...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106f4daf0>
          └ APIRoute(path='/user/permissions', name='new_user_permissions', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107aa85e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107ab0d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x107aa8040>
          └ APIRoute(path='/user/permissions', name='new_user_permissions', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x107ab0d00>
                     └ <function get_request_handler.<locals>.app at 0x107aa8550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x106f3c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x107871280>, 'data': {'last_name': '山田', 'first_name': '六郎', 'email': '006@demo...
                 │         └ <function new_user_permissions at 0x10771aa60>
                 └ <fastapi.dependencies.models.Dependant object at 0x107aaf790>

> File "/Users/ryu/loan-ledger-if/app/endpoints/users.py", line 90, in new_user_permissions
    await users_crud.insert_user_permissions(db, data)
          │          │                       │   └ {'last_name': '山田', 'first_name': '六郎', 'email': '006@demo.com', 'type': '26', 'role_name': '営業担当者', 'permission_ids': ['dd96...
          │          │                       └ <providers.psql_provider.DB object at 0x107871280>
          │          └ <function insert_user_permissions at 0x107706700>
          └ <module 'app.crud.users_crud' from '/Users/ryu/loan-ledger-if/app/crud/users_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/users_crud.py", line 236, in insert_user_permissions
    '{data["org_id"]}',

KeyError: 'org_id'

2023-12-15 13:07:34.625 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49924 - "POST /user/permissions HTTP/1.1" 500
2023-12-15 13:09:28.346 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO users
        (
            last_name,
            first_name,
            email,
            password
        )
    VALUES
        (
            '山田',
            '六郎',
            '006@demo.com',
            '12345678'
        )
    RETURNING id;
    
2023-12-15 13:09:28.348 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO roles (type, name)
    VALUES (
        '26',
        '営業担当者'
    )
    RETURNING id;
    
2023-12-15 13:09:28.350 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_org_rels (user_id, org_id, type)
    VALUES (
        'd4c6d1e5-4bdd-405f-a62f-7513e01a2269',
        '1b45760d-6e58-4a83-a687-2910498b76fa',
        '26'
    )
    
2023-12-15 13:09:28.354 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_role_rels (user_id, role_id)
    VALUES (
        'd4c6d1e5-4bdd-405f-a62f-7513e01a2269',
        '5371ff4e-bd5d-4cf7-b703-9de96f19881c'
    )
    
2023-12-15 13:09:28.355 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO org_role_rels (org_id, role_id)
    VALUES (
        '1b45760d-6e58-4a83-a687-2910498b76fa',
        '5371ff4e-bd5d-4cf7-b703-9de96f19881c'
    )
    
2023-12-15 13:09:28.356 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '5371ff4e-bd5d-4cf7-b703-9de96f19881c',
            'dd96b563-2476-4904-a880-a2cffe1ea0ac'
        )
        
2023-12-15 13:09:28.361 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '5371ff4e-bd5d-4cf7-b703-9de96f19881c',
            '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
        )
        
2023-12-15 13:09:28.362 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '5371ff4e-bd5d-4cf7-b703-9de96f19881c',
            '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
        )
        
2023-12-15 13:09:28.364 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '5371ff4e-bd5d-4cf7-b703-9de96f19881c',
            '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
        )
        
2023-12-15 13:09:28.365 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '5371ff4e-bd5d-4cf7-b703-9de96f19881c',
            '8f63e587-b802-4cfd-8ead-d3423237b054'
        )
        
2023-12-15 13:09:28.366 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50404 - "POST /user/permissions HTTP/1.1" 200
2023-12-15 13:09:28.713 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50404 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:09:28.713 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50408 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:09:28.719 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:09:28.721 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 13:09:28.723 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 13:09:28.726 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 13:09:28.727 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 13:09:28.728 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 13:09:28.729 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 13:09:28.730 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50404 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:09:28.736 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:09:28.739 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 13:09:28.741 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 13:09:28.743 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 13:09:28.744 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 13:09:28.745 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 13:09:28.746 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 13:09:28.748 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50408 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:10:17.422 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50610 - "OPTIONS /org/37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 13:10:17.423 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50612 - "OPTIONS /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:10:17.424 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50614 - "OPTIONS /org/37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 13:10:17.424 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50610 - "OPTIONS /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:10:17.431 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:10:17.434 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 13:10:17.435 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 13:10:17.438 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:10:17.438 | ERROR    | app.endpoints.orgs:get_org:57 - 'NoneType' object is not subscriptableTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1053bd9d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10513b430>
           └ <SpawnProcess name='SpawnProcess-65' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10512fa60>
    └ <SpawnProcess name='SpawnProcess-65' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1053ce9d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-65' parent=33732 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-65' parent=33732 started>
    │    └ <function subprocess_started at 0x107853af0>
    └ <SpawnProcess name='SpawnProcess-65' parent=33732 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1053ceaf0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1078530d0>
           │       │   └ <uvicorn.server.Server object at 0x1053ceaf0>
           │       └ <function run at 0x1053fa820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10784c6c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10789e430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cce0d0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cce0...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x107981bb0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10789e430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cce0d0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cce0...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cce0d0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cce0...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10798a9d0>
          └ <fastapi.applications.FastAPI object at 0x107981bb0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107cb7820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cce0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1079903d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10798a9d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107cb7820>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cce0...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x106ff7af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1079903d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1079903d0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cce0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107990400>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1079903d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107cb78b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cce0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1079901f0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107990400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107cb78b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cce0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x107981cd0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1079901f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107cb78b0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cce0...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106f4daf0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107cb78b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cce0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10798d790>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x107cce310>
                     └ <function get_request_handler.<locals>.app at 0x10798d700>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x106f3c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x107871280>, 'org_id': '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'}
                 │         └ <function get_org at 0x1076fb940>
                 └ <fastapi.dependencies.models.Dependant object at 0x10798ae20>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
                │         │         └ <providers.psql_provider.DB object at 0x107871280>
                │         └ <function query_org at 0x107706820>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 174, in query_org
    roles.type = '{org_basic["type"]}'

TypeError: 'NoneType' object is not subscriptable

2023-12-15 13:10:17.443 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50615 - "GET /org/37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 500
2023-12-15 13:10:17.446 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50613 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 13:10:17.446 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 13:10:17.452 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 13:10:17.452 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 13:10:17.452 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50611 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:10:17.457 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 13:10:17.457 | ERROR    | app.endpoints.orgs:get_org:57 - 'NoneType' object is not subscriptableTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1053bd9d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10513b430>
           └ <SpawnProcess name='SpawnProcess-65' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10512fa60>
    └ <SpawnProcess name='SpawnProcess-65' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1053ce9d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-65' parent=33732 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-65' parent=33732 started>
    │    └ <function subprocess_started at 0x107853af0>
    └ <SpawnProcess name='SpawnProcess-65' parent=33732 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1053ceaf0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1078530d0>
           │       │   └ <uvicorn.server.Server object at 0x1053ceaf0>
           │       └ <function run at 0x1053fa820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10784c6c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10789e430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cce310>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cce3...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x107981bb0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10789e430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cce310>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cce3...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cce310>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cce3...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10798a9d0>
          └ <fastapi.applications.FastAPI object at 0x107981bb0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107cb7550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cce3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1079903d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10798a9d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107cb7550>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cce3...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x106ff7af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1079903d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1079903d0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cce3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107990400>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1079903d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107cb78b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cce3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1079901f0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107990400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107cb78b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cce3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x107981cd0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1079901f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107cb78b0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cce3...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106f4daf0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107cb78b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cce3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10798d790>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x107cca3a0>
                     └ <function get_request_handler.<locals>.app at 0x10798d700>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x106f3c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x107871280>, 'org_id': '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'}
                 │         └ <function get_org at 0x1076fb940>
                 └ <fastapi.dependencies.models.Dependant object at 0x10798ae20>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
                │         │         └ <providers.psql_provider.DB object at 0x107871280>
                │         └ <function query_org at 0x107706820>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 174, in query_org
    roles.type = '{org_basic["type"]}'

TypeError: 'NoneType' object is not subscriptable

2023-12-15 13:10:17.462 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50610 - "GET /org/37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 500
2023-12-15 13:10:17.463 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50615 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 13:10:17.463 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:10:17.466 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50614 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:10:17.466 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 13:10:17.469 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50613 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:10:17.472 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:10:17.484 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 13:10:17.487 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50610 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:10:31.151 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:10:31.158 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 13:10:31.163 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 13:10:31.168 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 13:10:31.173 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 13:10:31.194 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 13:10:31.196 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 13:10:31.198 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50680 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:10:31.207 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:10:31.209 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 13:10:31.213 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 13:10:31.217 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 13:10:31.219 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 13:10:31.222 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 13:10:31.226 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 13:10:31.227 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50682 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:11:55.759 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50753 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:11:55.760 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50754 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 13:11:55.763 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50755 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:11:55.765 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50756 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 13:11:55.775 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 13:11:55.778 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:11:55.782 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50754 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 13:11:55.793 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 13:11:55.797 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 13:11:55.799 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50756 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 13:11:55.802 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50753 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:11:55.807 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:11:55.811 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 13:11:55.813 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50756 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:11:58.859 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:11:58.861 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 13:11:58.863 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 13:11:58.865 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 13:11:58.866 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 13:11:58.868 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 13:11:58.869 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 13:11:58.871 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50756 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:11:58.878 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:11:58.880 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 13:11:58.883 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 13:11:58.885 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 13:11:58.886 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 13:11:58.887 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 13:11:58.888 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 13:11:58.890 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50753 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:13:19.399 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:13:19.405 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 13:13:19.411 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 13:13:19.415 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 13:13:19.420 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 13:13:19.423 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 13:13:19.426 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 13:13:19.430 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50774 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:13:19.438 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:13:19.443 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 13:13:19.447 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 13:13:19.449 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 13:13:19.455 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 13:13:19.459 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 13:13:19.460 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 13:13:19.463 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50776 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:13:21.677 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:13:21.677 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 13:13:21.681 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50774 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 13:13:21.686 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 13:13:21.687 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 13:13:21.689 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50781 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 13:13:21.689 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50776 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:13:21.695 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:13:21.697 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 13:13:21.698 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50781 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:33:55.167 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50837 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:33:55.167 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50838 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:33:55.173 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:33:55.176 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 13:33:55.179 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50837 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:33:55.187 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:33:55.189 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 13:33:55.192 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50838 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:33:57.513 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50838 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 13:33:57.514 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50837 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:33:57.514 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50841 - "OPTIONS /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:33:57.515 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50842 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 13:33:57.515 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50843 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 13:33:57.515 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50844 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:33:57.516 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50838 - "OPTIONS /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:33:57.517 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50837 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 13:33:57.526 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:33:57.527 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 13:33:57.529 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 13:33:57.532 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:33:57.535 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50844 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 13:33:57.545 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 13:33:57.545 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 13:33:57.548 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 13:33:57.549 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 13:33:57.549 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50843 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:33:57.550 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50841 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 13:33:57.552 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50837 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 13:33:57.553 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50838 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:33:57.555 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:33:57.555 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 13:33:57.556 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:33:57.557 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 13:33:57.559 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50837 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:33:57.559 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 13:33:57.560 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 13:33:57.561 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50844 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:33:57.562 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50843 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 13:34:04.257 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50859 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:34:04.258 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50860 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:34:04.267 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:34:04.271 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 13:34:04.273 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 13:34:04.275 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 13:34:04.276 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 13:34:04.278 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 13:34:04.279 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 13:34:04.281 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50860 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:34:04.288 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:34:04.290 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 13:34:04.291 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 13:34:04.294 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 13:34:04.295 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 13:34:04.296 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 13:34:04.297 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 13:34:04.299 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50859 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:34:16.873 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 13:34:16.876 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:34:16.880 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50866 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 13:34:16.893 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 13:34:16.893 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 13:34:16.895 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50866 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 13:34:16.897 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50865 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:34:16.906 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:34:16.908 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 13:34:16.909 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50866 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:34:28.121 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:34:28.130 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 13:34:28.136 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 13:34:28.143 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 13:34:28.146 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 13:34:28.150 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 13:34:28.152 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 13:34:28.155 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50869 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:34:28.168 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:34:28.171 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 13:34:28.179 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 13:34:28.184 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 13:34:28.186 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 13:34:28.191 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 13:34:28.203 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 13:34:28.210 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50875 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:37:31.306 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:37:31.319 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 13:37:31.324 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 13:37:31.328 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 13:37:31.329 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 13:37:31.334 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 13:37:31.336 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 13:37:31.337 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50912 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:37:31.346 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:37:31.362 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 13:37:31.366 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 13:37:31.368 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 13:37:31.370 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 13:37:31.372 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 13:37:31.376 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 13:37:31.378 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50914 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:38:00.774 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:38:00.778 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 13:38:00.781 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 13:38:00.785 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 13:38:00.787 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 13:38:00.789 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 13:38:00.790 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 13:38:00.791 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50922 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:38:00.798 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:38:00.803 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 13:38:00.806 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 13:38:00.807 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 13:38:00.810 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 13:38:00.811 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 13:38:00.813 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 13:38:00.815 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50924 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:39:44.144 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:39:44.161 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 13:39:44.173 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 13:39:44.177 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 13:39:44.179 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 13:39:44.181 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 13:39:44.182 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 13:39:44.184 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50962 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:39:44.193 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:39:44.195 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 13:39:44.200 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 13:39:44.206 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 13:39:44.213 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 13:39:44.218 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 13:39:44.220 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 13:39:44.224 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50964 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:45:42.620 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51045 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:45:42.624 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51046 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:45:42.631 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:45:42.636 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 13:45:42.639 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 13:45:42.641 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 13:45:42.644 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 13:45:42.650 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 13:45:42.653 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 13:45:42.654 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51045 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:45:42.660 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:45:42.662 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 13:45:42.665 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 13:45:42.668 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 13:45:42.671 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 13:45:42.674 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 13:45:42.676 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 13:45:42.678 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51046 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:45:59.283 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:45:59.290 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 13:45:59.295 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 13:45:59.304 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 13:45:59.308 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 13:45:59.310 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 13:45:59.319 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 13:45:59.321 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51055 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:45:59.333 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:45:59.336 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 13:45:59.343 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 13:45:59.345 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 13:45:59.347 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 13:45:59.350 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 13:45:59.352 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 13:45:59.356 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51057 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:46:23.244 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:46:23.247 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 13:46:23.263 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 13:46:23.266 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 13:46:23.268 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 13:46:23.275 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 13:46:23.277 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 13:46:23.280 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51068 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:46:23.294 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:46:23.302 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 13:46:23.306 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 13:46:23.311 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 13:46:23.319 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 13:46:23.322 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 13:46:23.325 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 13:46:23.328 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51068 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:47:10.966 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51070 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:47:10.967 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51077 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 13:47:10.968 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51078 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:47:10.968 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51079 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 13:47:10.976 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 13:47:10.976 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:47:10.979 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51070 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 13:47:10.979 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 13:47:10.981 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51077 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:47:10.985 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 13:47:10.987 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51079 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 13:47:10.987 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:47:10.989 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 13:47:10.991 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51070 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:47:14.008 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:47:14.011 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 13:47:14.013 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 13:47:14.015 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 13:47:14.018 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 13:47:14.021 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 13:47:14.022 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 13:47:14.024 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51070 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:47:14.032 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 13:47:14.036 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name,
        users.email
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 13:47:14.042 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 13:47:14.044 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 13:47:14.046 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 13:47:14.047 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 13:47:14.050 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 13:47:14.053 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51079 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 13:49:42.221 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 13:49:42.323 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 13:49:42.323 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 13:49:42.324 | INFO     | uvicorn.server:serve:86 - Finished server process [41456]
2023-12-15 13:49:42.815 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 13:51:04.876 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 13:51:04.978 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 13:51:04.979 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 13:51:04.979 | INFO     | uvicorn.server:serve:86 - Finished server process [42391]
2023-12-15 13:51:05.430 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 13:51:17.969 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 13:51:18.070 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 13:51:18.071 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 13:51:18.071 | INFO     | uvicorn.server:serve:86 - Finished server process [42425]
2023-12-15 13:51:18.503 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 13:51:32.766 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 13:51:32.867 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 13:51:32.868 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 13:51:32.868 | INFO     | uvicorn.server:serve:86 - Finished server process [42435]
2023-12-15 13:51:33.290 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 13:52:12.092 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51113 - "OPTIONS /token HTTP/1.1" 200
2023-12-15 13:52:12.104 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = 'admin@demo.com';
    
2023-12-15 13:52:12.109 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 13:52:12.113 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-15 13:52:12.119 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            menus.code,
            menus.name
        FROM
            menus
        JOIN
            permission_menu_rels
            ON
            permission_menu_rels.menu_code = menus.code
        JOIN
            permissions
            ON
            permissions.id = permission_menu_rels.permission_id
        JOIN
            user_permission_rels
            ON
            user_permission_rels.permission_id = permissions.id
        WHERE
            user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
        
2023-12-15 13:52:12.127 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51113 - "POST /token HTTP/1.1" 200
2023-12-15 13:52:18.304 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51119 - "OPTIONS /orgs?role_id=null HTTP/1.1" 200
2023-12-15 13:52:18.304 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51120 - "OPTIONS /orgs?role_id=null HTTP/1.1" 200
2023-12-15 13:52:18.309 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 13:52:18.312 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51120 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 13:52:18.317 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            orgs.id,
            orgs.p_id,
            orgs.name,
            orgs.type,
            users.last_name,
            users.first_name
        FROM
            orgs
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = orgs.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            user_org_rels.type LIKE '0%';
        
2023-12-15 13:52:18.322 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51119 - "GET /orgs?role_id=null HTTP/1.1" 200
2023-12-15 13:52:19.763 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51119 - "OPTIONS /users?user_id=d6c9c874-dce6-41f3-b818-b2b812aaec8b&role_id=null HTTP/1.1" 200
2023-12-15 13:52:19.764 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51120 - "OPTIONS /users?user_id=d6c9c874-dce6-41f3-b818-b2b812aaec8b&role_id=null HTTP/1.1" 200
2023-12-15 13:52:19.771 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-15 13:52:19.773 | ERROR    | app.endpoints.users:get_users:96 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1006899d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x100407430>
           └ <SpawnProcess name='SpawnProcess-69' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1003fba60>
    └ <SpawnProcess name='SpawnProcess-69' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10069a9d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-69' parent=33732 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-69' parent=33732 started>
    │    └ <function subprocess_started at 0x104080ee0>
    └ <SpawnProcess name='SpawnProcess-69' parent=33732 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10069aaf0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1040804c0>
           │       │   └ <uvicorn.server.Server object at 0x10069aaf0>
           │       └ <function run at 0x1006c6820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10407f6c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1040c9c10>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1042eda00>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1042eda...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1041ae910>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1040c9c10>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1042eda00>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1042eda...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1042eda00>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1042eda...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1042f2760>
          └ <fastapi.applications.FastAPI object at 0x1041ae910>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1041aadc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1042eda...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1042f2700>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1042f2760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1041aadc0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1042eda...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x1024f7af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1042f2700>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1042f2700>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1042eda...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1042f26d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1042f2700>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1042d53a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1042eda...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1042f2670>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1042f26d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1042d53a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1042eda...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1041aea30>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1042f2670>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1042d53a0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1042eda...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10244daf0>
          └ APIRoute(path='/users', name='get_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1042d53a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1042eda...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1041b9d30>
          └ APIRoute(path='/users', name='get_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1042e1040>
                     └ <function get_request_handler.<locals>.app at 0x1041b9ee0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10243c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x104097d60>, 'user_id': 'd6c9c874-dce6-41f3-b818-b2b812aaec8b', 'role_id': 'null'}
                 │         └ <function get_users at 0x102f4b160>
                 └ <fastapi.dependencies.models.Dependant object at 0x1042e9580>

> File "/Users/ryu/loan-ledger-if/app/endpoints/users.py", line 90, in get_users
    users = await users_crud.query_users(db, user_id, role_id)
                  │          │           │   │        └ 'null'
                  │          │           │   └ 'd6c9c874-dce6-41f3-b818-b2b812aaec8b'
                  │          │           └ <providers.psql_provider.DB object at 0x104097d60>
                  │          └ <function query_users at 0x102f31670>
                  └ <module 'app.crud.users_crud' from '/Users/ryu/loan-ledger-if/app/crud/users_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/users_crud.py", line 141, in query_users
    main_org_id = await db.fetch_value(sql)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x1029fdf70>
                        └ <providers.psql_provider.DB object at 0x104097d60>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x1027581f0>
                   └ <PoolConnectionProxy [released] 0x10436c310>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1027441f0>
                 └ <asyncpg.connection.Connection object at 0x1041a5d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1041a5d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1027445e0>
                         └ <asyncpg.connection.Connection object at 0x1041a5d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x102742700>
                 └ <asyncpg.connection.Connection object at 0x1041a5d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1041a5d60>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-15 13:52:19.788 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51119 - "GET /users?user_id=d6c9c874-dce6-41f3-b818-b2b812aaec8b&role_id=null HTTP/1.1" 500
2023-12-15 13:52:19.794 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-15 13:52:19.795 | ERROR    | app.endpoints.users:get_users:96 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1006899d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x100407430>
           └ <SpawnProcess name='SpawnProcess-69' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1003fba60>
    └ <SpawnProcess name='SpawnProcess-69' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10069a9d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-69' parent=33732 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-69' parent=33732 started>
    │    └ <function subprocess_started at 0x104080ee0>
    └ <SpawnProcess name='SpawnProcess-69' parent=33732 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10069aaf0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1040804c0>
           │       │   └ <uvicorn.server.Server object at 0x10069aaf0>
           │       └ <function run at 0x1006c6820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10407f6c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1040c9c10>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1042f2dc0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1042f2d...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1041ae910>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1040c9c10>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1042f2dc0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1042f2d...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1042f2dc0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1042f2d...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1042f2760>
          └ <fastapi.applications.FastAPI object at 0x1041ae910>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1041b4550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1042f2d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1042f2700>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1042f2760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1041b4550>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1042f2d...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x1024f7af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1042f2700>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1042f2700>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1042f2d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1042f26d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1042f2700>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1041b4670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1042f2d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1042f2670>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1042f26d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1041b4670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1042f2d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1041aea30>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1042f2670>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1041b4670>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1042f2d...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10244daf0>
          └ APIRoute(path='/users', name='get_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1041b4670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1042f2d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1041b9d30>
          └ APIRoute(path='/users', name='get_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1042e9370>
                     └ <function get_request_handler.<locals>.app at 0x1041b9ee0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10243c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x104097d60>, 'user_id': 'd6c9c874-dce6-41f3-b818-b2b812aaec8b', 'role_id': 'null'}
                 │         └ <function get_users at 0x102f4b160>
                 └ <fastapi.dependencies.models.Dependant object at 0x1042e9580>

> File "/Users/ryu/loan-ledger-if/app/endpoints/users.py", line 90, in get_users
    users = await users_crud.query_users(db, user_id, role_id)
                  │          │           │   │        └ 'null'
                  │          │           │   └ 'd6c9c874-dce6-41f3-b818-b2b812aaec8b'
                  │          │           └ <providers.psql_provider.DB object at 0x104097d60>
                  │          └ <function query_users at 0x102f31670>
                  └ <module 'app.crud.users_crud' from '/Users/ryu/loan-ledger-if/app/crud/users_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/users_crud.py", line 141, in query_users
    main_org_id = await db.fetch_value(sql)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x1029fdf70>
                        └ <providers.psql_provider.DB object at 0x104097d60>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x1027581f0>
                   └ <PoolConnectionProxy [released] 0x1042f2e20>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1027441f0>
                 └ <asyncpg.connection.Connection object at 0x104680400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x104680400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1027445e0>
                         └ <asyncpg.connection.Connection object at 0x104680400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x102742700>
                 └ <asyncpg.connection.Connection object at 0x104680400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x104680400>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-15 13:52:19.800 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51120 - "GET /users?user_id=d6c9c874-dce6-41f3-b818-b2b812aaec8b&role_id=null HTTP/1.1" 500
2023-12-15 13:53:27.114 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 13:53:27.216 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 13:53:27.216 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 13:53:27.216 | INFO     | uvicorn.server:serve:86 - Finished server process [42450]
2023-12-15 13:53:27.639 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 13:55:24.743 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 13:55:24.845 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 13:55:24.845 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 13:55:24.846 | INFO     | uvicorn.server:serve:86 - Finished server process [42505]
2023-12-15 13:55:25.279 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 13:56:33.267 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 13:56:33.369 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 13:56:33.369 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 13:56:33.370 | INFO     | uvicorn.server:serve:86 - Finished server process [42566]
2023-12-15 13:56:33.794 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 13:57:41.270 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 13:57:41.371 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 13:57:41.372 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 13:57:41.372 | INFO     | uvicorn.server:serve:86 - Finished server process [42584]
2023-12-15 13:57:41.806 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 13:57:56.577 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 13:57:56.678 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 13:57:56.679 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 13:57:56.679 | INFO     | uvicorn.server:serve:86 - Finished server process [42603]
2023-12-15 13:57:57.118 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 13:58:41.445 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 13:58:41.546 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 13:58:41.547 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 13:58:41.547 | INFO     | uvicorn.server:serve:86 - Finished server process [42615]
2023-12-15 13:58:41.964 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 14:00:58.014 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 14:00:58.115 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 14:00:58.115 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 14:00:58.115 | INFO     | uvicorn.server:serve:86 - Finished server process [42628]
2023-12-15 14:00:58.532 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 14:01:19.382 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 14:01:19.484 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 14:01:19.485 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 14:01:19.485 | INFO     | uvicorn.server:serve:86 - Finished server process [42659]
2023-12-15 14:01:19.909 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 14:01:23.353 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51161 - "GET /users?user_id=d6c9c874-dce6-41f3-b818-b2b812aaec8b&role_id=null HTTP/1.1" 422
2023-12-15 14:01:23.355 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51162 - "GET /users?user_id=d6c9c874-dce6-41f3-b818-b2b812aaec8b&role_id=null HTTP/1.1" 422
2023-12-15 14:02:29.916 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51171 - "OPTIONS /users?user_id=d6c9c874-dce6-41f3-b818-b2b812aaec8b&role_id=null&is_super=true HTTP/1.1" 200
2023-12-15 14:02:29.917 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51172 - "OPTIONS /users?user_id=d6c9c874-dce6-41f3-b818-b2b812aaec8b&role_id=null&is_super=true HTTP/1.1" 200
2023-12-15 14:02:29.918 | ERROR    | app.endpoints.users:get_users:96 - query_users() missing 1 required positional argument: 'is_super'Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104efd9d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104c7b430>
           └ <SpawnProcess name='SpawnProcess-77' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104c6fa60>
    └ <SpawnProcess name='SpawnProcess-77' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104f0e9d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-77' parent=33732 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-77' parent=33732 started>
    │    └ <function subprocess_started at 0x107394f70>
    └ <SpawnProcess name='SpawnProcess-77' parent=33732 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104f0eaf0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x107394550>
           │       │   └ <uvicorn.server.Server object at 0x104f0eaf0>
           │       └ <function run at 0x104f3a820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1073907c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1073e2490>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075fcc70>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075fcc...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1074c5e50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1073e2490>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075fcc70>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075fcc...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075fcc70>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075fcc...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107606c10>
          └ <fastapi.applications.FastAPI object at 0x1074c5e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x106f1d700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075fcc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x107606a60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107606c10>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x106f1d700>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075fcc...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x106b37af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107606a60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x107606a60>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075fcc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107606bb0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107606a60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1075f1af0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075fcc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107606c40>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107606bb0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1075f1af0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075fcc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1074c5f70>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107606c40>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1075f1af0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075fcc...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106a8daf0>
          └ APIRoute(path='/users', name='get_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1075f1af0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075fcc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1074d08b0>
          └ APIRoute(path='/users', name='get_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x107600400>
                     └ <function get_request_handler.<locals>.app at 0x1074d09d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x106a7c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1073b52e0>, 'is_super': True, 'user_id': 'd6c9c874-dce6-41f3-b818-b2b812aaec8b...
                 │         └ <function get_users at 0x10725a160>
                 └ <fastapi.dependencies.models.Dependant object at 0x1075fceb0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/users.py", line 90, in get_users
    users = await users_crud.query_users(db, user_id, role_id)
                  │          │           │   │        └ 'null'
                  │          │           │   └ 'd6c9c874-dce6-41f3-b818-b2b812aaec8b'
                  │          │           └ <providers.psql_provider.DB object at 0x1073b52e0>
                  │          └ <function query_users at 0x107245670>
                  └ <module 'app.crud.users_crud' from '/Users/ryu/loan-ledger-if/app/crud/users_crud.py'>

TypeError: query_users() missing 1 required positional argument: 'is_super'

2023-12-15 14:02:29.942 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51171 - "GET /users?user_id=d6c9c874-dce6-41f3-b818-b2b812aaec8b&role_id=null&is_super=true HTTP/1.1" 500
2023-12-15 14:02:29.942 | ERROR    | app.endpoints.users:get_users:96 - query_users() missing 1 required positional argument: 'is_super'Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104efd9d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104c7b430>
           └ <SpawnProcess name='SpawnProcess-77' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104c6fa60>
    └ <SpawnProcess name='SpawnProcess-77' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104f0e9d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-77' parent=33732 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-77' parent=33732 started>
    │    └ <function subprocess_started at 0x107394f70>
    └ <SpawnProcess name='SpawnProcess-77' parent=33732 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104f0eaf0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x107394550>
           │       │   └ <uvicorn.server.Server object at 0x104f0eaf0>
           │       └ <function run at 0x104f3a820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1073907c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1073e2490>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1076003a0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1076003...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1074c5e50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1073e2490>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1076003a0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1076003...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1076003a0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1076003...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107606c10>
          └ <fastapi.applications.FastAPI object at 0x1074c5e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1075f19d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1076003...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x107606a60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107606c10>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1075f19d0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1076003...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x106b37af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107606a60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x107606a60>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1076003...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107606bb0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107606a60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1075f1af0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1076003...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107606c40>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107606bb0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1075f1af0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1076003...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1074c5f70>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107606c40>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1075f1af0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1076003...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106a8daf0>
          └ APIRoute(path='/users', name='get_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1075f1af0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1076003...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1074d08b0>
          └ APIRoute(path='/users', name='get_users', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x107606fd0>
                     └ <function get_request_handler.<locals>.app at 0x1074d09d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x106a7c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1073b52e0>, 'is_super': True, 'user_id': 'd6c9c874-dce6-41f3-b818-b2b812aaec8b...
                 │         └ <function get_users at 0x10725a160>
                 └ <fastapi.dependencies.models.Dependant object at 0x1075fceb0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/users.py", line 90, in get_users
    users = await users_crud.query_users(db, user_id, role_id)
                  │          │           │   │        └ 'null'
                  │          │           │   └ 'd6c9c874-dce6-41f3-b818-b2b812aaec8b'
                  │          │           └ <providers.psql_provider.DB object at 0x1073b52e0>
                  │          └ <function query_users at 0x107245670>
                  └ <module 'app.crud.users_crud' from '/Users/ryu/loan-ledger-if/app/crud/users_crud.py'>

TypeError: query_users() missing 1 required positional argument: 'is_super'

2023-12-15 14:02:29.947 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51172 - "GET /users?user_id=d6c9c874-dce6-41f3-b818-b2b812aaec8b&role_id=null&is_super=true HTTP/1.1" 500
2023-12-15 14:03:09.749 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 14:03:09.851 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 14:03:09.851 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 14:03:09.852 | INFO     | uvicorn.server:serve:86 - Finished server process [42672]
2023-12-15 14:03:10.300 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 14:03:13.290 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            id,
            last_name,
            first_name,
            email
        FROM
            users
        WHERE
            users.is_super = false;
        
2023-12-15 14:03:13.296 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51304 - "GET /users?user_id=d6c9c874-dce6-41f3-b818-b2b812aaec8b&role_id=null&is_super=true HTTP/1.1" 200
2023-12-15 14:03:13.304 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            id,
            last_name,
            first_name,
            email
        FROM
            users
        WHERE
            users.is_super = false;
        
2023-12-15 14:03:13.307 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51306 - "GET /users?user_id=d6c9c874-dce6-41f3-b818-b2b812aaec8b&role_id=null&is_super=true HTTP/1.1" 200
2023-12-15 14:04:56.993 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 14:04:57.094 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 14:04:57.095 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 14:04:57.095 | INFO     | uvicorn.server:serve:86 - Finished server process [42720]
2023-12-15 14:04:57.535 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 14:05:01.103 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            id,
            last_name,
            first_name,
            email
        FROM
            users
        WHERE
            users.is_super = false;
        
2023-12-15 14:05:01.106 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:05:01.113 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'cf3facb5-de15-4b25-8f13-c3cbe6db0a25';
        
2023-12-15 14:05:01.116 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:05:01.127 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:05:01.129 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:05:01.132 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:05:01.142 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:05:01.156 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51750 - "GET /users?user_id=d6c9c874-dce6-41f3-b818-b2b812aaec8b&role_id=null&is_super=true HTTP/1.1" 200
2023-12-15 14:05:01.166 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            id,
            last_name,
            first_name,
            email
        FROM
            users
        WHERE
            users.is_super = false;
        
2023-12-15 14:05:01.176 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:05:01.181 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'cf3facb5-de15-4b25-8f13-c3cbe6db0a25';
        
2023-12-15 14:05:01.183 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:05:01.189 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:05:01.192 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:05:01.194 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:05:01.195 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:05:01.197 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51752 - "GET /users?user_id=d6c9c874-dce6-41f3-b818-b2b812aaec8b&role_id=null&is_super=true HTTP/1.1" 200
2023-12-15 14:05:48.953 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            id,
            last_name,
            first_name,
            email
        FROM
            users
        WHERE
            users.is_super = false;
        
2023-12-15 14:05:48.959 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:05:48.972 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'cf3facb5-de15-4b25-8f13-c3cbe6db0a25';
        
2023-12-15 14:05:48.976 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:05:48.990 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:05:48.992 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:05:48.995 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:05:48.997 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:05:48.999 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51808 - "GET /users?user_id=d6c9c874-dce6-41f3-b818-b2b812aaec8b&role_id=null&is_super=true HTTP/1.1" 200
2023-12-15 14:05:49.032 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            id,
            last_name,
            first_name,
            email
        FROM
            users
        WHERE
            users.is_super = false;
        
2023-12-15 14:05:49.034 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:05:49.037 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'cf3facb5-de15-4b25-8f13-c3cbe6db0a25';
        
2023-12-15 14:05:49.039 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:05:49.040 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:05:49.042 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:05:49.043 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:05:49.044 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:05:49.045 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51810 - "GET /users?user_id=d6c9c874-dce6-41f3-b818-b2b812aaec8b&role_id=null&is_super=true HTTP/1.1" 200
2023-12-15 14:06:20.537 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            id,
            last_name,
            first_name,
            email
        FROM
            users
        WHERE
            users.is_super = false;
        
2023-12-15 14:06:20.542 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:06:20.545 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'cf3facb5-de15-4b25-8f13-c3cbe6db0a25';
        
2023-12-15 14:06:20.546 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:06:20.548 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:06:20.549 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:06:20.551 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:06:20.552 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:06:20.553 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51819 - "GET /users?user_id=d6c9c874-dce6-41f3-b818-b2b812aaec8b&role_id=null&is_super=true HTTP/1.1" 200
2023-12-15 14:06:20.560 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            id,
            last_name,
            first_name,
            email
        FROM
            users
        WHERE
            users.is_super = false;
        
2023-12-15 14:06:20.562 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:06:20.566 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'cf3facb5-de15-4b25-8f13-c3cbe6db0a25';
        
2023-12-15 14:06:20.567 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:06:20.569 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:06:20.570 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:06:20.574 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:06:20.575 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:06:20.577 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51821 - "GET /users?user_id=d6c9c874-dce6-41f3-b818-b2b812aaec8b&role_id=null&is_super=true HTTP/1.1" 200
2023-12-15 14:07:27.106 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            id,
            last_name,
            first_name,
            email
        FROM
            users
        WHERE
            users.is_super = false;
        
2023-12-15 14:07:27.110 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:07:27.120 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'cf3facb5-de15-4b25-8f13-c3cbe6db0a25';
        
2023-12-15 14:07:27.123 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:07:27.126 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:07:27.130 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:07:27.135 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:07:27.137 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:07:27.141 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51958 - "GET /users?user_id=d6c9c874-dce6-41f3-b818-b2b812aaec8b&role_id=null&is_super=true HTTP/1.1" 200
2023-12-15 14:07:27.150 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            id,
            last_name,
            first_name,
            email
        FROM
            users
        WHERE
            users.is_super = false;
        
2023-12-15 14:07:27.152 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:07:27.158 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'cf3facb5-de15-4b25-8f13-c3cbe6db0a25';
        
2023-12-15 14:07:27.160 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:07:27.181 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:07:27.185 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:07:27.186 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:07:27.191 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:07:27.194 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51960 - "GET /users?user_id=d6c9c874-dce6-41f3-b818-b2b812aaec8b&role_id=null&is_super=true HTTP/1.1" 200
2023-12-15 14:07:40.193 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52016 - "OPTIONS /layouts/orgs?role_id=null HTTP/1.1" 200
2023-12-15 14:07:40.194 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52017 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 14:07:40.194 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52018 - "OPTIONS /layouts/orgs?role_id=null HTTP/1.1" 200
2023-12-15 14:07:40.194 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52019 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 14:07:40.207 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-15 14:07:40.209 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 14:07:40.213 | ERROR    | app.endpoints.layouts:get_orgs:23 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1053059d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x105083430>
           └ <SpawnProcess name='SpawnProcess-79' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x105077a60>
    └ <SpawnProcess name='SpawnProcess-79' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1053169d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-79' parent=33732 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-79' parent=33732 started>
    │    └ <function subprocess_started at 0x107a00f70>
    └ <SpawnProcess name='SpawnProcess-79' parent=33732 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x105316af0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x107a00550>
           │       │   └ <uvicorn.server.Server object at 0x105316af0>
           │       └ <function run at 0x105342820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1079fc740>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x107a4e490>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107f25a30>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107f25a...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x107b32e50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x107a4e490>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107f25a30>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107f25a...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107f25a30>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107f25a...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107e76c10>
          └ <fastapi.applications.FastAPI object at 0x107b32e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107e60040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107f25a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x107e76a60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107e76c10>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107e60040>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107f25a...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x107077af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107e76a60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x107e76a60>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107f25a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107e76bb0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107e76a60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107b3c1f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107f25a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107e76c40>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107e76bb0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107b3c1f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107f25a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x107b32f70>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107e76c40>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107b3c1f0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107f25a...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106e95af0>
          └ APIRoute(path='/layouts/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107b3c1f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107f25a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x107e60820>
          └ APIRoute(path='/layouts/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x107f16b20>
                     └ <function get_request_handler.<locals>.app at 0x107e60310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x106e84790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x107a212e0>, 'role_id': 'null'}
                 │         └ <function get_orgs at 0x10777bf70>
                 └ <fastapi.dependencies.models.Dependant object at 0x107e5e100>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 16, in get_orgs
    orgs = await layouts_crud.query_layouts_orgs(db, role_id)
                 │            │                  │   └ 'null'
                 │            │                  └ <providers.psql_provider.DB object at 0x107a212e0>
                 │            └ <function query_layouts_orgs at 0x10779c4c0>
                 └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 18, in query_layouts_orgs
    main_org_id = await db.fetch_value(sql_main)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x10747df70>
                        └ <providers.psql_provider.DB object at 0x107a212e0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x1071d71f0>
                   └ <PoolConnectionProxy [released] 0x107f25af0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1071c41f0>
                 └ <asyncpg.connection.Connection object at 0x107f0f5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x107f0f5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1071c45e0>
                         └ <asyncpg.connection.Connection object at 0x107f0f5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1071c2700>
                 └ <asyncpg.connection.Connection object at 0x107f0f5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x107f0f5e0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-15 14:07:40.226 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52019 - "GET /layouts/orgs?role_id=null HTTP/1.1" 500
2023-12-15 14:07:40.227 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52018 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 14:07:40.232 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = 'null';
    
2023-12-15 14:07:40.233 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 14:07:40.236 | ERROR    | app.endpoints.layouts:get_orgs:23 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1053059d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x105083430>
           └ <SpawnProcess name='SpawnProcess-79' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x105077a60>
    └ <SpawnProcess name='SpawnProcess-79' parent=33732 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1053169d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-79' parent=33732 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-79' parent=33732 started>
    │    └ <function subprocess_started at 0x107a00f70>
    └ <SpawnProcess name='SpawnProcess-79' parent=33732 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x105316af0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x107a00550>
           │       │   └ <uvicorn.server.Server object at 0x105316af0>
           │       └ <function run at 0x105342820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1079fc740>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x107a4e490>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107f0cd90>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107f0cd...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x107b32e50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x107a4e490>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107f0cd90>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107f0cd...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107f0cd90>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107f0cd...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107e76c10>
          └ <fastapi.applications.FastAPI object at 0x107b32e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10745d700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107f0cd...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x107e76a60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107e76c10>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10745d700>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107f0cd...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x107077af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107e76a60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x107e76a60>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107f0cd...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107e76bb0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107e76a60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107b3c040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107f0cd...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107e76c40>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107e76bb0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107b3c040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107f0cd...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x107b32f70>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107e76c40>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107b3c040>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107f0cd...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106e95af0>
          └ APIRoute(path='/layouts/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107b3c040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107f0cd...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x107e60820>
          └ APIRoute(path='/layouts/orgs', name='get_orgs', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x107e71ca0>
                     └ <function get_request_handler.<locals>.app at 0x107e60310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x106e84790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x107a212e0>, 'role_id': 'null'}
                 │         └ <function get_orgs at 0x10777bf70>
                 └ <fastapi.dependencies.models.Dependant object at 0x107e5e100>

> File "/Users/ryu/loan-ledger-if/app/endpoints/layouts.py", line 16, in get_orgs
    orgs = await layouts_crud.query_layouts_orgs(db, role_id)
                 │            │                  │   └ 'null'
                 │            │                  └ <providers.psql_provider.DB object at 0x107a212e0>
                 │            └ <function query_layouts_orgs at 0x10779c4c0>
                 └ <module 'app.crud.layouts_crud' from '/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/layouts_crud.py", line 18, in query_layouts_orgs
    main_org_id = await db.fetch_value(sql_main)
                        │  │           └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                        │  └ <function DB.fetch_value at 0x10747df70>
                        └ <providers.psql_provider.DB object at 0x107a212e0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 49, in fetch_value
    result = await con.fetchval(query)
                   │   │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                   │   └ <function Connection.fetchval at 0x1071d71f0>
                   └ <PoolConnectionProxy [released] 0x107f25ca0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 715, in fetchval
    data = await self._execute(query, args, 1, timeout)
                 │    │        │      │        └ None
                 │    │        │      └ ()
                 │    │        └ "\n    SELECT\n        orgs.id\n    FROM\n        orgs\n    JOIN\n        org_role_rels\n        ON\n        org_role_rels.or...
                 │    └ <function Connection._execute at 0x1071c41f0>
                 └ <asyncpg.connection.Connection object at 0x107f80c70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x107f80c70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1071c45e0>
                         └ <asyncpg.connection.Connection object at 0x107f80c70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1071c2700>
                 └ <asyncpg.connection.Connection object at 0x107f80c70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x107f80c70>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-15 14:07:40.241 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52016 - "GET /layouts/orgs?role_id=null HTTP/1.1" 500
2023-12-15 14:07:40.243 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52019 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 14:07:53.317 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            id,
            last_name,
            first_name,
            email
        FROM
            users
        WHERE
            users.is_super = false;
        
2023-12-15 14:07:53.319 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:07:53.322 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'cf3facb5-de15-4b25-8f13-c3cbe6db0a25';
        
2023-12-15 14:07:53.324 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:07:53.326 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:07:53.329 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:07:53.332 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:07:53.333 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:07:53.340 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52077 - "GET /users?user_id=d6c9c874-dce6-41f3-b818-b2b812aaec8b&role_id=null&is_super=true HTTP/1.1" 200
2023-12-15 14:07:53.345 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT
            id,
            last_name,
            first_name,
            email
        FROM
            users
        WHERE
            users.is_super = false;
        
2023-12-15 14:07:53.347 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:07:53.351 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'cf3facb5-de15-4b25-8f13-c3cbe6db0a25';
        
2023-12-15 14:07:53.352 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:07:53.355 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:07:53.357 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:07:53.360 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:07:53.361 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:07:53.363 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52079 - "GET /users?user_id=d6c9c874-dce6-41f3-b818-b2b812aaec8b&role_id=null&is_super=true HTTP/1.1" 200
2023-12-15 14:08:27.926 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52225 - "OPTIONS /token HTTP/1.1" 200
2023-12-15 14:08:27.936 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password,
        curr_role_id
    FROM
        users
    WHERE
        users.email = '001@demo.com';
    
2023-12-15 14:08:27.939 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        curr_role_id,
        is_super
    FROM
        users
    WHERE
        users.id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 14:08:27.941 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        roles.id,
        roles.type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-15 14:08:27.946 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985'
        AND
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 14:08:27.964 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    WHERE
        roles.id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 14:08:27.967 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52225 - "POST /token HTTP/1.1" 200
2023-12-15 14:08:31.803 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52225 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:08:31.803 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52242 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:08:31.811 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 14:08:31.814 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:08:31.816 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:08:31.817 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:08:31.821 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:08:31.822 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:08:31.823 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:08:31.830 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52225 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:08:31.836 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 14:08:31.841 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:08:31.843 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:08:31.845 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:08:31.847 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:08:31.848 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:08:31.849 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:08:31.851 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52242 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:09:20.119 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52446 - "OPTIONS /user/37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 14:09:20.120 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52447 - "OPTIONS /user/4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 14:09:20.120 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52448 - "OPTIONS /user/7cfe8233-7b67-4f0b-a40d-259ef4ecb25a HTTP/1.1" 200
2023-12-15 14:09:20.120 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52449 - "OPTIONS /user/a2884f9c-39b3-42f8-81f0-35cce07241d6 HTTP/1.1" 200
2023-12-15 14:09:20.120 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52450 - "OPTIONS /user/d4c6d1e5-4bdd-405f-a62f-7513e01a2269 HTTP/1.1" 200
2023-12-15 14:09:20.125 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52446 - "OPTIONS /user/4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 14:09:20.125 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52447 - "OPTIONS /user/7cfe8233-7b67-4f0b-a40d-259ef4ecb25a HTTP/1.1" 200
2023-12-15 14:09:20.125 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52448 - "OPTIONS /user/a2884f9c-39b3-42f8-81f0-35cce07241d6 HTTP/1.1" 200
2023-12-15 14:09:20.125 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52449 - "OPTIONS /user/d4c6d1e5-4bdd-405f-a62f-7513e01a2269 HTTP/1.1" 200
2023-12-15 14:09:20.125 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52451 - "OPTIONS /user/37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 14:09:20.177 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 14:09:20.196 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 14:09:20.196 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
    
2023-12-15 14:09:20.198 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
    
2023-12-15 14:09:20.199 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52450 - "GET /user/37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 14:09:20.205 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 14:09:20.209 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52447 - "GET /user/7cfe8233-7b67-4f0b-a40d-259ef4ecb25a HTTP/1.1" 200
2023-12-15 14:09:20.216 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52448 - "GET /user/d4c6d1e5-4bdd-405f-a62f-7513e01a2269 HTTP/1.1" 200
2023-12-15 14:09:20.217 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52451 - "GET /user/a2884f9c-39b3-42f8-81f0-35cce07241d6 HTTP/1.1" 200
2023-12-15 14:09:20.229 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52449 - "GET /user/4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 14:09:20.229 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 14:09:20.233 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 14:09:20.237 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52446 - "GET /user/37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 14:09:20.240 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52450 - "GET /user/7cfe8233-7b67-4f0b-a40d-259ef4ecb25a HTTP/1.1" 200
2023-12-15 14:09:20.241 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
    
2023-12-15 14:09:20.244 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
    
2023-12-15 14:09:20.247 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 14:09:20.251 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52447 - "GET /user/d4c6d1e5-4bdd-405f-a62f-7513e01a2269 HTTP/1.1" 200
2023-12-15 14:09:20.257 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52451 - "GET /user/a2884f9c-39b3-42f8-81f0-35cce07241d6 HTTP/1.1" 200
2023-12-15 14:09:20.261 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52448 - "GET /user/4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 14:11:23.737 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 14:11:23.742 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:11:23.756 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:11:23.760 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:11:23.768 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:11:23.775 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:11:23.780 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:11:23.787 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52969 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:11:23.806 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 14:11:23.816 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:11:23.853 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 14:11:23.853 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 14:11:23.855 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
    
2023-12-15 14:11:23.855 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 14:11:23.855 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:11:23.855 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52971 - "GET /user/37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 14:11:23.856 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52973 - "GET /user/4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 14:11:23.856 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
    
2023-12-15 14:11:23.858 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52976 - "GET /user/d4c6d1e5-4bdd-405f-a62f-7513e01a2269 HTTP/1.1" 200
2023-12-15 14:11:23.859 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52974 - "GET /user/7cfe8233-7b67-4f0b-a40d-259ef4ecb25a HTTP/1.1" 200
2023-12-15 14:11:23.860 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52975 - "GET /user/a2884f9c-39b3-42f8-81f0-35cce07241d6 HTTP/1.1" 200
2023-12-15 14:11:23.862 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 14:11:23.862 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 14:11:23.864 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:11:23.865 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52971 - "GET /user/37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 14:11:23.865 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 14:11:23.866 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52973 - "GET /user/4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 14:11:23.867 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
    
2023-12-15 14:11:23.869 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52974 - "GET /user/7cfe8233-7b67-4f0b-a40d-259ef4ecb25a HTTP/1.1" 200
2023-12-15 14:11:23.869 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52976 - "GET /user/d4c6d1e5-4bdd-405f-a62f-7513e01a2269 HTTP/1.1" 200
2023-12-15 14:11:23.871 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
    
2023-12-15 14:11:23.872 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52975 - "GET /user/a2884f9c-39b3-42f8-81f0-35cce07241d6 HTTP/1.1" 200
2023-12-15 14:11:23.872 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:11:23.874 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:11:23.876 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:11:23.877 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52969 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:12:41.974 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 14:12:42.076 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 14:12:42.077 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 14:12:42.077 | INFO     | uvicorn.server:serve:86 - Finished server process [42746]
2023-12-15 14:12:42.503 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 14:13:15.698 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 14:13:15.716 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:13:15.720 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:13:15.728 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:13:15.730 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:13:15.732 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:13:15.736 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:13:15.739 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53444 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:13:15.749 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 14:13:15.754 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:13:15.758 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:13:15.764 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53444 - "OPTIONS /user/basic?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 14:13:15.766 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53448 - "OPTIONS /user/basic?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 14:13:15.767 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:13:15.767 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53444 - "OPTIONS /user/basic?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 14:13:15.770 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53449 - "OPTIONS /user/basic?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a HTTP/1.1" 200
2023-12-15 14:13:15.771 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53448 - "OPTIONS /user/basic?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 14:13:15.771 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53450 - "OPTIONS /user/basic?user_id=a2884f9c-39b3-42f8-81f0-35cce07241d6 HTTP/1.1" 200
2023-12-15 14:13:15.772 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53444 - "OPTIONS /user/basic?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a HTTP/1.1" 200
2023-12-15 14:13:15.772 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53449 - "OPTIONS /user/basic?user_id=a2884f9c-39b3-42f8-81f0-35cce07241d6 HTTP/1.1" 200
2023-12-15 14:13:15.772 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53451 - "OPTIONS /user/basic?user_id=d4c6d1e5-4bdd-405f-a62f-7513e01a2269 HTTP/1.1" 200
2023-12-15 14:13:15.775 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53450 - "OPTIONS /user/basic?user_id=d4c6d1e5-4bdd-405f-a62f-7513e01a2269 HTTP/1.1" 200
2023-12-15 14:13:15.804 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 14:13:15.806 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 14:13:15.814 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53451 - "GET /user/basic?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 14:13:15.814 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
    
2023-12-15 14:13:15.815 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
    
2023-12-15 14:13:15.815 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 14:13:15.820 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53444 - "GET /user/basic?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a HTTP/1.1" 200
2023-12-15 14:13:15.822 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:13:15.825 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53449 - "GET /user/basic?user_id=a2884f9c-39b3-42f8-81f0-35cce07241d6 HTTP/1.1" 200
2023-12-15 14:13:15.828 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53450 - "GET /user/basic?user_id=d4c6d1e5-4bdd-405f-a62f-7513e01a2269 HTTP/1.1" 200
2023-12-15 14:13:15.828 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53448 - "GET /user/basic?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 14:13:15.831 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 14:13:15.831 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 14:13:15.831 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
    
2023-12-15 14:13:15.832 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
    
2023-12-15 14:13:15.832 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53444 - "GET /user/basic?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a HTTP/1.1" 200
2023-12-15 14:13:15.832 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 14:13:15.833 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53451 - "GET /user/basic?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 14:13:15.833 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:13:15.834 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53450 - "GET /user/basic?user_id=d4c6d1e5-4bdd-405f-a62f-7513e01a2269 HTTP/1.1" 200
2023-12-15 14:13:15.834 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53449 - "GET /user/basic?user_id=a2884f9c-39b3-42f8-81f0-35cce07241d6 HTTP/1.1" 200
2023-12-15 14:13:15.834 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53448 - "GET /user/basic?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 14:13:15.836 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:13:15.837 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53446 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:18:12.277 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 14:18:12.280 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:18:12.284 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:18:12.286 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:18:12.288 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:18:12.291 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:18:12.295 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:18:12.297 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54676 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:18:12.304 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 14:18:12.307 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:18:12.311 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:18:12.313 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:18:12.314 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:18:12.316 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:18:12.318 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:18:12.319 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54678 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:18:29.854 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 14:18:29.891 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:18:29.894 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:18:29.900 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:18:29.902 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:18:29.903 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:18:29.906 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:18:29.907 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54757 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:18:29.915 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 14:18:29.919 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:18:29.922 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:18:29.924 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:18:29.926 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:18:29.927 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:18:29.928 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:18:29.931 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54759 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:19:24.792 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54984 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:19:24.793 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54985 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:19:24.805 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 14:19:24.815 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:19:24.824 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:19:24.828 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:19:24.830 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:19:24.833 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:19:24.836 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:19:24.839 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54984 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:19:24.851 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 14:19:24.855 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:19:24.861 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:19:24.863 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:19:24.872 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:19:24.882 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:19:24.889 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:19:24.896 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54985 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:20:15.537 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 14:20:15.543 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:20:15.555 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:20:15.559 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:20:15.597 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:20:15.603 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:20:15.610 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:20:15.634 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55199 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:20:15.642 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 14:20:15.644 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:20:15.646 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:20:15.649 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:20:15.651 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:20:15.652 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:20:15.653 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:20:15.655 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55201 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:20:15.665 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 14:20:15.667 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 14:20:15.676 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 14:20:15.676 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55201 - "GET /user/basic?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 14:20:15.678 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
    
2023-12-15 14:20:15.678 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55199 - "GET /user/basic?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 14:20:15.680 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
    
2023-12-15 14:20:15.681 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55203 - "GET /user/basic?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a HTTP/1.1" 200
2023-12-15 14:20:15.681 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55204 - "GET /user/basic?user_id=a2884f9c-39b3-42f8-81f0-35cce07241d6 HTTP/1.1" 200
2023-12-15 14:20:15.685 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 14:20:15.685 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55205 - "GET /user/basic?user_id=d4c6d1e5-4bdd-405f-a62f-7513e01a2269 HTTP/1.1" 200
2023-12-15 14:20:15.685 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 14:20:15.688 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55211 - "GET /user/basic?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 14:20:15.688 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55201 - "GET /user/basic?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 14:20:15.689 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 14:20:15.690 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
    
2023-12-15 14:20:15.690 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
    
2023-12-15 14:20:15.691 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55199 - "GET /user/basic?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a HTTP/1.1" 200
2023-12-15 14:20:15.691 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55204 - "GET /user/basic?user_id=a2884f9c-39b3-42f8-81f0-35cce07241d6 HTTP/1.1" 200
2023-12-15 14:20:15.692 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55203 - "GET /user/basic?user_id=d4c6d1e5-4bdd-405f-a62f-7513e01a2269 HTTP/1.1" 200
2023-12-15 14:20:49.995 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 14:20:49.999 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:20:50.003 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:20:50.004 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:20:50.006 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:20:50.007 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:20:50.008 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:20:50.010 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55357 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:20:50.015 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 14:20:50.019 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:20:50.024 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:20:50.028 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:20:50.034 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:20:50.038 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:20:50.041 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:20:50.043 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55359 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:20:51.167 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 14:20:51.170 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:20:51.174 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:20:51.183 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:20:51.188 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:20:51.192 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:20:51.195 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:20:51.199 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55359 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:20:51.227 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 14:20:51.237 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:20:51.244 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:20:51.247 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:20:51.249 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:20:51.251 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:20:51.254 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:20:51.256 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55357 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:22:51.277 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 14:22:51.280 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:22:51.285 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:22:51.287 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:22:51.288 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:22:51.291 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:22:51.294 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:22:51.296 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55878 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:22:51.304 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 14:22:51.329 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:22:51.335 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:22:51.340 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:22:51.343 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:22:51.345 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:22:51.347 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:22:51.349 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55880 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:23:22.680 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 14:23:22.684 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:23:22.690 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:23:22.695 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:23:22.701 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:23:22.708 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:23:22.716 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:23:22.720 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56012 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:23:22.731 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 14:23:22.735 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:23:22.741 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:23:22.746 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:23:22.753 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:23:22.756 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:23:22.759 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:23:22.762 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56014 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:23:24.709 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56014 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 14:23:24.709 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56012 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 14:23:24.710 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56024 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 14:23:24.710 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56025 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 14:23:24.721 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 14:23:24.724 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 14:23:24.726 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56012 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 14:23:24.738 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 14:23:24.739 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 14:23:24.742 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56025 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 14:23:24.744 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56024 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 14:23:24.752 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 14:23:24.755 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 14:23:24.757 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56025 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 14:23:50.473 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56136 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 14:23:50.474 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56137 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 14:23:50.483 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 14:23:50.486 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 14:23:50.488 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56137 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 14:23:50.494 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 14:23:50.496 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 14:23:50.499 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56136 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 14:23:53.109 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56136 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 14:23:53.110 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56137 - "OPTIONS /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 14:23:53.111 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56136 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 14:23:53.111 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56149 - "OPTIONS /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 14:23:53.117 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 14:23:53.118 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 14:23:53.122 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 14:23:53.123 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 14:23:53.125 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56149 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 14:23:53.126 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 14:23:53.131 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 14:23:53.131 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56150 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 14:23:53.138 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 14:23:53.141 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 14:23:53.142 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 14:23:53.144 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 14:23:53.145 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56149 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 14:23:53.147 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56136 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 14:23:53.147 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56149 - "OPTIONS /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 14:23:53.148 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56137 - "OPTIONS /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 14:23:53.153 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 14:23:53.154 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 14:23:53.155 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56150 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 14:23:53.162 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 14:23:53.163 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 14:23:53.164 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56137 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 14:23:53.165 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56149 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 14:23:53.170 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 14:23:53.174 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 14:23:53.176 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56137 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 14:46:24.837 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61586 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:46:24.837 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61587 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:46:24.845 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 14:46:24.848 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:46:24.851 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:46:24.854 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:46:24.856 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:46:24.862 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:46:24.865 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:46:24.868 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61587 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:46:24.877 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 14:46:24.883 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:46:24.886 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:46:24.904 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:46:24.906 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:46:24.908 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:46:24.913 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:46:24.917 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61586 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:46:26.474 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61586 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 14:46:26.475 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61587 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 14:46:26.476 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61598 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 14:46:26.478 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61599 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 14:46:26.486 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 14:46:26.487 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 14:46:26.493 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61586 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 14:46:26.521 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 14:46:26.525 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 14:46:26.528 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61599 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 14:46:26.530 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61587 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 14:46:26.534 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 14:46:26.535 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 14:46:26.536 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61599 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 14:47:26.125 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 14:47:26.128 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:47:26.130 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:47:26.132 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:47:26.134 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:47:26.137 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:47:26.138 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:47:26.141 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61702 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:47:26.148 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 14:47:26.152 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:47:26.155 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:47:26.158 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:47:26.160 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:47:26.163 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:47:26.165 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:47:26.170 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61704 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:47:27.510 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 14:47:27.511 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 14:47:27.516 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61702 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 14:47:27.517 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 14:47:27.521 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61704 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 14:47:27.525 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 14:47:27.530 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61709 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 14:47:27.533 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 14:47:27.536 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 14:47:27.537 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61702 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 14:47:28.631 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 14:47:28.637 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:47:28.645 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:47:28.650 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:47:28.654 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:47:28.660 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:47:28.664 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:47:28.667 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61702 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:47:28.680 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 14:47:28.688 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 14:47:28.693 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 14:47:28.700 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 14:47:28.705 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 14:47:28.710 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 14:47:28.712 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 14:47:28.717 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61709 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 14:47:30.382 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 14:47:30.383 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 14:47:30.391 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61702 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 14:47:30.405 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 14:47:30.406 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 14:47:30.408 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61704 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 14:47:30.409 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61709 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 14:47:30.416 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 14:47:30.421 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 14:47:30.423 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61704 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 15:10:07.674 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 15:10:07.777 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 15:10:07.777 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 15:10:07.778 | INFO     | uvicorn.server:serve:86 - Finished server process [42940]
2023-12-15 15:10:08.234 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 15:15:22.386 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 15:15:22.488 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 15:15:22.488 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 15:15:22.489 | INFO     | uvicorn.server:serve:86 - Finished server process [43894]
2023-12-15 15:15:22.909 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 15:17:10.910 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 15:17:11.011 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 15:17:11.011 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 15:17:11.012 | INFO     | uvicorn.server:serve:86 - Finished server process [43964]
2023-12-15 15:17:11.447 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 15:25:27.903 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61939 - "OPTIONS /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 15:25:27.904 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61940 - "OPTIONS /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 15:25:27.917 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:25:27.920 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:25:27.925 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61939 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 15:25:27.936 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:25:27.942 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:25:27.946 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61940 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 15:46:36.316 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 15:46:36.418 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 15:46:36.419 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 15:46:36.419 | INFO     | uvicorn.server:serve:86 - Finished server process [43993]
2023-12-15 15:46:36.847 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 15:48:00.842 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50986 - "OPTIONS /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 15:48:00.842 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50987 - "OPTIONS /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 15:48:00.854 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:48:00.859 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:48:00.864 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50986 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 15:48:00.874 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:48:00.878 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:48:00.891 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50987 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 15:48:42.053 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:48:42.058 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:48:42.070 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51159 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 15:48:42.079 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:48:42.085 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:48:42.090 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51161 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 15:49:09.205 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51275 - "OPTIONS /user/basic/37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 15:49:09.207 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51275 - "PUT /user/basic/37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 404
2023-12-15 15:49:50.908 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 15:49:51.010 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 15:49:51.011 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 15:49:51.011 | INFO     | uvicorn.server:serve:86 - Finished server process [44349]
2023-12-15 15:49:51.441 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 15:49:53.159 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 15:49:53.260 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 15:49:53.261 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 15:49:53.261 | INFO     | uvicorn.server:serve:86 - Finished server process [44424]
2023-12-15 15:49:53.698 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 15:49:57.071 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE users
    SET
        last_name = '山田1',
        first_name = '四郎',
        email = '004@demo.com'
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:49:57.075 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51470 - "PUT /user/basic/37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 15:49:57.085 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:49:57.087 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:49:57.091 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51470 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 15:50:01.782 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:50:01.793 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:50:01.817 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51470 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 15:50:01.845 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:50:01.846 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:50:01.849 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51498 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 15:50:08.218 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE users
    SET
        last_name = '山田',
        first_name = '四郎',
        email = '104@demo.com'
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:50:08.222 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51524 - "PUT /user/basic/37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 15:50:08.234 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:50:08.258 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:50:08.262 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51524 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 15:50:18.526 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE users
    SET
        last_name = '山田',
        first_name = '四郎',
        email = '004@demo.com'
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:50:18.530 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51563 - "PUT /user/basic/37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 15:50:18.543 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:50:18.546 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:50:18.562 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51563 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 15:53:26.145 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:53:26.147 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:53:26.154 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52358 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 15:53:26.165 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:53:26.167 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:53:26.171 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52360 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 15:54:22.934 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:54:22.950 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:54:22.957 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52605 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 15:54:22.969 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:54:22.982 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:54:22.994 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52607 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 15:55:25.164 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:55:25.169 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:55:25.173 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52864 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 15:55:25.197 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:55:25.209 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:55:25.217 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52864 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 15:58:23.194 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53622 - "OPTIONS /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 15:58:23.195 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53623 - "OPTIONS /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 15:58:23.201 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:58:23.206 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:58:23.216 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53623 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 15:58:23.226 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:58:23.228 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 15:58:23.231 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53622 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:04:03.838 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:04:03.841 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:04:03.849 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55019 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:04:03.860 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:04:03.867 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:04:03.886 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55019 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:07:07.073 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:07:07.077 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:07:07.082 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55783 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:07:07.090 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:07:07.093 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:07:07.099 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55785 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:07:08.075 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:07:08.078 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:07:08.085 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55785 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:07:08.097 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:07:08.100 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:07:08.103 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55783 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:08:09.753 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:08:09.756 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:08:09.760 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56061 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:08:09.797 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:08:09.835 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:08:09.839 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56061 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:09:26.541 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56388 - "OPTIONS /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:09:26.542 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56389 - "OPTIONS /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:09:26.557 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:09:26.560 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:09:26.567 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56388 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:09:26.573 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:09:26.576 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:09:26.579 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56389 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:09:45.756 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:09:45.758 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:09:45.762 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56475 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:09:45.769 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:09:45.771 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:09:45.774 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56477 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:09:54.076 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:09:54.080 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:09:54.086 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56518 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:09:54.096 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:09:54.098 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:09:54.102 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56518 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:10:58.989 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:10:58.991 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:10:58.994 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56791 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:10:59.019 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:10:59.022 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:10:59.025 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56793 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:11:35.822 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:11:35.825 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:11:35.830 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56949 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:11:35.840 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:11:35.842 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:11:35.846 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56949 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:11:42.557 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:11:42.566 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:11:42.579 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56951 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:11:42.593 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:11:42.595 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:11:42.608 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56951 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:12:20.340 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:12:20.348 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:12:20.360 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56986 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:12:20.386 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:12:20.393 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:12:20.404 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57149 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:12:51.496 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:12:51.501 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:12:51.507 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57284 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:12:51.520 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:12:51.523 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:12:51.530 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57286 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:13:18.812 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:13:18.818 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:13:18.839 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57403 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:13:18.928 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:13:18.936 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:13:18.942 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57405 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:13:42.174 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:13:42.178 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:13:42.191 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57509 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:13:42.202 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:13:42.207 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:13:42.228 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57509 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:14:46.527 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:14:46.545 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:14:46.550 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57781 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 16:14:46.560 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:14:46.562 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 16:14:46.568 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57783 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 17:00:02.154 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52336 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 17:00:02.155 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52337 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 17:00:02.162 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 17:00:02.164 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 17:00:02.166 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52337 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 17:00:02.172 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 17:00:02.175 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 17:00:02.178 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52336 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 17:00:04.636 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52336 - "OPTIONS /org/1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:00:04.636 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52337 - "OPTIONS /layouts/org/users?org_id=1b45760d-6e58-4a83-a687-2910498b76fa&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 17:00:04.637 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52348 - "OPTIONS /org/1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:00:04.641 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52349 - "OPTIONS /layouts/org/users?org_id=1b45760d-6e58-4a83-a687-2910498b76fa&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 17:00:04.649 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 17:00:04.651 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 17:00:04.656 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa';
    
2023-12-15 17:00:04.659 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 17:00:04.660 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52337 - "GET /org/1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:00:04.670 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 17:00:04.670 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b45760d-6e58-4a83-a687-2910498b76fa';
    
2023-12-15 17:00:04.674 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52336 - "GET /layouts/org/users?org_id=1b45760d-6e58-4a83-a687-2910498b76fa&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 17:00:04.678 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa';
    
2023-12-15 17:00:04.679 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 17:00:04.684 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52349 - "GET /org/1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:00:04.685 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 17:00:04.686 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b45760d-6e58-4a83-a687-2910498b76fa';
    
2023-12-15 17:00:04.688 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52337 - "GET /layouts/org/users?org_id=1b45760d-6e58-4a83-a687-2910498b76fa&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 17:00:04.691 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52337 - "OPTIONS /user/permissions?user_id=a2884f9c-39b3-42f8-81f0-35cce07241d6&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:00:04.691 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52349 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 17:00:04.692 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52336 - "OPTIONS /user/permissions?user_id=d4c6d1e5-4bdd-405f-a62f-7513e01a2269&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:00:04.692 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52348 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 17:00:04.692 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52357 - "OPTIONS /user/permissions?user_id=a2884f9c-39b3-42f8-81f0-35cce07241d6&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:00:04.693 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52358 - "OPTIONS /user/permissions?user_id=d4c6d1e5-4bdd-405f-a62f-7513e01a2269&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:00:04.693 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52337 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 17:00:04.693 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52336 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 17:00:04.700 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
    
2023-12-15 17:00:04.701 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
    
2023-12-15 17:00:04.702 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:00:04.705 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52357 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:00:04.705 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '8fea4cee-1a19-47c5-b052-7b4d7eb2ebe4';

    
2023-12-15 17:00:04.711 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52348 - "GET /user/permissions?user_id=a2884f9c-39b3-42f8-81f0-35cce07241d6&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:00:04.713 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '5371ff4e-bd5d-4cf7-b703-9de96f19881c';

    
2023-12-15 17:00:04.714 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:00:04.715 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52336 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:00:04.715 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
    
2023-12-15 17:00:04.716 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52349 - "GET /user/permissions?user_id=d4c6d1e5-4bdd-405f-a62f-7513e01a2269&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:00:04.719 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:00:04.720 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
    
2023-12-15 17:00:04.721 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52348 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:00:04.722 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '8fea4cee-1a19-47c5-b052-7b4d7eb2ebe4';

    
2023-12-15 17:00:04.724 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52357 - "GET /user/permissions?user_id=a2884f9c-39b3-42f8-81f0-35cce07241d6&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:00:04.726 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:00:04.726 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '5371ff4e-bd5d-4cf7-b703-9de96f19881c';

    
2023-12-15 17:00:04.727 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52349 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:00:04.727 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52336 - "GET /user/permissions?user_id=d4c6d1e5-4bdd-405f-a62f-7513e01a2269&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:00:05.913 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:00:05.916 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52336 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:00:05.927 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:00:05.930 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52349 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:25:11.210 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58419 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 17:25:11.212 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58420 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 17:25:11.229 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:25:11.233 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58419 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:25:11.241 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:25:11.244 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58420 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:25:14.770 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58420 - "OPTIONS /user/permissions?user_id=d4c6d1e5-4bdd-405f-a62f-7513e01a2269&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:25:14.783 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:25:14.783 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
    
2023-12-15 17:25:14.787 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58419 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:25:14.788 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '5371ff4e-bd5d-4cf7-b703-9de96f19881c';

    
2023-12-15 17:25:14.793 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58420 - "GET /user/permissions?user_id=d4c6d1e5-4bdd-405f-a62f-7513e01a2269&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:25:26.466 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
    
2023-12-15 17:25:26.468 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:25:26.473 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58486 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:25:26.475 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '5371ff4e-bd5d-4cf7-b703-9de96f19881c';

    
2023-12-15 17:25:26.479 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58485 - "GET /user/permissions?user_id=d4c6d1e5-4bdd-405f-a62f-7513e01a2269&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:25:30.694 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58485 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 17:25:30.694 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58486 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 17:25:30.703 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 17:25:30.705 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 17:25:30.711 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 17:25:30.714 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 17:25:30.716 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 17:25:30.718 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 17:25:30.719 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 17:25:30.721 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58486 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 17:25:30.726 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 17:25:30.729 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 17:25:30.731 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 17:25:30.733 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 17:25:30.735 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 17:25:30.736 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 17:25:30.737 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 17:25:30.738 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58485 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 17:25:32.173 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58485 - "OPTIONS /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 17:25:32.175 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58486 - "OPTIONS /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 17:25:32.192 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:25:32.194 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:25:32.201 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58486 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 17:25:32.212 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:25:32.216 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:25:32.223 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58485 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 17:32:15.234 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 17:32:15.336 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 17:32:15.337 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 17:32:15.337 | INFO     | uvicorn.server:serve:86 - Finished server process [44431]
2023-12-15 17:32:15.843 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 17:35:22.397 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:35:22.399 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:35:22.406 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60930 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 17:35:22.415 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:35:22.417 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:35:22.421 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60932 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 17:38:26.920 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61695 - "OPTIONS /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 17:38:26.921 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61696 - "OPTIONS /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 17:38:26.927 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:38:26.930 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:38:26.934 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61696 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 17:38:26.939 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:38:26.941 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:38:26.944 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61695 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 17:38:36.059 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:38:36.069 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:38:36.080 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61747 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 17:38:36.088 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:38:36.090 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:38:36.094 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61749 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 17:38:36.114 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61749 - "OPTIONS /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 17:38:36.114 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61747 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 17:38:36.114 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61751 - "OPTIONS /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:38:36.115 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61752 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 17:38:36.115 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61753 - "OPTIONS /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 17:38:36.116 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61749 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 17:38:36.116 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61747 - "OPTIONS /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:38:36.116 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61754 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 17:38:36.136 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:38:36.139 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '2b2dfcf7-96f5-415a-893b-d3ca944d2220'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:38:36.142 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:38:36.146 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61752 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:38:36.154 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:38:36.155 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';

    
2023-12-15 17:38:36.155 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 17:38:36.156 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61752 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:38:36.158 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61751 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 17:38:36.159 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61753 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:38:36.164 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:38:36.164 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '2b2dfcf7-96f5-415a-893b-d3ca944d2220'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:38:36.165 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:38:36.166 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61749 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:38:36.170 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';

    
2023-12-15 17:38:36.170 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 17:38:36.170 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:38:36.171 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61751 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:38:36.172 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61752 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 17:38:36.172 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61753 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:38:48.972 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:38:48.973 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '2b2dfcf7-96f5-415a-893b-d3ca944d2220'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:38:48.973 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:38:48.977 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61821 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:38:48.982 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';

    
2023-12-15 17:38:48.982 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 17:38:48.987 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:38:48.987 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61820 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 17:38:48.993 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61822 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:38:48.994 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61828 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:38:49.013 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:38:49.015 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '2b2dfcf7-96f5-415a-893b-d3ca944d2220'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:38:49.018 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:38:49.020 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61822 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:38:49.023 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';

    
2023-12-15 17:38:49.024 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 17:38:49.025 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:38:49.026 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61828 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:38:49.026 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61821 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 17:38:49.027 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61820 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:41:41.355 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 17:41:41.457 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 17:41:41.457 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 17:41:41.457 | INFO     | uvicorn.server:serve:86 - Finished server process [45978]
2023-12-15 17:41:41.886 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 17:41:47.037 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 17:41:47.139 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 17:41:47.140 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 17:41:47.140 | INFO     | uvicorn.server:serve:86 - Finished server process [46173]
2023-12-15 17:41:47.580 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 17:41:50.945 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:41:50.946 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:41:50.950 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62567 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:41:50.952 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 17:41:50.957 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62566 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:42:04.188 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:42:04.189 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:42:04.196 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62628 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:42:04.201 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 17:42:04.205 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62627 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:44:47.174 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:44:47.188 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:44:47.196 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63304 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 17:44:47.209 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:44:47.218 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:44:47.239 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63306 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 17:44:47.242 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '2b2dfcf7-96f5-415a-893b-d3ca944d2220'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:44:47.243 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:44:47.244 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:44:47.252 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63308 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:44:47.253 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 17:44:47.259 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63309 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:44:47.261 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';

    
2023-12-15 17:44:47.262 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:44:47.264 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63306 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:44:47.265 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63304 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 17:44:47.267 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:44:47.269 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 17:44:47.270 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '2b2dfcf7-96f5-415a-893b-d3ca944d2220'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:44:47.270 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:44:47.271 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63308 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:44:47.272 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63304 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:44:47.272 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';

    
2023-12-15 17:44:47.274 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63309 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 17:44:47.276 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:44:47.277 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63308 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:44:48.680 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:44:48.681 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:44:48.684 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63309 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:44:48.686 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 17:44:48.689 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63308 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:44:59.932 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:44:59.933 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:44:59.937 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63370 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:44:59.938 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 17:44:59.943 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63369 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:46:19.142 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '2b2dfcf7-96f5-415a-893b-d3ca944d2220'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:46:19.174 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:46:19.186 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63693 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:46:19.191 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';

    
2023-12-15 17:46:19.207 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63692 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 17:46:25.717 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63727 - "OPTIONS /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 17:46:25.725 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '2b2dfcf7-96f5-415a-893b-d3ca944d2220'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:46:25.734 | INFO     | providers.psql_provider:execute:57 - DELETE FROM role_permission_rels WHERE role_permission_rels.role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';
2023-12-15 17:46:25.739 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE roles
    SET
        name = '支店管理者',
        type = '03'
    WHERE
        roles.id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';
    
2023-12-15 17:46:25.742 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE user_org_rels
    SET
        type = '03'
    WHERE
        user_org_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        user_org_rels.org_id = '2b2dfcf7-96f5-415a-893b-d3ca944d2220'

    
2023-12-15 17:46:25.746 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '4fbf1533-ff14-4d3f-b820-55f8f432366c',
            '8f63e587-b802-4cfd-8ead-d3423237b054'
        )
        
2023-12-15 17:46:25.748 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '4fbf1533-ff14-4d3f-b820-55f8f432366c',
            '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
        )
        
2023-12-15 17:46:25.750 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '4fbf1533-ff14-4d3f-b820-55f8f432366c',
            '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
        )
        
2023-12-15 17:46:25.752 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '4fbf1533-ff14-4d3f-b820-55f8f432366c',
            'dd96b563-2476-4904-a880-a2cffe1ea0ac'
        )
        
2023-12-15 17:46:25.756 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '4fbf1533-ff14-4d3f-b820-55f8f432366c',
            '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
        )
        
2023-12-15 17:46:25.758 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '4fbf1533-ff14-4d3f-b820-55f8f432366c',
            '58289de8-b6b7-4629-9016-58e5d30e89ee'
        )
        
2023-12-15 17:46:25.765 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '4fbf1533-ff14-4d3f-b820-55f8f432366c',
            '2065f63f-5e95-432e-9545-eed26715dc49'
        )
        
2023-12-15 17:46:25.767 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '4fbf1533-ff14-4d3f-b820-55f8f432366c',
            '55762da2-4d17-418e-b09f-e6249645ec18'
        )
        
2023-12-15 17:46:25.768 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '4fbf1533-ff14-4d3f-b820-55f8f432366c',
            'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7'
        )
        
2023-12-15 17:46:25.770 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '4fbf1533-ff14-4d3f-b820-55f8f432366c',
            'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
        )
        
2023-12-15 17:46:25.775 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '4fbf1533-ff14-4d3f-b820-55f8f432366c',
            'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
        )
        
2023-12-15 17:46:25.776 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63727 - "PUT /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 17:46:35.955 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '2b2dfcf7-96f5-415a-893b-d3ca944d2220'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:46:35.957 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:46:35.961 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63773 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:46:35.968 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';

    
2023-12-15 17:46:35.978 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63772 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 17:47:03.279 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:47:03.280 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:47:03.284 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63887 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:47:03.288 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 17:47:03.294 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63886 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:47:05.128 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:47:05.128 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:47:05.132 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63887 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:47:05.135 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 17:47:05.138 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63886 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:47:30.056 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:47:30.057 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:47:30.060 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64006 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:47:30.062 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 17:47:30.088 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64005 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:47:35.322 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64029 - "OPTIONS /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:47:35.334 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:47:35.352 | INFO     | providers.psql_provider:execute:57 - DELETE FROM role_permission_rels WHERE role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';
2023-12-15 17:47:35.354 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE roles
    SET
        name = '支店管理者',
        type = '03'
    WHERE
        roles.id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';
    
2023-12-15 17:47:35.356 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE user_org_rels
    SET
        type = '03'
    WHERE
        user_org_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        user_org_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'

    
2023-12-15 17:47:35.359 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
            '8f63e587-b802-4cfd-8ead-d3423237b054'
        )
        
2023-12-15 17:47:35.361 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
            '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
        )
        
2023-12-15 17:47:35.362 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
            '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
        )
        
2023-12-15 17:47:35.364 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
            '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
        )
        
2023-12-15 17:47:35.365 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
            'dd96b563-2476-4904-a880-a2cffe1ea0ac'
        )
        
2023-12-15 17:47:35.366 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
            '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
        )
        
2023-12-15 17:47:35.367 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
            '2ca11194-6079-41e8-8b26-275aa42848fa'
        )
        
2023-12-15 17:47:35.370 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
            '58289de8-b6b7-4629-9016-58e5d30e89ee'
        )
        
2023-12-15 17:47:35.374 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
            '55762da2-4d17-418e-b09f-e6249645ec18'
        )
        
2023-12-15 17:47:35.376 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
            'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7'
        )
        
2023-12-15 17:47:35.377 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
            'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
        )
        
2023-12-15 17:47:35.378 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
            'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
        )
        
2023-12-15 17:47:35.379 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64029 - "PUT /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:47:35.391 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:47:35.395 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:47:35.402 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64029 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 17:47:35.440 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:47:35.441 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:47:35.444 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64032 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:47:35.445 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 17:47:35.450 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64029 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:47:40.860 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:47:40.860 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:47:40.868 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 17:47:40.870 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64056 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:47:40.874 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64055 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:47:45.650 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:47:45.661 | INFO     | providers.psql_provider:execute:57 - DELETE FROM role_permission_rels WHERE role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';
2023-12-15 17:47:45.665 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE roles
    SET
        name = '支店管理者',
        type = '03'
    WHERE
        roles.id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';
    
2023-12-15 17:47:45.666 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE user_org_rels
    SET
        type = '03'
    WHERE
        user_org_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
        AND
        user_org_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'

    
2023-12-15 17:47:45.671 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
            '8f63e587-b802-4cfd-8ead-d3423237b054'
        )
        
2023-12-15 17:47:45.689 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
            '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
        )
        
2023-12-15 17:47:45.690 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
            '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
        )
        
2023-12-15 17:47:45.692 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
            '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
        )
        
2023-12-15 17:47:45.693 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
            'dd96b563-2476-4904-a880-a2cffe1ea0ac'
        )
        
2023-12-15 17:47:45.695 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
            '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
        )
        
2023-12-15 17:47:45.696 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
            '2ca11194-6079-41e8-8b26-275aa42848fa'
        )
        
2023-12-15 17:47:45.697 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
            '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
        )
        
2023-12-15 17:47:45.698 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
            '58289de8-b6b7-4629-9016-58e5d30e89ee'
        )
        
2023-12-15 17:47:45.698 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
            '55762da2-4d17-418e-b09f-e6249645ec18'
        )
        
2023-12-15 17:47:45.699 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
            '2065f63f-5e95-432e-9545-eed26715dc49'
        )
        
2023-12-15 17:47:45.701 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
            'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7'
        )
        
2023-12-15 17:47:45.703 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
            'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
        )
        
2023-12-15 17:47:45.704 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '85b4c1ef-8d98-4163-8633-5e27ab329b6a',
            'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
        )
        
2023-12-15 17:47:45.705 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64055 - "PUT /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:47:45.716 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:47:45.721 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:47:45.727 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64055 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 17:47:45.754 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:47:45.755 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:47:45.760 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64056 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:47:45.763 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 17:47:45.765 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64055 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:47:47.734 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:47:47.735 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:47:47.741 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64056 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:47:47.744 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 17:47:47.747 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64055 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:47:56.532 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:47:56.535 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:47:56.538 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64130 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:47:56.544 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 17:47:56.548 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64129 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:48:55.154 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64372 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 17:48:55.165 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:48:55.183 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:48:55.187 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64372 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:48:55.210 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 17:48:55.214 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64371 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:49:43.398 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:49:43.399 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:49:43.404 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64573 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:49:43.408 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 17:49:43.410 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64572 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:50:38.033 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64799 - "OPTIONS /user/basic/37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 17:50:38.045 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE users
    SET
        last_name = '山田1',
        first_name = '四郎',
        email = '004@demo.com'
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:50:38.048 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64799 - "PUT /user/basic/37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 17:50:38.051 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64799 - "OPTIONS /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 17:50:38.060 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:50:38.076 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:50:38.084 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64799 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 17:50:54.757 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE users
    SET
        last_name = '山田11',
        first_name = '四郎',
        email = '004@demo.com'
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:50:54.761 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64866 - "PUT /user/basic/37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 17:50:54.774 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:50:54.780 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:50:54.788 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64866 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 17:54:07.176 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:54:07.179 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:54:07.183 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49264 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 17:54:07.192 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:54:07.230 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '2b2dfcf7-96f5-415a-893b-d3ca944d2220'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:54:07.241 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:54:07.250 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:54:07.268 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:54:07.274 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49268 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:54:07.279 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';

    
2023-12-15 17:54:07.280 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49266 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 17:54:07.287 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 17:54:07.289 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49264 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 17:54:07.292 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:54:07.295 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49269 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:54:07.297 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49275 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:54:07.300 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '2b2dfcf7-96f5-415a-893b-d3ca944d2220'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:54:07.303 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';

    
2023-12-15 17:54:07.305 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:54:07.305 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 17:54:07.309 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 17:54:07.310 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49266 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 17:54:07.311 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49269 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:54:07.317 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49264 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 17:54:07.324 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 17:54:07.325 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49269 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 17:56:51.046 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 17:56:51.148 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 17:56:51.149 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 17:56:51.149 | INFO     | uvicorn.server:serve:86 - Finished server process [46180]
2023-12-15 17:57:17.463 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 17:57:32.636 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 17:57:32.739 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 17:57:32.740 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 17:57:32.740 | INFO     | uvicorn.server:serve:86 - Finished server process [46595]
2023-12-15 17:57:33.191 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 17:59:06.943 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 17:59:07.044 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 17:59:07.045 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 17:59:07.045 | INFO     | uvicorn.server:serve:86 - Finished server process [46606]
2023-12-15 17:59:07.459 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 17:59:27.296 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 17:59:27.397 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 17:59:27.398 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 17:59:27.398 | INFO     | uvicorn.server:serve:86 - Finished server process [46625]
2023-12-15 17:59:27.806 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 18:10:25.873 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 18:10:25.977 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 18:10:25.977 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 18:10:25.977 | INFO     | uvicorn.server:serve:86 - Finished server process [46638]
2023-12-15 18:10:26.456 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 18:11:55.614 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53596 - "OPTIONS /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 18:11:55.614 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53597 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 18:11:55.614 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53598 - "OPTIONS /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 18:11:55.614 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53599 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 18:11:55.615 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53600 - "OPTIONS /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 18:11:55.615 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53601 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 18:11:55.615 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53596 - "OPTIONS /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 18:11:55.617 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53597 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 18:11:55.624 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:11:55.625 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '2b2dfcf7-96f5-415a-893b-d3ca944d2220'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:11:55.626 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:11:55.629 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53599 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:11:55.636 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:11:55.637 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 18:11:55.637 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';

    
2023-12-15 18:11:55.663 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53597 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:11:55.666 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53598 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 18:11:55.667 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53601 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 18:11:55.674 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:11:55.674 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '2b2dfcf7-96f5-415a-893b-d3ca944d2220'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:11:55.675 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:11:55.676 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53599 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:11:55.681 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:11:55.681 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';

    
2023-12-15 18:11:55.682 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 18:11:55.682 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53601 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:11:55.683 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53596 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 18:11:55.684 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53597 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 18:12:22.691 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53726 - "OPTIONS /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 18:12:22.692 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53727 - "OPTIONS /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 18:12:22.701 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:12:22.709 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:12:22.713 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53726 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 18:12:22.738 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:12:22.753 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '2b2dfcf7-96f5-415a-893b-d3ca944d2220'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:12:22.766 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:12:22.767 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:12:22.768 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:12:22.771 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53730 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:12:22.784 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53727 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 18:12:22.786 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';

    
2023-12-15 18:12:22.787 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 18:12:22.788 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:12:22.791 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53726 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 18:12:22.792 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53731 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 18:12:22.802 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53736 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:12:22.811 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '2b2dfcf7-96f5-415a-893b-d3ca944d2220'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:12:22.812 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:12:22.814 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:12:22.818 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53726 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:12:22.821 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 18:12:22.821 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';

    
2023-12-15 18:12:22.822 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:12:22.823 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53731 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 18:12:22.824 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53727 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 18:12:22.827 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53736 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:12:42.348 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '2b2dfcf7-96f5-415a-893b-d3ca944d2220'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:12:42.350 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:12:42.351 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:12:42.354 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53834 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:12:42.360 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:12:42.363 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 18:12:42.365 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';

    
2023-12-15 18:12:42.366 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53839 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:12:42.366 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53835 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 18:12:42.369 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53833 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 18:12:42.375 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:12:42.376 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:12:42.377 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53834 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:12:42.378 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '2b2dfcf7-96f5-415a-893b-d3ca944d2220'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:12:42.381 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 18:12:42.382 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:12:42.382 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';

    
2023-12-15 18:12:42.383 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53833 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:12:42.383 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53839 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 18:12:42.384 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53835 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 18:13:05.777 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:13:05.785 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:13:05.793 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53843 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 18:13:05.803 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:13:05.847 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '2b2dfcf7-96f5-415a-893b-d3ca944d2220'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:13:05.851 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:13:05.853 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:13:05.853 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:13:05.863 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53954 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:13:05.869 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';

    
2023-12-15 18:13:05.872 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53952 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 18:13:05.876 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53843 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 18:13:05.877 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:13:05.877 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 18:13:05.880 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53961 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:13:05.882 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53955 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 18:13:05.883 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '2b2dfcf7-96f5-415a-893b-d3ca944d2220'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:13:05.886 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:13:05.887 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:13:05.888 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53843 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:13:05.890 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';

    
2023-12-15 18:13:05.892 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53952 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 18:13:05.893 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 18:13:05.893 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:13:05.895 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53955 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:13:05.895 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53961 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 18:14:19.521 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 18:14:19.623 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 18:14:19.625 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 18:14:19.625 | INFO     | uvicorn.server:serve:86 - Finished server process [46755]
2023-12-15 18:14:20.131 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 18:16:32.119 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 18:16:32.221 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 18:16:32.221 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 18:16:32.221 | INFO     | uvicorn.server:serve:86 - Finished server process [46897]
2023-12-15 18:16:32.641 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 18:17:08.567 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 18:17:08.669 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 18:17:08.669 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 18:17:08.669 | INFO     | uvicorn.server:serve:86 - Finished server process [46932]
2023-12-15 18:17:09.075 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 18:17:13.321 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 18:17:13.423 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 18:17:13.423 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 18:17:13.423 | INFO     | uvicorn.server:serve:86 - Finished server process [46947]
2023-12-15 18:17:13.857 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 18:18:11.625 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:18:11.630 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:18:11.636 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55207 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 18:18:11.646 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:18:11.651 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:18:11.656 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55209 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 18:18:11.670 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '2b2dfcf7-96f5-415a-893b-d3ca944d2220'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:18:11.670 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:18:11.674 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55207 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:18:11.676 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:18:11.700 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';

    
2023-12-15 18:18:11.716 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:18:11.717 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55209 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 18:18:11.725 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55215 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:18:11.731 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 18:18:11.735 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '2b2dfcf7-96f5-415a-893b-d3ca944d2220'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:18:11.735 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:18:11.737 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55211 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 18:18:11.741 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55209 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:18:11.749 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:18:11.750 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '4fbf1533-ff14-4d3f-b820-55f8f432366c';

    
2023-12-15 18:18:11.750 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:18:11.753 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55211 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:18:11.753 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55207 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=2b2dfcf7-96f5-415a-893b-d3ca944d2220 HTTP/1.1" 200
2023-12-15 18:18:11.754 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 18:18:11.755 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55215 - "GET /user/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 18:18:15.330 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55215 - "OPTIONS /user/roles/37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 18:18:15.342 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            id
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
            AND
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
        
2023-12-15 18:18:15.347 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:18:15.352 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';

    
2023-12-15 18:18:15.358 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_org_rels
        WHERE
            user_org_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
            AND
            user_org_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa';
        
2023-12-15 18:18:15.363 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_role_rels
        WHERE
            user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e'
            AND
            user_role_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';
        
2023-12-15 18:18:15.367 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM org_role_rels
        WHERE
            org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
            AND
            org_role_rels.role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';
        
2023-12-15 18:18:15.369 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a'
                AND
                permission_id = '8f63e587-b802-4cfd-8ead-d3423237b054';
            
2023-12-15 18:18:15.372 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a'
                AND
                permission_id = '0b25e905-64ae-42d2-98ed-2c8ebd845d66';
            
2023-12-15 18:18:15.373 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a'
                AND
                permission_id = '53dc2e89-791d-4b66-aa73-f51ea9cd4e26';
            
2023-12-15 18:18:15.374 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a'
                AND
                permission_id = '7f956b2a-65ce-463e-9ddb-6627f9b42ecf';
            
2023-12-15 18:18:15.379 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a'
                AND
                permission_id = 'dd96b563-2476-4904-a880-a2cffe1ea0ac';
            
2023-12-15 18:18:15.381 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a'
                AND
                permission_id = '0a3f364b-21e6-4c0d-bf6e-67729bf899a2';
            
2023-12-15 18:18:15.386 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a'
                AND
                permission_id = '2ca11194-6079-41e8-8b26-275aa42848fa';
            
2023-12-15 18:18:15.388 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a'
                AND
                permission_id = '55ba3199-c673-49d8-8001-9b5f3b2b33dc';
            
2023-12-15 18:18:15.389 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a'
                AND
                permission_id = '58289de8-b6b7-4629-9016-58e5d30e89ee';
            
2023-12-15 18:18:15.392 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a'
                AND
                permission_id = '2065f63f-5e95-432e-9545-eed26715dc49';
            
2023-12-15 18:18:15.394 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a'
                AND
                permission_id = '55762da2-4d17-418e-b09f-e6249645ec18';
            
2023-12-15 18:18:15.395 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a'
                AND
                permission_id = 'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7';
            
2023-12-15 18:18:15.401 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a'
                AND
                permission_id = 'bce2b4a4-0cad-4baa-96dd-671f2d942c7e';
            
2023-12-15 18:18:15.403 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a'
                AND
                permission_id = 'ee3ed4ae-43d9-4d37-92f9-a4950788d8be';
            
2023-12-15 18:18:15.406 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM roles WHERE id = '85b4c1ef-8d98-4163-8633-5e27ab329b6a';
        
2023-12-15 18:18:15.411 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55215 - "PUT /user/roles/37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 18:18:15.425 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:18:15.428 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '37c0b84f-d73b-4a2f-ace0-a750ef7e288e';
    
2023-12-15 18:18:15.449 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55215 - "GET /user/role/permissions?user_id=37c0b84f-d73b-4a2f-ace0-a750ef7e288e HTTP/1.1" 200
2023-12-15 18:20:40.236 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55838 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:20:40.237 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55839 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:20:40.243 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 18:20:40.246 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 18:20:40.248 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55839 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:20:40.254 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 18:20:40.259 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 18:20:40.262 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55838 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:20:42.803 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55838 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 18:20:42.804 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55839 - "OPTIONS /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:20:42.804 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55855 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 18:20:42.804 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55856 - "OPTIONS /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:20:42.817 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 18:20:42.818 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 18:20:42.823 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 18:20:42.827 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 18:20:42.828 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 18:20:42.832 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55855 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:20:42.833 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55856 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 18:20:42.836 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 18:20:42.838 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 18:20:42.843 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 18:20:42.844 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 18:20:42.845 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55855 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 18:20:42.846 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 18:20:42.848 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55839 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:20:42.851 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55839 - "OPTIONS /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 18:20:42.852 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55856 - "OPTIONS /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 18:20:42.863 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 18:20:42.864 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:20:42.866 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55855 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:20:42.868 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 18:20:42.869 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:20:42.870 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55839 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 18:20:42.871 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55856 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:20:42.874 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 18:20:42.876 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 18:20:42.876 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55855 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 18:20:50.171 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 18:20:50.173 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:20:50.177 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55897 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:20:50.180 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 18:20:50.185 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55896 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 18:20:59.318 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:20:59.319 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 18:20:59.329 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55937 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:20:59.331 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 18:20:59.334 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55936 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 18:21:33.758 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 18:21:33.762 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 18:21:33.764 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56085 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:21:33.772 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 18:21:33.778 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 18:21:33.781 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56087 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:22:00.814 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 18:22:00.815 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 18:22:00.818 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 18:22:00.820 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 18:22:00.828 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56199 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:22:00.829 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 18:22:00.833 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56198 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 18:22:00.836 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 18:22:00.839 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 18:22:00.840 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 18:22:00.843 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 18:22:00.845 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 18:22:00.847 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56207 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 18:22:00.847 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56208 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 18:22:00.847 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56198 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 18:22:00.849 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56203 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:22:00.851 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 18:22:00.852 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:22:00.854 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56208 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:22:00.857 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 18:22:00.858 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:22:00.859 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56199 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 18:22:00.860 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56203 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:22:00.863 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 18:22:00.864 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 18:22:00.865 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56208 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 18:22:01.802 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:22:01.806 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56208 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:22:01.816 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:22:01.822 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56203 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:26:39.794 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57356 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 18:26:39.795 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57357 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 18:26:39.802 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 18:26:39.806 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 18:26:39.808 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 18:26:39.810 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 18:26:39.811 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 18:26:39.813 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 18:26:39.815 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57357 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 18:26:39.821 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 18:26:39.825 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 18:26:39.828 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 18:26:39.830 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 18:26:39.832 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 18:26:39.834 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 18:26:39.835 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57356 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 18:26:43.739 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57356 - "OPTIONS /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 18:26:43.740 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57356 - "OPTIONS /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 18:26:43.750 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:26:43.752 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:26:43.757 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57356 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 18:26:43.763 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:26:43.764 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:26:43.767 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57357 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 18:26:43.769 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57357 - "OPTIONS /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 18:26:43.771 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57378 - "OPTIONS /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 18:26:43.778 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:26:43.778 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:26:43.783 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57356 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:26:43.784 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'dc90dce3-bb3d-4374-8a8f-8bfa7029c306';

    
2023-12-15 18:26:43.786 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57357 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 18:26:43.793 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:26:43.795 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:26:43.795 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57378 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:26:43.799 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'dc90dce3-bb3d-4374-8a8f-8bfa7029c306';

    
2023-12-15 18:26:43.800 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57356 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 18:26:46.817 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 18:26:46.823 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 18:26:46.831 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 18:26:46.836 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 18:26:46.839 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 18:26:46.841 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 18:26:46.844 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57356 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 18:26:46.854 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 18:26:46.858 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 18:26:46.864 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 18:26:46.875 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 18:26:46.877 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 18:26:46.879 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 18:26:46.885 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57378 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 18:27:03.465 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 18:27:03.468 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 18:27:03.471 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57462 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:27:03.479 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 18:27:03.481 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 18:27:03.484 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57464 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:27:06.718 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57462 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:27:06.718 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57483 - "OPTIONS /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:27:06.719 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57485 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:27:06.720 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57486 - "OPTIONS /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:27:06.727 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 18:27:06.729 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 18:27:06.730 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:27:06.733 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 18:27:06.734 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57484 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:27:06.740 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 18:27:06.740 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 18:27:06.746 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57483 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:27:06.746 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57464 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 18:27:06.747 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:27:06.748 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 18:27:06.751 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57486 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:27:06.752 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57462 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:27:06.753 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 18:27:06.754 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 18:27:06.755 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 18:27:06.756 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 18:27:06.757 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57483 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 18:27:06.758 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 18:27:06.759 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 18:27:06.759 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57486 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:27:06.760 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57484 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:27:26.870 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 18:27:26.875 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 18:27:26.884 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57579 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:27:26.896 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 18:27:26.899 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 18:27:26.903 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57581 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:27:28.912 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 18:27:28.915 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 18:27:28.918 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 18:27:28.921 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 18:27:28.924 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 18:27:28.925 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57579 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:27:28.930 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57581 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 18:27:28.936 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 18:27:28.936 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 18:27:28.938 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 18:27:28.944 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57579 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 18:27:28.945 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 18:27:28.946 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 18:27:28.947 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:27:28.949 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57599 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:27:28.949 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 18:27:28.951 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57581 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 18:27:28.954 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 18:27:28.954 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:27:28.955 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 18:27:28.956 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57579 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:27:28.956 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57595 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:27:28.957 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 18:27:28.958 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57599 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 18:27:29.921 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:27:29.925 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57599 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:27:29.942 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:27:29.946 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57595 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:35:38.324 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 18:35:38.326 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 18:35:38.330 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 18:35:38.332 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 18:35:38.333 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 18:35:38.334 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 18:35:38.336 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59590 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 18:35:38.342 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 18:35:38.344 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 18:35:38.346 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 18:35:38.348 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 18:35:38.349 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 18:35:38.350 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 18:35:38.352 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59592 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 18:35:40.784 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:35:40.786 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:35:40.791 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59592 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 18:35:40.798 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:35:40.800 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:35:40.803 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59590 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 18:35:40.808 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59592 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 18:35:40.808 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59604 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 18:35:40.815 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:35:40.828 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:35:40.836 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59604 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:35:40.843 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'dc90dce3-bb3d-4374-8a8f-8bfa7029c306';

    
2023-12-15 18:35:40.844 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:35:40.848 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59592 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:35:40.848 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59590 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 18:35:40.859 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:35:40.862 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'dc90dce3-bb3d-4374-8a8f-8bfa7029c306';

    
2023-12-15 18:35:40.865 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59604 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 18:37:35.151 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60088 - "OPTIONS /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 18:37:35.151 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60089 - "OPTIONS /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 18:37:35.213 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:37:35.215 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:37:35.221 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60089 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 18:37:35.231 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:37:35.242 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:37:35.250 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60088 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 18:37:36.969 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:37:36.972 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:37:36.985 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60088 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 18:37:36.992 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:37:36.997 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:37:37.002 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60089 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 18:38:21.538 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:38:21.539 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:38:21.550 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:38:21.550 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60293 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:38:21.556 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60294 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 18:38:21.569 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:38:21.570 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:38:21.581 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60297 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:38:21.582 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:38:21.584 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60297 - "OPTIONS /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 18:38:21.585 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60300 - "OPTIONS /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 18:38:21.586 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60293 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 18:38:21.591 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:38:21.592 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:38:21.595 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60294 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:38:21.596 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'dc90dce3-bb3d-4374-8a8f-8bfa7029c306';

    
2023-12-15 18:38:21.601 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60297 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 18:38:21.604 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:38:21.606 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60293 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:38:21.609 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:38:21.611 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'dc90dce3-bb3d-4374-8a8f-8bfa7029c306';

    
2023-12-15 18:38:21.613 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60297 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 18:41:37.162 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:41:37.163 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:41:37.169 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'dc90dce3-bb3d-4374-8a8f-8bfa7029c306';

    
2023-12-15 18:41:37.170 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61121 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:41:37.184 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61120 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 18:41:53.006 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:41:53.012 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:41:53.016 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61189 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:41:53.020 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'dc90dce3-bb3d-4374-8a8f-8bfa7029c306';

    
2023-12-15 18:41:53.023 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61188 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 18:43:07.344 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61509 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:43:07.352 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61512 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:43:07.368 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:43:07.372 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 18:43:07.376 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61510 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:43:07.382 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:43:07.391 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:43:07.409 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:43:07.410 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 18:43:07.411 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61511 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 18:43:07.415 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61512 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:43:07.418 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61509 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:43:07.423 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:43:07.427 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:43:07.428 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 18:43:07.430 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61510 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 18:43:07.430 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 18:43:07.431 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61511 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:43:07.445 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:43:07.446 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:43:07.448 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'dc90dce3-bb3d-4374-8a8f-8bfa7029c306';

    
2023-12-15 18:43:07.449 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61510 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:43:07.453 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61511 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 18:43:07.456 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:43:07.457 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:43:07.457 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61509 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:43:07.459 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'dc90dce3-bb3d-4374-8a8f-8bfa7029c306';

    
2023-12-15 18:43:07.460 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61510 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 18:48:58.019 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62967 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 18:48:58.020 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62968 - "OPTIONS /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 18:48:58.020 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62969 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 18:48:58.025 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62970 - "OPTIONS /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 18:48:58.038 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 18:48:58.039 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:48:58.069 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:48:58.088 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:48:58.102 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62968 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:48:58.104 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62967 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 18:48:58.104 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 18:48:58.109 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62966 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:48:58.109 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:48:58.113 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62970 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:48:58.114 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:48:58.115 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 18:48:58.117 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 18:48:58.118 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62968 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:48:58.119 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:48:58.121 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62967 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 18:48:58.139 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62967 - "OPTIONS /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 18:48:58.140 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62970 - "OPTIONS /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 18:48:58.144 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:48:58.144 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:48:58.145 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62968 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:48:58.145 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'dc90dce3-bb3d-4374-8a8f-8bfa7029c306';

    
2023-12-15 18:48:58.148 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62967 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 18:48:58.150 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:48:58.152 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:48:58.152 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62970 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:48:58.153 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'dc90dce3-bb3d-4374-8a8f-8bfa7029c306';

    
2023-12-15 18:48:58.154 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62968 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 18:52:30.259 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:52:30.265 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 18:52:30.276 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:52:30.277 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63865 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:52:30.305 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:52:30.306 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 18:52:30.307 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:52:30.308 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63870 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:52:30.313 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63866 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 18:52:30.314 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63864 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:52:30.323 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 18:52:30.324 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:52:30.325 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:52:30.330 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63870 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 18:52:30.332 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 18:52:30.335 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63865 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 18:52:30.341 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:52:30.342 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:52:30.344 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'dc90dce3-bb3d-4374-8a8f-8bfa7029c306';

    
2023-12-15 18:52:30.345 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63864 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:52:30.355 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63870 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 18:52:30.359 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 18:52:30.361 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63865 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 18:52:30.362 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 18:52:30.365 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'dc90dce3-bb3d-4374-8a8f-8bfa7029c306';

    
2023-12-15 18:52:30.366 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63864 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 18:55:21.227 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 18:55:21.329 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 18:55:21.329 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 18:55:21.329 | INFO     | uvicorn.server:serve:86 - Finished server process [46956]
2023-12-15 18:55:21.772 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 18:55:32.881 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 18:55:32.982 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 18:55:32.983 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 18:55:32.983 | INFO     | uvicorn.server:serve:86 - Finished server process [47738]
2023-12-15 18:55:33.424 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 18:55:39.290 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 18:55:39.392 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 18:55:39.392 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 18:55:39.393 | INFO     | uvicorn.server:serve:86 - Finished server process [47748]
2023-12-15 18:55:39.832 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 19:01:09.705 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49586 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:01:09.706 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49587 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 19:01:09.709 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49588 - "OPTIONS /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 19:01:09.711 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49589 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:01:09.717 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49590 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 19:01:09.718 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49591 - "OPTIONS /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 19:01:09.738 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:01:09.739 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:01:09.744 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:01:09.748 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49587 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:01:09.749 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:01:09.758 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 19:01:09.760 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49588 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 19:01:09.761 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:01:09.763 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49586 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:01:09.770 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49591 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:01:09.773 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:01:09.774 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:01:09.777 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:01:09.781 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49587 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 19:01:09.783 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 19:01:09.785 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49587 - "OPTIONS /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 19:01:09.788 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49586 - "OPTIONS /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 19:01:09.793 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49588 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:01:09.798 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:01:09.801 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:01:09.804 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49591 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:01:09.805 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'dc90dce3-bb3d-4374-8a8f-8bfa7029c306';

    
2023-12-15 19:01:09.811 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49587 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 19:01:09.819 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:01:09.821 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:01:09.822 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49588 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:01:09.823 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'dc90dce3-bb3d-4374-8a8f-8bfa7029c306';

    
2023-12-15 19:01:09.824 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49591 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 19:03:33.759 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 19:03:33.860 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 19:03:33.861 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 19:03:33.861 | INFO     | uvicorn.server:serve:86 - Finished server process [47755]
2023-12-15 19:03:34.325 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 19:05:56.452 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 19:05:56.554 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 19:05:56.555 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 19:05:56.555 | INFO     | uvicorn.server:serve:86 - Finished server process [47909]
2023-12-15 19:05:56.999 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 19:07:16.804 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 19:07:16.906 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 19:07:16.907 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 19:07:16.907 | INFO     | uvicorn.server:serve:86 - Finished server process [47948]
2023-12-15 19:07:17.324 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 19:07:29.258 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 19:07:29.360 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 19:07:29.361 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 19:07:29.361 | INFO     | uvicorn.server:serve:86 - Finished server process [47969]
2023-12-15 19:07:29.770 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 19:07:35.435 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 19:07:35.536 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 19:07:35.537 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 19:07:35.537 | INFO     | uvicorn.server:serve:86 - Finished server process [47978]
2023-12-15 19:07:35.987 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 19:12:14.096 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52309 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:12:14.098 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52310 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 19:12:14.098 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52311 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:12:14.104 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52312 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 19:12:14.147 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:12:14.148 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:12:14.151 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 19:12:14.152 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52310 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:12:14.159 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52309 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:12:14.165 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:12:14.171 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52312 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:12:14.173 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:12:14.177 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 19:12:14.181 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52310 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:12:25.313 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:12:25.314 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:12:25.317 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 19:12:25.318 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52366 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:12:25.330 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52365 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:12:25.334 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:12:25.340 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52369 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:12:25.342 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:12:25.346 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 19:12:25.350 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52366 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:12:32.808 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52400 - "OPTIONS /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 19:12:32.811 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52400 - "POST /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 422
2023-12-15 19:13:15.006 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:13:15.007 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:13:15.009 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52576 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:13:15.010 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 19:13:15.016 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52575 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:13:15.027 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:13:15.030 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:13:15.031 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52579 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:13:15.035 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 19:13:15.037 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52576 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:13:22.116 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52610 - "OPTIONS / HTTP/1.1" 200
2023-12-15 19:13:22.118 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52610 - "POST / HTTP/1.1" 405
2023-12-15 19:14:01.531 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 19:14:01.632 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 19:14:01.633 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 19:14:01.633 | INFO     | uvicorn.server:serve:86 - Finished server process [47986]
2023-12-15 19:14:02.133 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 19:14:07.094 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 19:14:07.195 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 19:14:07.196 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 19:14:07.196 | INFO     | uvicorn.server:serve:86 - Finished server process [48104]
2023-12-15 19:14:07.604 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 19:14:12.851 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:14:12.855 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:14:12.860 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52823 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 19:14:12.870 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:14:12.875 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:14:12.882 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52823 - "OPTIONS /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 19:14:12.891 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52828 - "OPTIONS /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 19:14:12.900 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52825 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 19:14:12.901 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:14:12.903 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:14:12.910 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52827 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:14:12.911 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'dc90dce3-bb3d-4374-8a8f-8bfa7029c306';

    
2023-12-15 19:14:12.912 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52823 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 19:14:12.917 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:14:12.918 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:14:12.919 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52825 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:14:12.920 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'dc90dce3-bb3d-4374-8a8f-8bfa7029c306';

    
2023-12-15 19:14:12.921 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52827 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 19:14:13.873 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:14:13.873 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:14:13.875 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 19:14:13.876 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52825 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:14:13.893 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52827 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:14:13.896 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:14:13.904 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52823 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:14:13.913 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:14:13.919 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 19:14:13.922 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52825 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:14:21.392 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52869 - "POST / HTTP/1.1" 405
2023-12-15 19:14:57.881 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53020 - "OPTIONS /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 19:14:57.919 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO roles (type, name)
    VALUES (
        '26',
        '営業担当者'
    )
    RETURNING id;
    
2023-12-15 19:14:57.925 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_org_rels (user_id, org_id, type)
    VALUES (
        '4df1a42a-dbb8-4bce-9be0-29cca28767ab',
        '1b45760d-6e58-4a83-a687-2910498b76fa',
        '26'
    )
    
2023-12-15 19:14:57.931 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_role_rels (user_id, role_id)
    VALUES (
        '4df1a42a-dbb8-4bce-9be0-29cca28767ab',
        '59c0f5ec-3f79-4f29-89fe-f71d6daa921e'
    )
    
2023-12-15 19:14:57.934 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO org_role_rels (org_id, role_id)
    VALUES (
        '1b45760d-6e58-4a83-a687-2910498b76fa',
        '59c0f5ec-3f79-4f29-89fe-f71d6daa921e'
    )
    
2023-12-15 19:14:57.937 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '59c0f5ec-3f79-4f29-89fe-f71d6daa921e',
            '8f63e587-b802-4cfd-8ead-d3423237b054'
        )
        
2023-12-15 19:14:57.939 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '59c0f5ec-3f79-4f29-89fe-f71d6daa921e',
            '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
        )
        
2023-12-15 19:14:57.944 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '59c0f5ec-3f79-4f29-89fe-f71d6daa921e',
            '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
        )
        
2023-12-15 19:14:57.945 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '59c0f5ec-3f79-4f29-89fe-f71d6daa921e',
            '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
        )
        
2023-12-15 19:14:57.946 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '59c0f5ec-3f79-4f29-89fe-f71d6daa921e',
            'dd96b563-2476-4904-a880-a2cffe1ea0ac'
        )
        
2023-12-15 19:14:57.949 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53020 - "POST /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 19:14:57.961 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:14:57.965 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:14:57.978 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53020 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 19:14:58.005 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53020 - "OPTIONS /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 19:14:58.010 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53028 - "OPTIONS /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 19:14:58.021 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:14:58.022 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:14:58.033 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53027 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:14:58.036 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '59c0f5ec-3f79-4f29-89fe-f71d6daa921e';

    
2023-12-15 19:14:58.043 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53020 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 19:14:58.047 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:14:58.050 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53028 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:14:58.054 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:14:58.058 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '59c0f5ec-3f79-4f29-89fe-f71d6daa921e';

    
2023-12-15 19:14:58.060 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53027 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 19:15:05.488 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53062 - "OPTIONS /user/roles/4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 19:15:05.508 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            id
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
            AND
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 19:15:05.517 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:15:05.521 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '59c0f5ec-3f79-4f29-89fe-f71d6daa921e';

    
2023-12-15 19:15:05.529 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_org_rels
        WHERE
            user_org_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab'
            AND
            user_org_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa';
        
2023-12-15 19:15:05.537 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_role_rels
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab'
            AND
            user_role_rels.role_id = '59c0f5ec-3f79-4f29-89fe-f71d6daa921e';
        
2023-12-15 19:15:05.546 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM org_role_rels
        WHERE
            org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
            AND
            org_role_rels.role_id = '59c0f5ec-3f79-4f29-89fe-f71d6daa921e';
        
2023-12-15 19:15:05.565 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '59c0f5ec-3f79-4f29-89fe-f71d6daa921e'
                AND
                permission_id = '8f63e587-b802-4cfd-8ead-d3423237b054';
            
2023-12-15 19:15:05.566 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '59c0f5ec-3f79-4f29-89fe-f71d6daa921e'
                AND
                permission_id = '0b25e905-64ae-42d2-98ed-2c8ebd845d66';
            
2023-12-15 19:15:05.569 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '59c0f5ec-3f79-4f29-89fe-f71d6daa921e'
                AND
                permission_id = '53dc2e89-791d-4b66-aa73-f51ea9cd4e26';
            
2023-12-15 19:15:05.574 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '59c0f5ec-3f79-4f29-89fe-f71d6daa921e'
                AND
                permission_id = '7f956b2a-65ce-463e-9ddb-6627f9b42ecf';
            
2023-12-15 19:15:05.576 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '59c0f5ec-3f79-4f29-89fe-f71d6daa921e'
                AND
                permission_id = 'dd96b563-2476-4904-a880-a2cffe1ea0ac';
            
2023-12-15 19:15:05.577 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM roles WHERE id = '59c0f5ec-3f79-4f29-89fe-f71d6daa921e';
        
2023-12-15 19:15:05.580 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53062 - "PUT /user/roles/4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 19:15:05.592 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:15:05.597 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:15:05.606 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53062 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 19:15:07.109 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:15:07.109 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:15:07.114 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53073 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:15:07.132 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:15:07.133 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 19:15:07.139 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53076 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:15:07.142 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53062 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:15:07.151 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:15:07.154 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 19:15:07.157 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53076 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:15:19.397 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO roles (type, name)
    VALUES (
        '26',
        '営業担当者'
    )
    RETURNING id;
    
2023-12-15 19:15:19.402 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_org_rels (user_id, org_id, type)
    VALUES (
        '4df1a42a-dbb8-4bce-9be0-29cca28767ab',
        '1b45760d-6e58-4a83-a687-2910498b76fa',
        '26'
    )
    
2023-12-15 19:15:19.407 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_role_rels (user_id, role_id)
    VALUES (
        '4df1a42a-dbb8-4bce-9be0-29cca28767ab',
        '172ad19a-fa4c-4902-87c1-116ef496f3ca'
    )
    
2023-12-15 19:15:19.411 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO org_role_rels (org_id, role_id)
    VALUES (
        '1b45760d-6e58-4a83-a687-2910498b76fa',
        '172ad19a-fa4c-4902-87c1-116ef496f3ca'
    )
    
2023-12-15 19:15:19.414 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '172ad19a-fa4c-4902-87c1-116ef496f3ca',
            '8f63e587-b802-4cfd-8ead-d3423237b054'
        )
        
2023-12-15 19:15:19.416 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '172ad19a-fa4c-4902-87c1-116ef496f3ca',
            '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
        )
        
2023-12-15 19:15:19.419 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '172ad19a-fa4c-4902-87c1-116ef496f3ca',
            '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
        )
        
2023-12-15 19:15:19.421 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '172ad19a-fa4c-4902-87c1-116ef496f3ca',
            '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
        )
        
2023-12-15 19:15:19.426 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '172ad19a-fa4c-4902-87c1-116ef496f3ca',
            'dd96b563-2476-4904-a880-a2cffe1ea0ac'
        )
        
2023-12-15 19:15:19.429 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53128 - "POST /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 19:15:19.441 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:15:19.453 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:15:19.466 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53128 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 19:15:19.509 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:15:19.512 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:15:19.516 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53131 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:15:19.532 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:15:19.532 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '172ad19a-fa4c-4902-87c1-116ef496f3ca';

    
2023-12-15 19:15:19.534 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53134 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:15:19.534 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53128 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 19:15:19.540 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:15:19.542 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '172ad19a-fa4c-4902-87c1-116ef496f3ca';

    
2023-12-15 19:15:19.544 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53134 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 19:15:24.960 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53159 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 19:15:24.961 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53160 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 19:15:24.968 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 19:15:24.971 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 19:15:24.973 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 19:15:24.975 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 19:15:24.976 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 19:15:24.978 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 19:15:24.980 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53160 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 19:15:24.987 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 19:15:24.989 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 19:15:24.991 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 19:15:24.993 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 19:15:24.995 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 19:15:24.996 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 19:15:24.997 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53159 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 19:15:35.391 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53208 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:15:35.391 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53209 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:15:35.398 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:15:35.401 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 19:15:35.403 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53208 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:15:35.410 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:15:35.413 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 19:15:35.415 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53209 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:15:38.814 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 19:15:38.817 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 19:15:38.825 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 19:15:38.829 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 19:15:38.831 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 19:15:38.834 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 19:15:38.839 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53209 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 19:15:38.850 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 19:15:38.853 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 19:15:38.858 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 19:15:38.861 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 19:15:38.867 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 19:15:38.871 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 19:15:38.873 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53208 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 19:16:36.261 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:16:36.264 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 19:16:36.266 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53458 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:16:36.272 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:16:36.274 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 19:16:36.276 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53458 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:16:42.448 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53460 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 19:16:42.449 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53489 - "OPTIONS /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:16:42.449 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53490 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 19:16:42.449 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53491 - "OPTIONS /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:16:42.457 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 19:16:42.461 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 19:16:42.465 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:16:42.468 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 19:16:42.472 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 19:16:42.472 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53490 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:16:42.476 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53491 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 19:16:42.478 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 19:16:42.481 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:16:42.482 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 19:16:42.489 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 19:16:42.490 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 19:16:42.491 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53490 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 19:16:42.492 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53489 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:16:42.493 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53491 - "OPTIONS /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 19:16:42.494 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53460 - "OPTIONS /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 19:16:42.498 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:16:42.498 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 19:16:42.499 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53490 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:16:42.503 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 19:16:42.503 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:16:42.505 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53460 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:16:42.505 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53491 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 19:16:42.508 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 19:16:42.510 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 19:16:42.511 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53491 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 19:18:58.586 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:18:58.593 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 19:18:58.597 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54076 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:18:58.608 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:18:58.612 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 19:18:58.618 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54076 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:20:05.811 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:20:05.814 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 19:20:05.817 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54355 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:20:05.827 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:20:05.829 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 19:20:05.831 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54355 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:20:46.944 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54539 - "OPTIONS /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:20:46.945 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54541 - "OPTIONS /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:20:46.980 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:20:46.981 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:20:46.985 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 19:20:46.989 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54541 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:20:46.992 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:20:46.993 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 19:20:46.995 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54540 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:20:46.995 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:20:46.997 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54357 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:20:47.001 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:20:47.001 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:20:47.001 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 19:20:47.003 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54541 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:20:47.004 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54539 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:20:47.006 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 19:20:47.008 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54540 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:21:24.064 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:21:24.067 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 19:21:24.070 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54709 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:21:24.075 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:21:24.078 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 19:21:24.080 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54711 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:21:27.805 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 19:21:27.805 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 19:21:27.808 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:21:27.810 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 19:21:27.812 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54709 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:21:27.813 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 19:21:27.818 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54711 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 19:21:27.821 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        users.id,
        users.last_name,
        users.first_name,
        users.email,
        user_org_rels.org_id,
        user_org_rels.type
    FROM
        users
    JOIN
        user_org_rels
        ON
        user_org_rels.user_id = users.id
    WHERE
        users.is_super = false
        AND
        user_org_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type NOT LIKE '0%';
    
2023-12-15 19:21:27.823 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:21:27.824 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.org_id != '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 19:21:27.826 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 19:21:27.826 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54709 - "GET /layouts/org/users?org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c&role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:21:27.828 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 19:21:27.832 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54729 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 19:21:27.837 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 19:21:27.837 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:21:27.839 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54711 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:21:27.845 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 19:21:27.846 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:21:27.847 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54729 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:21:27.848 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54709 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 19:21:27.854 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-15 19:21:27.857 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '81b56795-d809-4aba-95d0-f21f380803e7';

    
2023-12-15 19:21:27.858 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54729 - "GET /user/permissions?user_id=7cfe8233-7b67-4f0b-a40d-259ef4ecb25a&org_id=1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 19:21:35.213 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:21:35.216 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 19:21:35.219 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54770 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:21:35.234 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:21:35.238 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 19:21:35.246 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54772 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:21:38.528 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 19:21:38.532 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:21:38.534 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:21:38.534 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:21:38.537 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54789 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:21:38.541 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 19:21:38.541 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 19:21:38.544 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:21:38.546 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54772 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 19:21:38.547 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 19:21:38.548 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54770 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:21:38.548 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54796 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:21:38.551 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54788 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:21:38.551 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 19:21:38.552 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:21:38.553 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 19:21:38.555 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:21:38.555 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54772 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:21:38.557 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 19:21:38.557 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 19:21:38.559 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54796 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:21:38.559 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54789 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 19:21:44.042 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:21:44.046 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 19:21:44.050 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54824 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:21:44.058 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:21:44.064 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 19:21:44.069 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54830 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:22:02.547 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 19:22:02.551 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:22:02.558 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:22:02.561 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:22:02.566 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54847 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:22:02.567 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 19:22:02.567 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 19:22:02.569 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 19:22:02.570 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54845 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:22:02.573 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:22:02.574 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54844 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 19:22:02.575 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54846 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:22:02.578 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:22:02.583 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54855 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:22:02.589 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 19:22:02.590 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:22:02.591 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 19:22:02.593 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 19:22:02.598 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54845 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:22:02.599 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54847 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:22:02.600 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-15 19:22:02.604 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54858 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-15 19:22:10.833 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:22:10.839 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 19:22:10.844 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54863 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:22:10.855 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:22:10.860 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 19:22:10.865 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54865 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:22:13.109 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 19:22:13.111 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 19:22:13.113 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 19:22:13.115 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 19:22:13.118 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 19:22:13.119 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 19:22:13.122 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54865 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 19:22:13.128 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 19:22:13.130 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 19:22:13.132 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 19:22:13.134 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 19:22:13.135 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 19:22:13.137 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 19:22:13.138 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54863 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 19:23:07.903 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54883 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:23:07.903 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54884 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 19:23:07.903 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54885 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:23:07.904 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54886 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 19:23:07.910 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:23:07.911 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:23:07.914 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54884 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:23:07.915 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 19:23:07.920 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54883 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:23:07.926 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:23:07.928 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54885 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:23:07.930 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:23:07.932 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 19:23:07.933 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54884 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:23:10.542 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 19:23:10.544 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 19:23:10.546 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 19:23:10.548 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 19:23:10.549 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 19:23:10.550 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 19:23:10.551 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54884 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 19:23:10.557 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 19:23:10.560 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 19:23:10.562 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 19:23:10.565 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 19:23:10.566 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 19:23:10.567 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 19:23:10.569 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54885 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 19:23:12.663 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:23:12.665 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:23:12.668 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54885 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 19:23:12.674 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:23:12.677 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:23:12.681 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54884 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 19:23:12.691 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:23:12.691 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:23:12.692 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:23:12.694 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54885 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:23:12.703 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:23:12.704 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '172ad19a-fa4c-4902-87c1-116ef496f3ca';

    
2023-12-15 19:23:12.706 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54886 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:23:12.708 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'dc90dce3-bb3d-4374-8a8f-8bfa7029c306';

    
2023-12-15 19:23:12.708 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54884 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 19:23:12.712 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54883 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 19:23:12.714 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:23:12.715 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:23:12.717 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54885 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:23:12.717 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 19:23:12.721 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '172ad19a-fa4c-4902-87c1-116ef496f3ca';

    
2023-12-15 19:23:12.721 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 19:23:12.722 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'dc90dce3-bb3d-4374-8a8f-8bfa7029c306';

    
2023-12-15 19:23:12.722 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54883 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 19:23:12.723 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54886 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 19:23:12.725 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54884 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 19:23:22.448 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:23:22.452 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 19:23:22.458 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54909 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:23:22.464 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:23:22.467 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 19:23:22.471 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54911 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:23:44.022 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 19:23:44.025 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 19:23:44.027 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 19:23:44.030 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 19:23:44.031 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 19:23:44.034 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 19:23:44.035 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54915 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 19:23:44.042 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 19:23:44.045 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 19:23:44.047 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 19:23:44.049 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 19:23:44.050 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 19:23:44.052 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 19:23:44.053 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54917 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 19:25:08.339 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:25:08.342 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 19:25:08.347 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54934 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:25:08.353 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:25:08.355 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 19:25:08.357 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54936 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:25:13.811 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:25:13.816 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 19:25:13.822 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54947 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 19:25:13.833 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 19:25:13.839 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 19:25:13.844 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54949 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 20:10:24.001 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55033 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 20:10:24.002 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55034 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 20:10:24.008 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 20:10:24.010 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 20:10:24.014 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 20:10:24.021 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 20:10:24.024 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 20:10:24.026 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 20:10:24.029 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55033 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 20:10:24.035 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 20:10:24.039 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 20:10:24.041 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 20:10:24.043 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 20:10:24.044 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 20:10:24.045 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 20:10:24.047 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55034 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 20:10:27.301 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55034 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 20:10:27.301 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55033 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 20:10:27.311 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 20:10:27.315 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 20:10:27.317 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55033 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 20:10:27.323 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 20:10:27.327 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 20:10:27.332 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55033 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 20:10:32.453 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 20:10:32.457 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 20:10:32.462 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55047 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 20:10:32.477 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 20:10:32.480 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 20:10:32.492 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55049 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 20:18:07.943 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 20:18:07.947 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 20:18:07.951 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55072 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 20:18:07.961 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 20:18:07.965 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 20:18:07.968 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55072 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 20:28:34.812 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 20:28:34.914 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 20:28:34.914 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 20:28:34.915 | INFO     | uvicorn.server:serve:86 - Finished server process [48110]
2023-12-15 20:28:35.463 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 20:30:51.449 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 20:30:51.551 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 20:30:51.552 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 20:30:51.552 | INFO     | uvicorn.server:serve:86 - Finished server process [49405]
2023-12-15 20:30:52.033 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 20:31:15.524 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 20:31:15.626 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 20:31:15.626 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 20:31:15.627 | INFO     | uvicorn.server:serve:86 - Finished server process [49461]
2023-12-15 20:31:16.047 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 20:31:48.448 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 20:31:48.550 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 20:31:48.551 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 20:31:48.551 | INFO     | uvicorn.server:serve:86 - Finished server process [49474]
2023-12-15 20:31:48.974 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 20:32:00.715 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 20:32:00.817 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 20:32:00.817 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 20:32:00.817 | INFO     | uvicorn.server:serve:86 - Finished server process [49488]
2023-12-15 20:32:01.279 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 20:33:31.767 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 20:33:31.868 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 20:33:31.868 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 20:33:31.869 | INFO     | uvicorn.server:serve:86 - Finished server process [49498]
2023-12-15 20:33:32.273 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 20:34:05.368 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 20:34:05.469 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 20:34:05.470 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 20:34:05.471 | INFO     | uvicorn.server:serve:86 - Finished server process [49523]
2023-12-15 20:34:05.881 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 20:34:13.170 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 20:34:13.272 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 20:34:13.272 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 20:34:13.273 | INFO     | uvicorn.server:serve:86 - Finished server process [49537]
2023-12-15 20:34:13.687 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 20:34:18.243 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 20:34:18.344 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 20:34:18.348 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 20:34:18.348 | INFO     | uvicorn.server:serve:86 - Finished server process [49546]
2023-12-15 20:34:18.771 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 20:39:19.253 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55171 - "OPTIONS /banks HTTP/1.1" 200
2023-12-15 20:39:19.253 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55172 - "OPTIONS /banks HTTP/1.1" 200
2023-12-15 20:39:19.255 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55172 - "GET /banks HTTP/1.1" 404
2023-12-15 20:39:19.255 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55171 - "GET /banks HTTP/1.1" 404
2023-12-15 20:40:31.818 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55185 - "GET /banks HTTP/1.1" 404
2023-12-15 20:40:31.820 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55186 - "GET /banks HTTP/1.1" 404
2023-12-15 20:41:04.987 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 20:41:05.088 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 20:41:05.089 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 20:41:05.089 | INFO     | uvicorn.server:serve:86 - Finished server process [49553]
2023-12-15 20:41:05.518 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 20:41:17.752 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 20:41:17.853 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 20:41:17.854 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 20:41:17.855 | INFO     | uvicorn.server:serve:86 - Finished server process [49660]
2023-12-15 20:43:35.222 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 20:43:39.267 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-15 20:43:39.271 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55356 - "GET /banks HTTP/1.1" 200
2023-12-15 20:43:39.283 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-15 20:43:39.286 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55356 - "GET /banks HTTP/1.1" 200
2023-12-15 21:02:37.115 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59933 - "OPTIONS /banks HTTP/1.1" 200
2023-12-15 21:02:37.116 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59934 - "OPTIONS /banks HTTP/1.1" 200
2023-12-15 21:02:37.121 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-15 21:02:37.124 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59933 - "GET /banks HTTP/1.1" 200
2023-12-15 21:02:37.132 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-15 21:02:37.136 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59934 - "GET /banks HTTP/1.1" 200
2023-12-15 21:10:54.866 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61981 - "OPTIONS /org/2e90d523-7406-43c4-9929-ec193617dcfd HTTP/1.1" 200
2023-12-15 21:10:54.867 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61982 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 21:10:54.869 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61981 - "OPTIONS /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 21:10:54.869 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61983 - "OPTIONS /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 21:10:54.870 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61984 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 21:10:54.870 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61982 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-15 21:10:54.871 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61985 - "OPTIONS /org/2e90d523-7406-43c4-9929-ec193617dcfd HTTP/1.1" 200
2023-12-15 21:10:54.876 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61986 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 21:10:54.888 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '2e90d523-7406-43c4-9929-ec193617dcfd'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 21:10:54.891 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 21:10:54.894 | ERROR    | app.endpoints.orgs:get_org:57 - 'NoneType' object is not subscriptableTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104cd19d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104a4f430>
           └ <SpawnProcess name='SpawnProcess-1' parent=49717 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104a43a60>
    └ <SpawnProcess name='SpawnProcess-1' parent=49717 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104ce2a30>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=49717 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=49717 started>
    │    └ <function subprocess_started at 0x1071a10d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=49717 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104ce2b50>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x107189670>
           │       │   └ <uvicorn.server.Server object at 0x104ce2b50>
           │       └ <function run at 0x104d0e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10716e9c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1071dd310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107483bb0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107483b...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1072beb20>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1071dd310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107483bb0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107483b...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107483bb0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107483b...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107407d90>
          └ <fastapi.applications.FastAPI object at 0x1072beb20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1072c1550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107483b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1074073d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107407d90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1072c1550>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107483b...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10690baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1074073d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1074073d0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107483b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107407640>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1074073d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1072c1160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107483b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1074075b0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107407640>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1072c1160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107483b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1072bec40>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1074075b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1072c1160>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107483b...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106862af0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1072c1160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107483b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1072c1040>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x107483a30>
                     └ <function get_request_handler.<locals>.app at 0x1072c10d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10684f790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1071b1160>, 'org_id': '2e90d523-7406-43c4-9929-ec193617dcfd'}
                 │         └ <function get_org at 0x10700ee50>
                 └ <fastapi.dependencies.models.Dependant object at 0x1072c70a0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ '2e90d523-7406-43c4-9929-ec193617dcfd'
                │         │         └ <providers.psql_provider.DB object at 0x1071b1160>
                │         └ <function query_org at 0x107014d30>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 174, in query_org
    roles.type = '{org_basic["type"]}'

TypeError: 'NoneType' object is not subscriptable

2023-12-15 21:10:54.917 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61983 - "GET /org/2e90d523-7406-43c4-9929-ec193617dcfd HTTP/1.1" 500
2023-12-15 21:10:54.917 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 21:10:54.917 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 21:10:54.920 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61985 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 21:10:54.925 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 21:10:54.925 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '2e90d523-7406-43c4-9929-ec193617dcfd'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 21:10:54.926 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 21:10:54.928 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 21:10:54.930 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61981 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 21:10:54.930 | ERROR    | app.endpoints.orgs:get_org:57 - 'NoneType' object is not subscriptableTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104cd19d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104a4f430>
           └ <SpawnProcess name='SpawnProcess-1' parent=49717 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104a43a60>
    └ <SpawnProcess name='SpawnProcess-1' parent=49717 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104ce2a30>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=49717 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=49717 started>
    │    └ <function subprocess_started at 0x1071a10d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=49717 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104ce2b50>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x107189670>
           │       │   └ <uvicorn.server.Server object at 0x104ce2b50>
           │       └ <function run at 0x104d0e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10716e9c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1071dd310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074871c0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074871...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1072beb20>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1071dd310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074871c0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074871...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074871c0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074871...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107407d90>
          └ <fastapi.applications.FastAPI object at 0x1072beb20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1072d6e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074871...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1074073d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107407d90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1072d6e50>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074871...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10690baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1074073d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1074073d0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074871...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107407640>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1074073d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1072d69d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074871...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1074075b0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107407640>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1072d69d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074871...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1072bec40>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1074075b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1072d69d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074871...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106862af0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1072d69d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1074871...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1072c1040>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1074831c0>
                     └ <function get_request_handler.<locals>.app at 0x1072c10d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10684f790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1071b1160>, 'org_id': '2e90d523-7406-43c4-9929-ec193617dcfd'}
                 │         └ <function get_org at 0x10700ee50>
                 └ <fastapi.dependencies.models.Dependant object at 0x1072c70a0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ '2e90d523-7406-43c4-9929-ec193617dcfd'
                │         │         └ <providers.psql_provider.DB object at 0x1071b1160>
                │         └ <function query_org at 0x107014d30>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 174, in query_org
    roles.type = '{org_basic["type"]}'

TypeError: 'NoneType' object is not subscriptable

2023-12-15 21:10:54.935 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61986 - "GET /org/2e90d523-7406-43c4-9929-ec193617dcfd HTTP/1.1" 500
2023-12-15 21:10:54.936 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61983 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 21:10:54.937 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61984 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 21:10:54.940 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 21:10:54.942 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 21:10:54.944 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 21:10:54.946 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61984 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 21:10:54.947 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 21:10:54.950 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61985 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 21:10:58.160 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-15 21:10:58.167 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61985 - "GET /banks HTTP/1.1" 200
2023-12-15 21:10:58.178 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-15 21:10:58.182 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61984 - "GET /banks HTTP/1.1" 200
2023-12-15 21:13:15.024 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62603 - "OPTIONS /banks HTTP/1.1" 200
2023-12-15 21:13:15.024 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62604 - "OPTIONS /banks HTTP/1.1" 200
2023-12-15 21:13:15.031 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-15 21:13:15.033 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62604 - "GET /banks HTTP/1.1" 200
2023-12-15 21:13:15.046 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-15 21:13:15.057 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62603 - "GET /banks HTTP/1.1" 200
2023-12-15 21:15:01.962 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-15 21:15:01.971 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63063 - "GET /banks HTTP/1.1" 200
2023-12-15 21:15:01.996 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-15 21:15:02.005 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63065 - "GET /banks HTTP/1.1" 200
2023-12-15 21:15:23.038 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63151 - "OPTIONS /bank HTTP/1.1" 200
2023-12-15 21:15:23.060 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO banks
    (type, name)
    VALUES
    ('化学', '三井住友信託銀行株式会社（ＡＰ）');
    
2023-12-15 21:15:23.067 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63151 - "POST /bank HTTP/1.1" 200
2023-12-15 21:15:45.166 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-15 21:15:45.170 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63245 - "GET /banks HTTP/1.1" 200
2023-12-15 21:15:45.187 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-15 21:15:45.191 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63245 - "GET /banks HTTP/1.1" 200
2023-12-15 21:17:01.564 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO banks
    (type, name)
    VALUES
    ('化学', '日本生命');
    
2023-12-15 21:17:01.567 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63564 - "POST /bank HTTP/1.1" 200
2023-12-15 21:17:01.577 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-15 21:17:01.580 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63564 - "GET /banks HTTP/1.1" 200
2023-12-15 21:18:12.234 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63855 - "OPTIONS /org/6eb67f69-33ab-4f1e-ac86-96aaf53f6330 HTTP/1.1" 200
2023-12-15 21:18:12.237 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63855 - "OPTIONS /org/6eb67f69-33ab-4f1e-ac86-96aaf53f6330 HTTP/1.1" 200
2023-12-15 21:18:12.243 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 21:18:12.243 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 21:18:12.248 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 21:18:12.250 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '6eb67f69-33ab-4f1e-ac86-96aaf53f6330'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 21:18:12.252 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63858 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 21:18:12.257 | ERROR    | app.endpoints.orgs:get_org:57 - 'NoneType' object is not subscriptableTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104cd19d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104a4f430>
           └ <SpawnProcess name='SpawnProcess-1' parent=49717 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104a43a60>
    └ <SpawnProcess name='SpawnProcess-1' parent=49717 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104ce2a30>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=49717 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=49717 started>
    │    └ <function subprocess_started at 0x1071a10d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=49717 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104ce2b50>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x107189670>
           │       │   └ <uvicorn.server.Server object at 0x104ce2b50>
           │       └ <function run at 0x104d0e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10716e9c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1071dd310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075db9d0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075db9...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1072beb20>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1071dd310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075db9d0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075db9...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075db9d0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075db9...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107407d90>
          └ <fastapi.applications.FastAPI object at 0x1072beb20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1072c8b80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075db9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1074073d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107407d90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1072c8b80>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075db9...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10690baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1074073d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1074073d0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075db9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107407640>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1074073d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1072c1af0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075db9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1074075b0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107407640>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1072c1af0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075db9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1072bec40>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1074075b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1072c1af0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075db9...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106862af0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1072c1af0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075db9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1072c1040>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x107404670>
                     └ <function get_request_handler.<locals>.app at 0x1072c10d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10684f790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1071b1160>, 'org_id': '6eb67f69-33ab-4f1e-ac86-96aaf53f6330'}
                 │         └ <function get_org at 0x10700ee50>
                 └ <fastapi.dependencies.models.Dependant object at 0x1072c70a0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ '6eb67f69-33ab-4f1e-ac86-96aaf53f6330'
                │         │         └ <providers.psql_provider.DB object at 0x1071b1160>
                │         └ <function query_org at 0x107014d30>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 174, in query_org
    roles.type = '{org_basic["type"]}'

TypeError: 'NoneType' object is not subscriptable

2023-12-15 21:18:12.262 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63859 - "GET /org/6eb67f69-33ab-4f1e-ac86-96aaf53f6330 HTTP/1.1" 500
2023-12-15 21:18:12.275 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 21:18:12.275 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 21:18:12.275 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 21:18:12.278 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63855 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 21:18:12.279 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '6eb67f69-33ab-4f1e-ac86-96aaf53f6330'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-15 21:18:12.279 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63856 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 21:18:12.280 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63857 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 21:18:12.282 | ERROR    | app.endpoints.orgs:get_org:57 - 'NoneType' object is not subscriptableTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104cd19d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104a4f430>
           └ <SpawnProcess name='SpawnProcess-1' parent=49717 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104a43a60>
    └ <SpawnProcess name='SpawnProcess-1' parent=49717 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104ce2a30>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=49717 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=49717 started>
    │    └ <function subprocess_started at 0x1071a10d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=49717 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104ce2b50>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x107189670>
           │       │   └ <uvicorn.server.Server object at 0x104ce2b50>
           │       └ <function run at 0x104d0e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10716e9c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1071dd310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107404dc0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107404d...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1072beb20>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1071dd310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107404dc0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107404d...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107404dc0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107404d...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107407d90>
          └ <fastapi.applications.FastAPI object at 0x1072beb20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1072d6ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107404d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1074073d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107407d90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1072d6ee0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107404d...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10690baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1074073d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1074073d0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107404d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107407640>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1074073d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1072c1af0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107404d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1074075b0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107407640>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1072c1af0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107404d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1072bec40>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1074075b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1072c1af0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107404d...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106862af0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1072c1af0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107404d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1072c1040>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x107421370>
                     └ <function get_request_handler.<locals>.app at 0x1072c10d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10684f790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1071b1160>, 'org_id': '6eb67f69-33ab-4f1e-ac86-96aaf53f6330'}
                 │         └ <function get_org at 0x10700ee50>
                 └ <fastapi.dependencies.models.Dependant object at 0x1072c70a0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ '6eb67f69-33ab-4f1e-ac86-96aaf53f6330'
                │         │         └ <providers.psql_provider.DB object at 0x1071b1160>
                │         └ <function query_org at 0x107014d30>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 174, in query_org
    roles.type = '{org_basic["type"]}'

TypeError: 'NoneType' object is not subscriptable

2023-12-15 21:18:12.288 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63858 - "GET /org/6eb67f69-33ab-4f1e-ac86-96aaf53f6330 HTTP/1.1" 500
2023-12-15 21:18:12.290 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 21:18:12.290 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 21:18:12.293 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 21:18:12.294 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63856 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 21:18:12.297 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT DISTINCT
        users.id,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-15 21:18:12.299 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63857 - "GET /layouts/users?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 21:18:14.252 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-15 21:18:14.258 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63857 - "GET /banks HTTP/1.1" 200
2023-12-15 21:18:14.266 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-15 21:18:14.277 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63856 - "GET /banks HTTP/1.1" 200
2023-12-15 21:20:36.261 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64462 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 21:20:36.261 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64463 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 21:20:36.267 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 21:20:36.270 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 21:20:36.273 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 21:20:36.277 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 21:20:36.279 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 21:20:36.280 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 21:20:36.282 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64462 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 21:20:36.289 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 21:20:36.292 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 21:20:36.294 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 21:20:36.296 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 21:20:36.298 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 21:20:36.300 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 21:20:36.301 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64463 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 21:20:38.735 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64463 - "OPTIONS /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 21:20:38.736 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64462 - "OPTIONS /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 21:20:38.746 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 21:20:38.748 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 21:20:38.755 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64462 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 21:20:38.763 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 21:20:38.765 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 21:20:38.769 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64463 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-15 21:20:38.775 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64463 - "OPTIONS /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 21:20:38.776 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64476 - "OPTIONS /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 21:20:38.777 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64463 - "OPTIONS /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 21:20:38.777 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64477 - "OPTIONS /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 21:20:38.786 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 21:20:38.786 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 21:20:38.789 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 21:20:38.791 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64462 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 21:20:38.799 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '172ad19a-fa4c-4902-87c1-116ef496f3ca';

    
2023-12-15 21:20:38.800 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 21:20:38.800 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'dc90dce3-bb3d-4374-8a8f-8bfa7029c306';

    
2023-12-15 21:20:38.801 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64477 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 21:20:38.801 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64476 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 21:20:38.801 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64478 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 21:20:38.805 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 21:20:38.806 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 21:20:38.806 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-15 21:20:38.807 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64462 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 21:20:38.807 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'dc90dce3-bb3d-4374-8a8f-8bfa7029c306';

    
2023-12-15 21:20:38.809 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64463 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-15 21:20:38.810 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '172ad19a-fa4c-4902-87c1-116ef496f3ca';

    
2023-12-15 21:20:38.811 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 21:20:38.814 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64476 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 21:20:38.814 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64477 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-15 21:20:43.902 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 21:20:43.902 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 21:20:43.915 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64511 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 21:20:43.916 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 21:20:43.921 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64510 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 21:20:43.929 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-15 21:20:43.935 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64514 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-15 21:20:43.937 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 21:20:43.959 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-15 21:20:43.962 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64511 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 21:41:56.063 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53306 - "OPTIONS /banks HTTP/1.1" 200
2023-12-15 21:41:56.064 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53307 - "OPTIONS /banks HTTP/1.1" 200
2023-12-15 21:41:56.071 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-15 21:41:56.073 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53306 - "GET /banks HTTP/1.1" 200
2023-12-15 21:41:56.078 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-15 21:41:56.080 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53307 - "GET /banks HTTP/1.1" 200
2023-12-15 21:43:17.573 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53644 - "OPTIONS /bank HTTP/1.1" 200
2023-12-15 21:43:17.589 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE
        banks
    SET
        type = '化学',
        name = '三井住友信託銀行株式会社（ＡＰ）1'
    WHERE
        banks.id = a2fd4d5f-3e5b-4e9e-b68e-54dee766579f;
    
2023-12-15 21:43:17.591 | ERROR    | app.endpoints.banks:new_bank:82 - trailing junk after numeric literal at or near "3e5b"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104cd19d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104a4f430>
           └ <SpawnProcess name='SpawnProcess-1' parent=49717 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104a43a60>
    └ <SpawnProcess name='SpawnProcess-1' parent=49717 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104ce2a30>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=49717 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=49717 started>
    │    └ <function subprocess_started at 0x1071a10d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=49717 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104ce2b50>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x107189670>
           │       │   └ <uvicorn.server.Server object at 0x104ce2b50>
           │       └ <function run at 0x104d0e820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10716e9c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1071dd310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10748f730>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10748f7...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1072beb20>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1071dd310>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10748f730>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10748f7...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10748f730>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10748f7...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107407d90>
          └ <fastapi.applications.FastAPI object at 0x1072beb20>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1072b6c10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10748f7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1074073d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107407d90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'content-length': '120', 'accept': 'application/json, text/plain...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1072b6c10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10748f7...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10690baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1074073d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1074073d0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10748f7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107407640>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1074073d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1072dd700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10748f7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1074075b0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107407640>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1072dd700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10748f7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1072bec40>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1074075b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1072dd700>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10748f7...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106862af0>
          └ APIRoute(path='/bank', name='new_bank', methods=['PUT'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1072dd700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10748f7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1072c18b0>
          └ APIRoute(path='/bank', name='new_bank', methods=['PUT'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1073fac40>
                     └ <function get_request_handler.<locals>.app at 0x1072c15e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10684f790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1071b1160>, 'bank': {'id': 'a2fd4d5f-3e5b-4e9e-b68e-54dee766579f', 'name': '三井...
                 │         └ <function new_bank at 0x107044dc0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1074048b0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/banks.py", line 76, in new_bank
    await banks_crud.update_bank(db, bank_kill)
          │          │           │   └ {'id': 'a2fd4d5f-3e5b-4e9e-b68e-54dee766579f', 'name': '三井住友信託銀行株式会社（ＡＰ）1', 'type': '化学'}
          │          │           └ <providers.psql_provider.DB object at 0x1071b1160>
          │          └ <function update_bank at 0x10700ef70>
          └ <module 'app.crud.banks_crud' from '/Users/ryu/loan-ledger-if/app/crud/banks_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/banks_crud.py", line 54, in update_bank
    await db.execute(sql)
          │  │       └ "\n    UPDATE\n        banks\n    SET\n        type = '化学',\n        name = '三井住友信託銀行株式会社（ＡＰ）1'\n    WHERE\n        banks.id ...
          │  └ <function DB.execute at 0x106d12ee0>
          └ <providers.psql_provider.DB object at 0x1071b1160>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 58, in execute
    await con.execute(query)
          │   │       └ "\n    UPDATE\n        banks\n    SET\n        type = '化学',\n        name = '三井住友信託銀行株式会社（ＡＰ）1'\n    WHERE\n        banks.id ...
          │   └ <function Connection.execute at 0x106a62f70>
          └ <PoolConnectionProxy [released] 0x10748f880>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
                   │    │               │      └ None
                   │    │               └ "\n    UPDATE\n        banks\n    SET\n        type = '化学',\n        name = '三井住友信託銀行株式会社（ＡＰ）1'\n    WHERE\n        banks.id ...
                   │    └ <member '_protocol' of 'Connection' objects>
                   └ <asyncpg.connection.Connection object at 0x1072a0b80>
  File "asyncpg/protocol/protocol.pyx", line 374, in query
    return await waiter

asyncpg.exceptions.PostgresSyntaxError: trailing junk after numeric literal at or near "3e5b"

2023-12-15 21:43:17.613 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53644 - "PUT /bank HTTP/1.1" 500
2023-12-15 21:44:43.114 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-15 21:44:43.215 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-15 21:44:43.216 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-15 21:44:43.216 | INFO     | uvicorn.server:serve:86 - Finished server process [49719]
2023-12-15 21:44:43.651 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-15 21:44:46.507 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE
        banks
    SET
        type = '化学',
        name = '三井住友信託銀行株式会社（ＡＰ）1'
    WHERE
        banks.id = 'a2fd4d5f-3e5b-4e9e-b68e-54dee766579f';
    
2023-12-15 21:44:46.513 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54004 - "PUT /bank HTTP/1.1" 200
2023-12-15 21:44:46.526 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-15 21:44:46.532 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54004 - "GET /banks HTTP/1.1" 200
2023-12-15 21:44:53.535 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE
        banks
    SET
        type = '化学',
        name = '三井住友信託銀行株式会社（ＡＰ）3'
    WHERE
        banks.id = 'a2fd4d5f-3e5b-4e9e-b68e-54dee766579f';
    
2023-12-15 21:44:53.540 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54035 - "PUT /bank HTTP/1.1" 200
2023-12-15 21:44:53.555 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-15 21:44:53.560 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54035 - "GET /banks HTTP/1.1" 200
2023-12-15 21:45:24.704 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE
        banks
    SET
        type = '化学',
        name = '埼玉りそな銀行'
    WHERE
        banks.id = 'a2fd4d5f-3e5b-4e9e-b68e-54dee766579f';
    
2023-12-15 21:45:24.709 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54162 - "PUT /bank HTTP/1.1" 200
2023-12-15 21:45:24.717 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-15 21:45:24.720 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54162 - "GET /banks HTTP/1.1" 200
2023-12-15 22:59:32.533 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54488 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 22:59:32.534 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54489 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 22:59:32.541 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 22:59:32.544 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 22:59:32.548 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 22:59:32.549 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 22:59:32.551 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 22:59:32.552 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 22:59:32.555 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54489 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 22:59:32.563 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-15 22:59:32.566 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-15 22:59:32.568 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-15 22:59:32.571 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-15 22:59:32.572 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-15 22:59:32.573 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-15 22:59:32.574 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54488 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-15 22:59:36.761 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54488 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 22:59:36.764 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54489 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 22:59:36.769 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 22:59:36.772 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 22:59:36.774 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54488 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 22:59:36.780 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 22:59:36.786 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 22:59:36.789 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54489 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 23:00:05.731 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 23:00:05.733 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 23:00:05.739 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54500 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 23:00:05.746 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 23:00:05.748 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 23:00:05.751 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54502 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 23:00:08.319 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 23:00:08.321 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 23:00:08.324 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54502 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 23:00:08.329 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 23:00:08.331 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 23:00:08.334 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54500 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 23:02:20.227 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 23:02:20.235 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 23:02:20.243 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54537 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 23:02:20.248 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 23:02:20.254 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 23:02:20.259 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54539 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 23:07:35.161 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 23:07:35.165 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 23:07:35.170 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54598 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 23:07:35.182 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 23:07:35.186 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 23:07:35.189 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54600 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 23:13:09.004 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54646 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 23:13:09.007 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54647 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 23:13:09.017 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 23:13:09.024 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 23:13:09.031 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54646 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-15 23:13:09.043 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-15 23:13:09.046 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-15 23:13:09.050 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54647 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 12:06:41.321 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56128 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 12:06:41.329 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56129 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 12:06:41.341 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 12:06:41.347 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 12:06:41.355 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56128 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 12:06:41.364 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 12:06:41.369 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 12:06:41.373 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56129 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 12:07:27.155 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 12:07:27.161 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 12:07:27.167 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56143 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 12:07:27.178 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 12:07:27.181 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 12:07:27.187 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56145 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 12:08:13.992 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 12:08:13.996 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 12:08:14.000 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56163 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 12:08:14.014 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 12:08:14.016 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 12:08:14.018 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56165 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 12:08:50.416 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 12:08:50.426 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 12:08:50.431 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56173 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 12:08:50.447 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 12:08:50.450 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 12:08:50.454 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56175 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 13:15:23.605 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56498 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 13:15:23.606 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56499 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 13:15:23.614 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 13:15:23.620 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 13:15:23.624 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56499 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 13:15:23.635 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 13:15:23.638 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 13:15:23.646 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56498 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 13:17:34.059 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56534 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-16 13:17:34.060 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56535 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-16 13:17:34.068 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-16 13:17:34.072 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-16 13:17:34.079 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-16 13:17:34.081 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-16 13:17:34.083 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-16 13:17:34.084 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-16 13:17:34.085 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56535 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-16 13:17:34.091 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-16 13:17:34.093 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-16 13:17:34.096 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-16 13:17:34.098 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-16 13:17:34.099 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-16 13:17:34.100 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-16 13:17:34.102 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56534 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-16 13:17:36.047 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56534 - "OPTIONS /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-16 13:17:36.047 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56535 - "OPTIONS /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-16 13:17:36.056 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-16 13:17:36.058 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-16 13:17:36.063 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56535 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-16 13:17:36.070 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        last_name,
        first_name,
        email
    FROM
        users
    WHERE
        users.id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-16 13:17:36.072 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT DISTINCT
        roles.id as role_id,
        roles.type as role_type,
        orgs.id as org_id,
        orgs.name as org_name
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        orgs
        ON
        orgs.id = org_role_rels.org_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-16 13:17:36.074 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56534 - "GET /user/role/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab HTTP/1.1" 200
2023-12-16 13:17:36.087 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56534 - "OPTIONS /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-16 13:17:36.087 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56535 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-16 13:17:36.088 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56540 - "OPTIONS /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-16 13:17:36.088 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56541 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-16 13:17:36.088 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56542 - "OPTIONS /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-16 13:17:36.088 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56543 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-16 13:17:36.089 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56534 - "OPTIONS /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-16 13:17:36.089 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56535 - "OPTIONS /layouts/permissions HTTP/1.1" 200
2023-12-16 13:17:36.098 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-16 13:17:36.103 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-16 13:17:36.104 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-16 13:17:36.106 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56542 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-16 13:17:36.113 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-16 13:17:36.115 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '172ad19a-fa4c-4902-87c1-116ef496f3ca';

    
2023-12-16 13:17:36.117 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'dc90dce3-bb3d-4374-8a8f-8bfa7029c306';

    
2023-12-16 13:17:36.118 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56540 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-16 13:17:36.118 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56535 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-16 13:17:36.120 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56543 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-16 13:17:36.125 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-16 13:17:36.125 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '94ef5080-bc13-4d6b-ba39-44e8839aad8a'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-16 13:17:36.125 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        type
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b45760d-6e58-4a83-a687-2910498b76fa'
        AND
        user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
    
2023-12-16 13:17:36.126 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56540 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-16 13:17:36.131 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = 'dc90dce3-bb3d-4374-8a8f-8bfa7029c306';

    
2023-12-16 13:17:36.131 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-16 13:17:36.132 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    WHERE
        role_permission_rels.role_id = '172ad19a-fa4c-4902-87c1-116ef496f3ca';

    
2023-12-16 13:17:36.133 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56543 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-16 13:17:36.133 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56535 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=94ef5080-bc13-4d6b-ba39-44e8839aad8a HTTP/1.1" 200
2023-12-16 13:17:36.134 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56542 - "GET /user/permissions?user_id=4df1a42a-dbb8-4bce-9be0-29cca28767ab&org_id=1b45760d-6e58-4a83-a687-2910498b76fa HTTP/1.1" 200
2023-12-16 13:17:37.529 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-16 13:17:37.532 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-16 13:17:37.538 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-16 13:17:37.543 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-16 13:17:37.546 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-16 13:17:37.548 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-16 13:17:37.552 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56542 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-16 13:17:37.564 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-16 13:17:37.568 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-16 13:17:37.571 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-16 13:17:37.576 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-16 13:17:37.584 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-16 13:17:37.587 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-16 13:17:37.592 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56535 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-16 13:17:40.517 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56535 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 13:17:40.518 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56543 - "OPTIONS /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 13:17:40.525 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-16 13:17:40.525 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 13:17:40.527 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56542 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-16 13:17:40.527 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-16 13:17:40.530 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56535 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 13:17:40.533 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-16 13:17:40.535 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 13:17:40.535 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56543 - "GET /layouts/permissions HTTP/1.1" 200
2023-12-16 13:17:40.537 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.name
    FROM
        parents;

    
2023-12-16 13:17:40.538 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56542 - "GET /layouts/orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 13:17:41.069 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-16 13:17:41.072 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-16 13:17:41.079 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-16 13:17:41.082 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-16 13:17:41.084 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-16 13:17:41.089 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-16 13:17:41.091 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56542 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-16 13:17:41.098 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-16 13:17:41.100 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-16 13:17:41.103 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-16 13:17:41.106 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-16 13:17:41.108 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-16 13:17:41.110 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-16 13:17:41.113 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56543 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-16 13:17:42.677 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56543 - "OPTIONS /banks HTTP/1.1" 200
2023-12-16 13:17:42.678 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56542 - "OPTIONS /banks HTTP/1.1" 200
2023-12-16 13:17:42.684 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-16 13:17:42.687 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56542 - "GET /banks HTTP/1.1" 200
2023-12-16 13:17:42.693 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-16 13:17:42.696 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56543 - "GET /banks HTTP/1.1" 200
2023-12-16 13:18:18.548 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 13:18:18.552 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 13:18:18.554 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56568 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 13:18:18.563 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 13:18:18.566 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 13:18:18.572 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56570 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 13:19:14.548 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 13:19:14.554 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 13:19:14.564 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56792 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 13:19:14.579 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 13:19:14.583 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 13:19:14.590 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56794 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 13:20:16.348 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 13:20:16.357 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 13:20:16.360 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57053 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 13:20:16.373 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 13:20:16.376 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 13:20:16.384 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57055 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 13:21:20.542 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 13:21:20.545 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 13:21:20.547 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57324 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 13:21:20.557 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 13:21:20.560 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 13:21:20.564 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57326 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 13:21:20.605 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 13:21:20.608 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 13:21:20.610 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57326 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 13:21:20.616 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 13:21:20.620 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 13:21:20.624 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57324 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 15:24:24.029 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55138 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 15:24:24.030 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55139 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 15:24:24.038 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 15:24:24.045 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 15:24:24.054 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55138 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 15:24:24.081 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 15:24:24.111 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 15:24:24.144 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55139 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 15:28:28.816 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 15:28:28.818 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 15:28:28.820 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56152 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 15:28:28.827 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 15:28:28.829 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 15:28:28.831 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56154 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 15:28:56.756 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 15:28:56.759 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 15:28:56.761 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56271 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 15:28:56.767 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 15:28:56.769 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 15:28:56.771 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56273 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 15:37:48.450 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58482 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 15:37:48.451 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58483 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 15:37:48.473 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 15:37:48.477 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 15:37:48.481 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58482 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 15:37:48.489 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 15:37:48.493 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 15:37:48.503 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58483 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 15:53:30.375 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62322 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 15:53:30.376 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62323 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 15:53:30.384 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 15:53:30.387 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 15:53:30.392 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62323 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 15:53:30.397 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 15:53:30.399 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 15:53:30.402 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62322 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 17:07:35.212 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64153 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 17:07:35.214 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64154 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 17:07:35.223 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 17:07:35.225 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 17:07:35.228 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64153 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 17:07:35.233 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 17:07:35.235 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 17:07:35.237 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64154 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 18:44:54.170 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55264 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 18:44:54.171 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55265 - "OPTIONS /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 18:44:54.176 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 18:44:54.182 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 18:44:54.185 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55264 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 18:44:54.194 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 18:44:54.198 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 18:44:54.201 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55265 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 18:52:25.368 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56994 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-16 18:52:25.368 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56995 - "OPTIONS /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-16 18:52:25.376 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-16 18:52:25.379 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-16 18:52:25.383 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-16 18:52:25.387 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-16 18:52:25.388 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-16 18:52:25.390 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-16 18:52:25.391 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56994 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-16 18:52:25.397 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-16 18:52:25.399 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-16 18:52:25.402 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-16 18:52:25.404 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-16 18:52:25.406 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-16 18:52:25.407 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-16 18:52:25.408 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56995 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-16 18:52:32.963 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 18:52:32.965 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 18:52:32.968 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56998 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 18:52:32.974 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 18:52:32.979 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 18:52:32.982 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57000 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 18:52:35.171 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57000 - "OPTIONS /banks HTTP/1.1" 200
2023-12-16 18:52:35.171 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56998 - "OPTIONS /banks HTTP/1.1" 200
2023-12-16 18:52:35.177 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-16 18:52:35.179 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56998 - "GET /banks HTTP/1.1" 200
2023-12-16 18:52:35.186 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        type,
        name
    FROM
        banks
    
2023-12-16 18:52:35.187 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57000 - "GET /banks HTTP/1.1" 200
2023-12-16 18:52:36.042 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 18:52:36.045 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 18:52:36.050 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57000 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 18:52:36.060 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 18:52:36.064 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 18:52:36.072 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56998 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 18:52:37.044 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-16 18:52:37.047 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-16 18:52:37.056 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-16 18:52:37.060 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-16 18:52:37.064 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-16 18:52:37.070 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-16 18:52:37.076 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56998 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-16 18:52:37.121 | INFO     | providers.psql_provider:fetch_value:48 - 
        SELECT
            orgs.id
        FROM
            orgs
        JOIN
            org_role_rels
            ON
            org_role_rels.org_id = orgs.id
        WHERE
            org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
        
2023-12-16 18:52:37.155 | INFO     | providers.psql_provider:fetch_all:39 - 
        WITH RECURSIVE parents AS (
        SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        union
        SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
        )
        SELECT DISTINCT
            users.id,
            users.last_name,
            users.first_name,
            users.email
        FROM
            parents
        JOIN
            user_org_rels
            ON
            user_org_rels.org_id = parents.id
        JOIN
            users
            ON
            users.id = user_org_rels.user_id
        WHERE
            users.id != '02804013-a550-4ee6-822c-c00a0f7d4985';
        
2023-12-16 18:52:37.169 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '4df1a42a-dbb8-4bce-9be0-29cca28767ab';
        
2023-12-16 18:52:37.174 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
        
2023-12-16 18:52:37.176 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'a2884f9c-39b3-42f8-81f0-35cce07241d6';
        
2023-12-16 18:52:37.178 | INFO     | providers.psql_provider:fetch_all:39 - 
        SELECT DISTINCT
            roles.id as role_id,
            roles.type as role_type,
            orgs.name as org_name
        FROM
            roles
        JOIN
            org_role_rels
            ON
            org_role_rels.role_id = roles.id
        JOIN
            orgs
            ON
            orgs.id = org_role_rels.org_id
        JOIN
            user_role_rels
            ON
            user_role_rels.role_id = roles.id
        WHERE
            user_role_rels.user_id = 'd4c6d1e5-4bdd-405f-a62f-7513e01a2269';
        
2023-12-16 18:52:37.186 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57000 - "GET /users?user_id=02804013-a550-4ee6-822c-c00a0f7d4985&role_id=26393cbc-6912-4f00-8369-1d01e64440ec&is_super=false HTTP/1.1" 200
2023-12-16 18:52:41.594 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 18:52:41.598 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 18:52:41.602 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57000 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 18:52:41.609 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        orgs.id
    FROM
        orgs
    JOIN
        org_role_rels
        ON
        org_role_rels.org_id = orgs.id
    WHERE
        org_role_rels.role_id = '26393cbc-6912-4f00-8369-1d01e64440ec';
    
2023-12-16 18:52:41.612 | INFO     | providers.psql_provider:fetch_all:39 - 
    WITH RECURSIVE parents AS (
     SELECT id, p_id, name, type FROM orgs WHERE id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
     union
     SELECT child.id, child.p_id, child.name, child.type FROM orgs as child INNER JOIN parents ON parents.id = child.p_id
    )
    SELECT
        parents.id,
        parents.p_id,
        parents.name,
        parents.type,
        users.last_name,
        users.first_name
    FROM
        parents
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = parents.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id
    WHERE
        user_org_rels.type LIKE '0%';

    
2023-12-16 18:52:41.616 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56998 - "GET /orgs?role_id=26393cbc-6912-4f00-8369-1d01e64440ec HTTP/1.1" 200
2023-12-16 18:53:37.238 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-16 18:53:37.339 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-16 18:53:37.340 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-16 18:53:37.340 | INFO     | uvicorn.server:serve:86 - Finished server process [50576]
