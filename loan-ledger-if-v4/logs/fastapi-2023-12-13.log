2023-12-13 10:13:16.558 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 10:13:50.151 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 10:13:50.253 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 10:13:50.254 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 10:13:50.254 | INFO     | uvicorn.server:serve:86 - Finished server process [92251]
2023-12-13 10:13:50.676 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 10:15:36.409 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61075 - "OPTIONS /token HTTP/1.1" 200
2023-12-13 10:15:36.420 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password
    FROM
        users
    WHERE
        users.email = 'admin@demo.com';
    
2023-12-13 10:15:36.426 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_supper
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:15:36.431 | ERROR    | app.endpoints.auth:auth_for_token:36 - column "is_supper" does not exist
HINT:  Perhaps you meant to reference the column "users.is_super".Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x10079d9d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10051b430>
           └ <SpawnProcess name='SpawnProcess-2' parent=92249 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10050fa60>
    └ <SpawnProcess name='SpawnProcess-2' parent=92249 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1007ab040>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=92249 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=92249 started>
    │    └ <function subprocess_started at 0x103113670>
    └ <SpawnProcess name='SpawnProcess-2' parent=92249 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1007ab190>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x103109c10>
           │       │   └ <uvicorn.server.Server object at 0x1007ab190>
           │       └ <function run at 0x1007db820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1030c1e40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10315efa0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10324c8b0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10324c8...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10323b7f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10315efa0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10324c8b0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10324c8...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10324c8b0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10324c8...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10324c490>
          └ <fastapi.applications.FastAPI object at 0x10323b7f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10323a4c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10324c8...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10324c430>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10324c490>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'content-length': '48', 'accept': 'application/json, text/plain,...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10323a4c0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10324c8...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x1027f7af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10324c430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10324c430>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10324c8...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10324c400>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10324c430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10323a700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10324c8...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10324c3a0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10324c400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10323a700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10324c8...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10323b910>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10324c3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10323a700>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10324c8...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10274eaf0>
          └ APIRoute(path='/token', name='auth_for_token', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10323a700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10324c8...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10323a820>
          └ APIRoute(path='/token', name='auth_for_token', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10323b190>
                     └ <function get_request_handler.<locals>.app at 0x10323a790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10273b790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x103124c70>, 'auth_user': {'email': 'admin@demo.com', 'password': '12345678'}}
                 │         └ <function auth_for_token at 0x102feca60>
                 └ <fastapi.dependencies.models.Dependant object at 0x10323bca0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/auth.py", line 29, in auth_for_token
    payload = await auth_crud.query_token_payload(db, db_user["id"])
                    │         │                   │   └ {'id': 'd6c9c874-dce6-41f3-b818-b2b812aaec8b', 'email': 'admin@demo.com', 'password': '12345678'}
                    │         │                   └ <providers.psql_provider.DB object at 0x103124c70>
                    │         └ <function query_token_payload at 0x102d089d0>
                    └ <module 'app.crud.auth_crud' from '/Users/ryu/loan-ledger-if/app/crud/auth_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/auth_crud.py", line 33, in query_token_payload
    user_info = await db.fetch_one(sql)
                      │  │         └ "\n    SELECT\n        id,\n        email,\n        last_name,\n        first_name,\n        is_supper\n    FROM\n        use...
                      │  └ <function DB.fetch_one at 0x102cfdd30>
                      └ <providers.psql_provider.DB object at 0x103124c70>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 31, in fetch_one
    result = await con.fetchrow(query)
                   │   │        └ "\n    SELECT\n        id,\n        email,\n        last_name,\n        first_name,\n        is_supper\n    FROM\n        use...
                   │   └ <function Connection.fetchrow at 0x102a55160>
                   └ <PoolConnectionProxy [released] 0x10324cc10>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 749, in fetchrow
    data = await self._execute(
                 │    └ <function Connection._execute at 0x102a431f0>
                 └ <asyncpg.connection.Connection object at 0x1033656d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1033656d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x102a435e0>
                         └ <asyncpg.connection.Connection object at 0x1033656d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x102a41700>
                 └ <asyncpg.connection.Connection object at 0x1033656d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1033656d0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.UndefinedColumnError: column "is_supper" does not exist
HINT:  Perhaps you meant to reference the column "users.is_super".

2023-12-13 10:15:36.456 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61075 - "POST /token HTTP/1.1" 500
2023-12-13 10:15:57.421 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 10:15:57.523 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 10:15:57.524 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 10:15:57.524 | INFO     | uvicorn.server:serve:86 - Finished server process [92292]
2023-12-13 10:16:10.450 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 10:16:24.510 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password
    FROM
        users
    WHERE
        users.email = 'admin@demo.com';
    
2023-12-13 10:16:24.515 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_supper
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:16:24.520 | ERROR    | app.endpoints.auth:auth_for_token:36 - column "is_supper" does not exist
HINT:  Perhaps you meant to reference the column "users.is_super".Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1046919d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10440f430>
           └ <SpawnProcess name='SpawnProcess-1' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104402a60>
    └ <SpawnProcess name='SpawnProcess-1' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10469f190>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=92396 started>
    │    └ <function subprocess_started at 0x106ae7670>
    └ <SpawnProcess name='SpawnProcess-1' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10469f2b0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x106addc10>
           │       │   └ <uvicorn.server.Server object at 0x10469f2b0>
           │       └ <function run at 0x1046cf820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x106a9ddc0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106b32f40>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106c0f1c0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106c0f1...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x106c0f7c0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106b32f40>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106c0f1c0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106c0f1...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106c0f1c0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106c0f1...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x106c1f460>
          └ <fastapi.applications.FastAPI object at 0x106c0f7c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x106c0e4c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106c0f1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x106c1f400>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x106c1f460>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'content-length': '48', 'accept': 'application/json, text/plain,...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x106c0e4c0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106c0f1...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x1062cbaf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x106c1f400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x106c1f400>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106c0f1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x106c1f3d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x106c1f400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106c0e700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106c0f1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x106c1f370>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x106c1f3d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106c0e700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106c0f1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x106c0f8e0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x106c1f370>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106c0e700>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106c0f1...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106222af0>
          └ APIRoute(path='/token', name='auth_for_token', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x106c0e700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106c0f1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x106c0e820>
          └ APIRoute(path='/token', name='auth_for_token', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x106c1f820>
                     └ <function get_request_handler.<locals>.app at 0x106c0e790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10620f790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x106af8c40>, 'auth_user': {'email': 'admin@demo.com', 'password': '12345678'}}
                 │         └ <function auth_for_token at 0x1069c1a60>
                 └ <fastapi.dependencies.models.Dependant object at 0x106c0fc70>

> File "/Users/ryu/loan-ledger-if/app/endpoints/auth.py", line 29, in auth_for_token
    payload = await auth_crud.query_token_payload(db, db_user["id"])
                    │         │                   │   └ {'id': 'd6c9c874-dce6-41f3-b818-b2b812aaec8b', 'email': 'admin@demo.com', 'password': '12345678'}
                    │         │                   └ <providers.psql_provider.DB object at 0x106af8c40>
                    │         └ <function query_token_payload at 0x1066dc9d0>
                    └ <module 'app.crud.auth_crud' from '/Users/ryu/loan-ledger-if/app/crud/auth_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/auth_crud.py", line 33, in query_token_payload
    user_info = await db.fetch_one(sql)
                      │  │         └ "\n    SELECT\n        id,\n        email,\n        last_name,\n        first_name,\n        is_supper\n    FROM\n        use...
                      │  └ <function DB.fetch_one at 0x1066d1ca0>
                      └ <providers.psql_provider.DB object at 0x106af8c40>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 31, in fetch_one
    result = await con.fetchrow(query)
                   │   │        └ "\n    SELECT\n        id,\n        email,\n        last_name,\n        first_name,\n        is_supper\n    FROM\n        use...
                   │   └ <function Connection.fetchrow at 0x106429160>
                   └ <PoolConnectionProxy [released] 0x106c1fbb0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 749, in fetchrow
    data = await self._execute(
                 │    └ <function Connection._execute at 0x1064171f0>
                 └ <asyncpg.connection.Connection object at 0x106d396d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x106d396d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1064175e0>
                         └ <asyncpg.connection.Connection object at 0x106d396d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x106415700>
                 └ <asyncpg.connection.Connection object at 0x106d396d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x106d396d0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.UndefinedColumnError: column "is_supper" does not exist
HINT:  Perhaps you meant to reference the column "users.is_super".

2023-12-13 10:16:24.547 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61084 - "POST /token HTTP/1.1" 500
2023-12-13 10:17:15.765 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 10:17:15.866 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 10:17:15.867 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 10:17:15.867 | INFO     | uvicorn.server:serve:86 - Finished server process [92398]
2023-12-13 10:17:16.251 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 10:17:22.171 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password
    FROM
        users
    WHERE
        users.email = 'admin@demo.com';
    
2023-12-13 10:17:22.178 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:17:22.183 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:17:22.191 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_id = menus.id
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:17:22.195 | ERROR    | app.endpoints.auth:auth_for_token:36 - column permission_menu_rels.menu_id does not exist
HINT:  Perhaps you meant to reference the column "permission_menu_rels.menu_code".Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1050b59d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104e33430>
           └ <SpawnProcess name='SpawnProcess-2' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104e26a60>
    └ <SpawnProcess name='SpawnProcess-2' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1050c3190>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=92396 started>
    │    └ <function subprocess_started at 0x11023f670>
    └ <SpawnProcess name='SpawnProcess-2' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1050c32b0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x110234c10>
           │       │   └ <uvicorn.server.Server object at 0x1050c32b0>
           │       └ <function run at 0x1050f3820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1101f5dc0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x11028af40>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1103671c0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1103671...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1103677c0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x11028af40>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1103671c0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1103671...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1103671c0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1103671...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x110377460>
          └ <fastapi.applications.FastAPI object at 0x1103677c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1103664c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1103671...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x110377400>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x110377460>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'content-length': '48', 'accept': 'application/json, text/plain,...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1103664c0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1103671...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x1078f7af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x110377400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x110377400>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1103671...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1103773d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x110377400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x110366700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1103671...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x110377370>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1103773d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x110366700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1103671...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1103678e0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x110377370>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x110366700>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1103671...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10784eaf0>
          └ APIRoute(path='/token', name='auth_for_token', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x110366700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1103671...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x110366820>
          └ APIRoute(path='/token', name='auth_for_token', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x110377820>
                     └ <function get_request_handler.<locals>.app at 0x110366790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10783a790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x110250c40>, 'auth_user': {'email': 'admin@demo.com', 'password': '12345678'}}
                 │         └ <function auth_for_token at 0x110119a60>
                 └ <fastapi.dependencies.models.Dependant object at 0x110367c70>

> File "/Users/ryu/loan-ledger-if/app/endpoints/auth.py", line 29, in auth_for_token
    payload = await auth_crud.query_token_payload(db, db_user["id"])
                    │         │                   │   └ {'id': 'd6c9c874-dce6-41f3-b818-b2b812aaec8b', 'email': 'admin@demo.com', 'password': '12345678'}
                    │         │                   └ <providers.psql_provider.DB object at 0x110250c40>
                    │         └ <function query_token_payload at 0x107e089d0>
                    └ <module 'app.crud.auth_crud' from '/Users/ryu/loan-ledger-if/app/crud/auth_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/auth_crud.py", line 86, in query_token_payload
    menus_static = await db.fetch_all(sql)
                         │  │         └ "\n    SELECT\n        menus.code,\n        menus.name\n    FROM\n        menus\n    JOIN\n        permission_menu_rels\n    ...
                         │  └ <function DB.fetch_all at 0x107dfdc10>
                         └ <providers.psql_provider.DB object at 0x110250c40>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        menus.code,\n        menus.name\n    FROM\n        menus\n    JOIN\n        permission_menu_rels\n    ...
                   │   └ <function Connection.fetch at 0x107b550d0>
                   └ <PoolConnectionProxy [released] 0x110377e80>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x107b431f0>
                 └ <asyncpg.connection.Connection object at 0x1106956d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1106956d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x107b435e0>
                         └ <asyncpg.connection.Connection object at 0x1106956d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x107b41700>
                 └ <asyncpg.connection.Connection object at 0x1106956d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1106956d0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.UndefinedColumnError: column permission_menu_rels.menu_id does not exist
HINT:  Perhaps you meant to reference the column "permission_menu_rels.menu_code".

2023-12-13 10:17:22.224 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61088 - "POST /token HTTP/1.1" 500
2023-12-13 10:21:04.036 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 10:21:04.138 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 10:21:04.139 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 10:21:04.139 | INFO     | uvicorn.server:serve:86 - Finished server process [92428]
2023-12-13 10:21:04.525 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 10:22:19.041 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 10:22:19.143 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 10:22:19.143 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 10:22:19.144 | INFO     | uvicorn.server:serve:86 - Finished server process [92485]
2023-12-13 10:22:19.546 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 10:22:26.323 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 10:22:26.424 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 10:22:26.425 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 10:22:26.425 | INFO     | uvicorn.server:serve:86 - Finished server process [92504]
2023-12-13 10:22:26.802 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 10:22:30.406 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password
    FROM
        users
    WHERE
        users.email = 'admin@demo.com';
    
2023-12-13 10:22:30.428 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:22:30.433 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:22:30.451 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:22:30.455 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:22:30.459 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61113 - "POST /token HTTP/1.1" 200
2023-12-13 10:26:14.364 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61143 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:26:14.365 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61144 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:26:14.373 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:26:14.376 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:26:14.382 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:26:14.388 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:26:14.393 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61143 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:26:14.400 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:26:14.405 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:26:14.407 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:26:14.415 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:26:14.421 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61144 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:28:37.659 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:28:37.662 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:28:37.665 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:28:37.674 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:28:37.678 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61175 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:28:37.691 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:28:37.694 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:28:37.696 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:28:37.708 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:28:37.711 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61177 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:28:40.330 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61177 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 10:28:40.331 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61175 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 10:28:40.332 | ERROR    | app.endpoints.orgs:get_orgs_layou:23 - module 'app.crud.orgs_crud' has no attribute 'query_orgs'Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1011a19d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x100f1f430>
           └ <SpawnProcess name='SpawnProcess-5' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x100f12a60>
    └ <SpawnProcess name='SpawnProcess-5' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1011af190>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=92396 started>
    │    └ <function subprocess_started at 0x1035f6670>
    └ <SpawnProcess name='SpawnProcess-5' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1011af2b0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1035ebc10>
           │       │   └ <uvicorn.server.Server object at 0x1011af2b0>
           │       └ <function run at 0x1011df820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1035acdc0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103641fa0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10372bca0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10372bc...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10371f7f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103641fa0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10372bca0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10372bc...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10372bca0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10372bc...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10372b490>
          └ <fastapi.applications.FastAPI object at 0x10371f7f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10371e700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10372bc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10372b430>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10372b490>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10371e700>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10372bc...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x102ddbaf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10372b430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10372b430>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10372bc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10372b400>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10372b430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10372e790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10372bc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10372b3a0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10372b400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10372e790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10372bc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10371f910>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10372b3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10372e790>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10372bc...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x102d32af0>
          └ APIRoute(path='/orgs', name='get_orgs_layou', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10372e790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10372bc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10371ea60>
          └ APIRoute(path='/orgs', name='get_orgs_layou', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10372b9a0>
                     └ <function get_request_handler.<locals>.app at 0x10371e9d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x102d1f790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x103607c70>}
                 │         └ <function get_orgs_layou at 0x1034d5af0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10370c790>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs_layou
    orgs = await orgs_crud.query_orgs(db)
                 │                    └ <providers.psql_provider.DB object at 0x103607c70>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

AttributeError: module 'app.crud.orgs_crud' has no attribute 'query_orgs'

2023-12-13 10:28:40.339 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61175 - "GET /orgs HTTP/1.1" 500
2023-12-13 10:28:40.340 | ERROR    | app.endpoints.orgs:get_orgs_layou:23 - module 'app.crud.orgs_crud' has no attribute 'query_orgs'Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1011a19d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x100f1f430>
           └ <SpawnProcess name='SpawnProcess-5' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x100f12a60>
    └ <SpawnProcess name='SpawnProcess-5' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1011af190>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=92396 started>
    │    └ <function subprocess_started at 0x1035f6670>
    └ <SpawnProcess name='SpawnProcess-5' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1011af2b0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1035ebc10>
           │       │   └ <uvicorn.server.Server object at 0x1011af2b0>
           │       └ <function run at 0x1011df820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1035acdc0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103641fa0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10372be80>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10372be...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10371f7f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103641fa0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10372be80>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10372be...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10372be80>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10372be...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10372b490>
          └ <fastapi.applications.FastAPI object at 0x10371f7f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10372ed30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10372be...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10372b430>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10372b490>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10372ed30>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10372be...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x102ddbaf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10372b430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10372b430>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10372be...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10372b400>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10372b430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10372eca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10372be...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10372b3a0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10372b400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10372eca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10372be...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10371f910>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10372b3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10372eca0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10372be...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x102d32af0>
          └ APIRoute(path='/orgs', name='get_orgs_layou', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10372eca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10372be...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10371ea60>
          └ APIRoute(path='/orgs', name='get_orgs_layou', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1038752e0>
                     └ <function get_request_handler.<locals>.app at 0x10371e9d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x102d1f790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x103607c70>}
                 │         └ <function get_orgs_layou at 0x1034d5af0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10370c790>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs_layou
    orgs = await orgs_crud.query_orgs(db)
                 │                    └ <providers.psql_provider.DB object at 0x103607c70>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

AttributeError: module 'app.crud.orgs_crud' has no attribute 'query_orgs'

2023-12-13 10:28:40.345 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61177 - "GET /orgs HTTP/1.1" 500
2023-12-13 10:28:57.790 | ERROR    | app.endpoints.orgs:get_orgs_layou:23 - module 'app.crud.orgs_crud' has no attribute 'query_orgs'Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1011a19d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x100f1f430>
           └ <SpawnProcess name='SpawnProcess-5' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x100f12a60>
    └ <SpawnProcess name='SpawnProcess-5' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1011af190>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=92396 started>
    │    └ <function subprocess_started at 0x1035f6670>
    └ <SpawnProcess name='SpawnProcess-5' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1011af2b0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1035ebc10>
           │       │   └ <uvicorn.server.Server object at 0x1011af2b0>
           │       └ <function run at 0x1011df820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1035acdc0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103641fa0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1038756d0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1038756...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10371f7f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103641fa0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1038756d0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1038756...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1038756d0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1038756...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10372b490>
          └ <fastapi.applications.FastAPI object at 0x10371f7f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10372ed30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1038756...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10372b430>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10372b490>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10372ed30>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1038756...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x102ddbaf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10372b430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10372b430>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1038756...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10372b400>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10372b430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10372e790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1038756...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10372b3a0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10372b400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10372e790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1038756...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10371f910>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10372b3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10372e790>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1038756...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x102d32af0>
          └ APIRoute(path='/orgs', name='get_orgs_layou', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10372e790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1038756...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10371ea60>
          └ APIRoute(path='/orgs', name='get_orgs_layou', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x103875ca0>
                     └ <function get_request_handler.<locals>.app at 0x10371e9d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x102d1f790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x103607c70>}
                 │         └ <function get_orgs_layou at 0x1034d5af0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10370c790>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs_layou
    orgs = await orgs_crud.query_orgs(db)
                 │                    └ <providers.psql_provider.DB object at 0x103607c70>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

AttributeError: module 'app.crud.orgs_crud' has no attribute 'query_orgs'

2023-12-13 10:28:57.794 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61181 - "GET /orgs HTTP/1.1" 500
2023-12-13 10:28:57.794 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61182 - "OPTIONS /users HTTP/1.1" 200
2023-12-13 10:28:57.795 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61183 - "OPTIONS /users HTTP/1.1" 200
2023-12-13 10:28:57.795 | ERROR    | app.endpoints.orgs:get_orgs_layou:23 - module 'app.crud.orgs_crud' has no attribute 'query_orgs'Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1011a19d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x100f1f430>
           └ <SpawnProcess name='SpawnProcess-5' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x100f12a60>
    └ <SpawnProcess name='SpawnProcess-5' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1011af190>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=92396 started>
    │    └ <function subprocess_started at 0x1035f6670>
    └ <SpawnProcess name='SpawnProcess-5' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1011af2b0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1035ebc10>
           │       │   └ <uvicorn.server.Server object at 0x1011af2b0>
           │       └ <function run at 0x1011df820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1035acdc0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103641fa0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103885af0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103885a...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10371f7f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103641fa0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103885af0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103885a...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103885af0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103885a...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10372b490>
          └ <fastapi.applications.FastAPI object at 0x10371f7f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10372eca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103885a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10372b430>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10372b490>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10372eca0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103885a...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x102ddbaf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10372b430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10372b430>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103885a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10372b400>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10372b430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10372e160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103885a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10372b3a0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10372b400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10372e160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103885a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10371f910>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10372b3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10372e160>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103885a...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x102d32af0>
          └ APIRoute(path='/orgs', name='get_orgs_layou', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10372e160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103885a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10371ea60>
          └ APIRoute(path='/orgs', name='get_orgs_layou', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x103885f70>
                     └ <function get_request_handler.<locals>.app at 0x10371e9d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x102d1f790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x103607c70>}
                 │         └ <function get_orgs_layou at 0x1034d5af0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10370c790>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs_layou
    orgs = await orgs_crud.query_orgs(db)
                 │                    └ <providers.psql_provider.DB object at 0x103607c70>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

AttributeError: module 'app.crud.orgs_crud' has no attribute 'query_orgs'

2023-12-13 10:28:57.800 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61184 - "GET /orgs HTTP/1.1" 500
2023-12-13 10:28:57.806 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users;
    
2023-12-13 10:28:57.807 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61182 - "GET /users HTTP/1.1" 200
2023-12-13 10:28:57.817 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users;
    
2023-12-13 10:28:57.820 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61183 - "GET /users HTTP/1.1" 200
2023-12-13 10:29:12.358 | ERROR    | app.endpoints.orgs:get_orgs_layou:23 - module 'app.crud.orgs_crud' has no attribute 'query_orgs'Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1011a19d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x100f1f430>
           └ <SpawnProcess name='SpawnProcess-5' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x100f12a60>
    └ <SpawnProcess name='SpawnProcess-5' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1011af190>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=92396 started>
    │    └ <function subprocess_started at 0x1035f6670>
    └ <SpawnProcess name='SpawnProcess-5' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1011af2b0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1035ebc10>
           │       │   └ <uvicorn.server.Server object at 0x1011af2b0>
           │       └ <function run at 0x1011df820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1035acdc0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103641fa0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103885d30>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103885d...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10371f7f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103641fa0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103885d30>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103885d...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103885d30>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103885d...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10372b490>
          └ <fastapi.applications.FastAPI object at 0x10371f7f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10372e9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103885d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10372b430>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10372b490>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10372e9d0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103885d...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x102ddbaf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10372b430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10372b430>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103885d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10372b400>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10372b430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10372e790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103885d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10372b3a0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10372b400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10372e790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103885d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10371f910>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10372b3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10372e790>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103885d...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x102d32af0>
          └ APIRoute(path='/orgs', name='get_orgs_layou', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10372e790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103885d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10371ea60>
          └ APIRoute(path='/orgs', name='get_orgs_layou', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1038753a0>
                     └ <function get_request_handler.<locals>.app at 0x10371e9d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x102d1f790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x103607c70>}
                 │         └ <function get_orgs_layou at 0x1034d5af0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10370c790>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs_layou
    orgs = await orgs_crud.query_orgs(db)
                 │                    └ <providers.psql_provider.DB object at 0x103607c70>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

AttributeError: module 'app.crud.orgs_crud' has no attribute 'query_orgs'

2023-12-13 10:29:12.375 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61209 - "GET /orgs HTTP/1.1" 500
2023-12-13 10:29:12.381 | ERROR    | app.endpoints.orgs:get_orgs_layou:23 - module 'app.crud.orgs_crud' has no attribute 'query_orgs'Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1011a19d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x100f1f430>
           └ <SpawnProcess name='SpawnProcess-5' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x100f12a60>
    └ <SpawnProcess name='SpawnProcess-5' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1011af190>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=92396 started>
    │    └ <function subprocess_started at 0x1035f6670>
    └ <SpawnProcess name='SpawnProcess-5' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1011af2b0>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1035ebc10>
           │       │   └ <uvicorn.server.Server object at 0x1011af2b0>
           │       └ <function run at 0x1011df820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1035acdc0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103641fa0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103a09820>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103a098...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10371f7f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103641fa0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103a09820>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103a098...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103a09820>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103a098...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10372b490>
          └ <fastapi.applications.FastAPI object at 0x10371f7f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103a08310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103a098...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10372b430>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10372b490>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103a08310>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103a098...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x102ddbaf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10372b430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10372b430>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103a098...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10372b400>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10372b430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103a083a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103a098...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10372b3a0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10372b400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103a083a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103a098...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10371f910>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10372b3a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103a083a0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103a098...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x102d32af0>
          └ APIRoute(path='/orgs', name='get_orgs_layou', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103a083a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103a098...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10371ea60>
          └ APIRoute(path='/orgs', name='get_orgs_layou', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x103a09a00>
                     └ <function get_request_handler.<locals>.app at 0x10371e9d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x102d1f790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x103607c70>}
                 │         └ <function get_orgs_layou at 0x1034d5af0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10370c790>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 17, in get_orgs_layou
    orgs = await orgs_crud.query_orgs(db)
                 │                    └ <providers.psql_provider.DB object at 0x103607c70>
                 └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

AttributeError: module 'app.crud.orgs_crud' has no attribute 'query_orgs'

2023-12-13 10:29:12.387 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61212 - "GET /orgs HTTP/1.1" 500
2023-12-13 10:29:12.400 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users;
    
2023-12-13 10:29:12.400 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:29:12.402 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61210 - "GET /users HTTP/1.1" 200
2023-12-13 10:29:12.403 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:29:12.408 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users;
    
2023-12-13 10:29:12.410 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:29:12.411 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61212 - "GET /users HTTP/1.1" 200
2023-12-13 10:29:12.416 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:29:12.418 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61211 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:29:12.424 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:29:12.426 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:29:12.427 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:29:12.433 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:29:12.438 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61212 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:31:31.729 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 10:31:31.831 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 10:31:31.832 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 10:31:31.832 | INFO     | uvicorn.server:serve:86 - Finished server process [92513]
2023-12-13 10:31:32.246 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 10:32:22.632 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 10:32:22.734 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 10:32:22.736 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 10:32:22.736 | INFO     | uvicorn.server:serve:86 - Finished server process [92719]
2023-12-13 10:32:23.134 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 10:32:44.975 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 10:32:45.076 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 10:32:45.077 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 10:32:45.077 | INFO     | uvicorn.server:serve:86 - Finished server process [92738]
2023-12-13 10:32:45.457 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 10:33:21.364 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 10:33:21.465 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 10:33:21.466 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 10:33:21.466 | INFO     | uvicorn.server:serve:86 - Finished server process [92750]
2023-12-13 10:33:21.862 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 10:33:30.251 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 10:33:30.353 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 10:33:30.354 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 10:33:30.355 | INFO     | uvicorn.server:serve:86 - Finished server process [92762]
2023-12-13 10:33:30.764 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 10:33:51.674 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62373 - "OPTIONS /orgs/basic HTTP/1.1" 200
2023-12-13 10:33:51.675 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62376 - "OPTIONS /orgs/basic HTTP/1.1" 200
2023-12-13 10:33:51.694 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users;
    
2023-12-13 10:33:51.696 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:33:51.698 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62374 - "GET /users HTTP/1.1" 200
2023-12-13 10:33:51.714 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 10:33:51.721 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62376 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 10:33:51.723 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users;
    
2023-12-13 10:33:51.725 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:33:51.731 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62373 - "GET /users HTTP/1.1" 200
2023-12-13 10:33:51.736 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 10:33:51.742 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:33:51.743 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62376 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 10:33:51.745 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:33:51.746 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62375 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:33:51.751 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:33:51.752 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:33:51.753 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:33:51.757 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:33:51.758 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62376 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:35:34.928 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users;
    
2023-12-13 10:35:34.930 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 10:35:34.932 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:35:34.936 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62805 - "GET /users HTTP/1.1" 200
2023-12-13 10:35:34.940 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62804 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 10:35:34.951 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users;
    
2023-12-13 10:35:34.953 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 10:35:34.958 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62814 - "GET /users HTTP/1.1" 200
2023-12-13 10:35:34.959 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:35:34.960 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62805 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 10:35:34.974 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:35:34.984 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:35:34.988 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62806 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:35:34.997 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:35:35.000 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:35:35.006 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:35:35.011 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:35:35.016 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62805 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:35:46.869 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 10:35:46.875 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users;
    
2023-12-13 10:35:46.878 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62869 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 10:35:46.886 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:35:46.889 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62870 - "GET /users HTTP/1.1" 200
2023-12-13 10:35:46.894 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 10:35:46.900 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62875 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 10:35:46.902 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:35:46.902 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users;
    
2023-12-13 10:35:46.906 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62869 - "GET /users HTTP/1.1" 200
2023-12-13 10:35:46.909 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:35:46.913 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:35:46.917 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62871 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:35:46.933 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:35:46.936 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:35:46.937 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:35:46.941 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:35:46.945 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62869 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:36:03.583 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users;
    
2023-12-13 10:36:03.591 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62958 - "GET /users HTTP/1.1" 200
2023-12-13 10:36:03.595 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 10:36:03.596 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:36:03.604 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62957 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 10:36:03.605 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users;
    
2023-12-13 10:36:03.621 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62963 - "GET /users HTTP/1.1" 200
2023-12-13 10:36:03.625 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 10:36:03.628 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62958 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 10:36:03.629 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:36:03.634 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:36:03.637 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:36:03.644 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62959 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:36:03.651 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:36:03.653 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:36:03.655 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:36:03.664 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:36:03.666 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62958 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:37:06.052 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63234 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:37:06.053 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63235 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:37:06.070 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users;
    
2023-12-13 10:37:06.071 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 10:37:06.075 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:37:06.077 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63232 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 10:37:06.080 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63233 - "GET /users HTTP/1.1" 200
2023-12-13 10:37:06.093 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 10:37:06.095 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users;
    
2023-12-13 10:37:06.096 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63235 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 10:37:06.097 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63232 - "GET /users HTTP/1.1" 200
2023-12-13 10:37:06.122 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:37:06.124 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:37:06.133 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:37:06.136 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63234 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:37:06.146 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:37:06.149 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:37:06.154 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:37:06.157 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:37:06.161 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63232 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:38:14.047 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 10:38:14.149 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 10:38:14.149 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 10:38:14.150 | INFO     | uvicorn.server:serve:86 - Finished server process [92770]
2023-12-13 10:38:14.539 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 10:38:18.979 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs
    WHERE
        orgs.p_id = null;
    
2023-12-13 10:38:18.980 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users;
    
2023-12-13 10:38:18.986 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63549 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 10:38:18.989 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:38:18.991 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63550 - "GET /users HTTP/1.1" 200
2023-12-13 10:38:19.003 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs
    WHERE
        orgs.p_id = null;
    
2023-12-13 10:38:19.011 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63555 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 10:38:19.012 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users;
    
2023-12-13 10:38:19.012 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:38:19.018 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63549 - "GET /users HTTP/1.1" 200
2023-12-13 10:38:19.019 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:38:19.027 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:38:19.036 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63551 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:38:19.047 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:38:19.050 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:38:19.051 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:38:19.058 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:38:19.061 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63549 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:38:40.423 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 10:38:40.525 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 10:38:40.525 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 10:38:40.525 | INFO     | uvicorn.server:serve:86 - Finished server process [92911]
2023-12-13 10:38:40.920 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 10:39:55.935 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 10:39:56.036 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 10:39:56.037 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 10:39:56.037 | INFO     | uvicorn.server:serve:86 - Finished server process [92934]
2023-12-13 10:39:56.431 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 10:40:49.719 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 10:40:49.820 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 10:40:49.821 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 10:40:49.821 | INFO     | uvicorn.server:serve:86 - Finished server process [92963]
2023-12-13 10:40:50.221 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 10:41:03.768 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 10:41:03.870 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 10:41:03.871 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 10:41:03.871 | INFO     | uvicorn.server:serve:86 - Finished server process [92978]
2023-12-13 10:41:04.258 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 10:41:08.692 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64261 - "OPTIONS /users/basic HTTP/1.1" 200
2023-12-13 10:41:08.701 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64263 - "OPTIONS /users/basic HTTP/1.1" 200
2023-12-13 10:41:08.718 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 10:41:08.719 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:41:08.720 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super = true;
    
2023-12-13 10:41:08.723 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64261 - "GET /users/basic HTTP/1.1" 200
2023-12-13 10:41:08.724 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64260 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 10:41:08.733 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super = true;
    
2023-12-13 10:41:08.736 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:41:08.738 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64263 - "GET /users/basic HTTP/1.1" 200
2023-12-13 10:41:08.739 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 10:41:08.748 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64260 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 10:41:08.754 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:41:08.770 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:41:08.774 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64262 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:41:08.781 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:41:08.782 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:41:08.783 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:41:08.784 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:41:08.788 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64260 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:41:37.041 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 10:41:37.143 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 10:41:37.143 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 10:41:37.143 | INFO     | uvicorn.server:serve:86 - Finished server process [92990]
2023-12-13 10:41:37.533 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 10:41:44.133 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 10:41:44.133 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 10:41:44.135 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:41:44.136 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64421 - "GET /users/basic HTTP/1.1" 200
2023-12-13 10:41:44.136 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64420 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 10:41:44.145 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 10:41:44.146 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:41:44.146 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 10:41:44.148 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64420 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 10:41:44.148 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64426 - "GET /users/basic HTTP/1.1" 200
2023-12-13 10:41:44.149 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:41:44.154 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:41:44.156 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64422 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:41:44.172 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:41:44.174 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:41:44.176 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:41:44.184 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:41:44.188 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64426 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:43:13.875 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 10:43:13.875 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 10:43:13.878 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64800 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 10:43:13.878 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64801 - "GET /users/basic HTTP/1.1" 200
2023-12-13 10:43:13.879 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:43:13.887 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 10:43:13.889 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 10:43:13.892 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:43:13.895 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64800 - "GET /users/basic HTTP/1.1" 200
2023-12-13 10:43:13.895 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64808 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 10:43:13.900 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:43:13.904 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:43:13.908 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64802 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:43:13.925 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:43:13.931 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:43:13.935 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:43:13.941 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:43:13.943 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64802 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:44:05.778 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65026 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 10:44:05.779 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65027 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 10:44:05.786 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 10:44:05.788 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65027 - "GET /orgs HTTP/1.1" 200
2023-12-13 10:44:05.794 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 10:44:05.797 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65026 - "GET /orgs HTTP/1.1" 200
2023-12-13 10:45:36.156 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65395 - "OPTIONS /orgs/basic HTTP/1.1" 200
2023-12-13 10:45:36.157 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65397 - "OPTIONS /orgs/basic HTTP/1.1" 200
2023-12-13 10:45:36.164 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 10:45:36.164 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 10:45:36.168 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65395 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 10:45:36.171 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65396 - "GET /users/basic HTTP/1.1" 200
2023-12-13 10:45:36.175 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 10:45:36.177 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 10:45:36.177 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65397 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 10:45:36.178 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65395 - "GET /users/basic HTTP/1.1" 200
2023-12-13 10:46:30.336 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49238 - "OPTIONS /user HTTP/1.1" 200
2023-12-13 10:46:30.355 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id
    FROM
        users
    WHERE
        users.email = '001@demo.com';
    
2023-12-13 10:46:30.360 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO users
        (
            last_name,
            first_name,
            email,
            password
        )
    VALUES
        (
            '山田',
            '太郎',
            '001@demo.com',
            '12345678'
        )
    RETURNING id;
    
2023-12-13 10:46:30.362 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49238 - "POST /user HTTP/1.1" 200
2023-12-13 10:46:30.372 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 10:46:30.375 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49238 - "GET /users/basic HTTP/1.1" 200
2023-12-13 10:48:27.092 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49720 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:48:27.093 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49721 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:48:27.102 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 10:48:27.104 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 10:48:27.109 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49718 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 10:48:27.111 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:48:27.113 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49719 - "GET /users/basic HTTP/1.1" 200
2023-12-13 10:48:27.122 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 10:48:27.126 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:48:27.127 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 10:48:27.128 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49721 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 10:48:27.134 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49718 - "GET /users/basic HTTP/1.1" 200
2023-12-13 10:48:27.134 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:48:27.149 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:48:27.152 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49720 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 10:48:27.159 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:48:27.162 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:48:27.163 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:48:27.166 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 10:48:27.168 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49720 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 11:08:14.175 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53368 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 11:08:14.176 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53369 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 11:08:14.186 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 11:08:14.190 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53369 - "GET /orgs HTTP/1.1" 200
2023-12-13 11:08:14.195 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 11:08:14.197 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53368 - "GET /orgs HTTP/1.1" 200
2023-12-13 11:09:40.976 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53725 - "OPTIONS /orgs/basic HTTP/1.1" 200
2023-12-13 11:09:40.977 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53726 - "OPTIONS /users/basic HTTP/1.1" 200
2023-12-13 11:09:40.978 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53727 - "OPTIONS /orgs/basic HTTP/1.1" 200
2023-12-13 11:09:40.978 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53728 - "OPTIONS /users/basic HTTP/1.1" 200
2023-12-13 11:09:41.004 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 11:09:41.004 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 11:09:41.007 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53725 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 11:09:41.010 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53728 - "GET /users/basic HTTP/1.1" 200
2023-12-13 11:09:41.024 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 11:09:41.024 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 11:09:41.031 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53726 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 11:09:41.033 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53725 - "GET /users/basic HTTP/1.1" 200
2023-12-13 11:11:06.417 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54085 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 11:11:06.418 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54086 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 11:11:06.426 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 11:11:06.433 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54083 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 11:11:06.439 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:11:06.440 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 11:11:06.450 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54084 - "GET /users/basic HTTP/1.1" 200
2023-12-13 11:11:06.450 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 11:11:06.453 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54086 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 11:11:06.456 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:11:06.457 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 11:11:06.463 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:11:06.464 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54083 - "GET /users/basic HTTP/1.1" 200
2023-12-13 11:11:06.468 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:11:06.470 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54085 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 11:11:06.475 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:11:06.477 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:11:06.478 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:11:06.480 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:11:06.482 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54083 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 11:28:54.260 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58443 - "OPTIONS /orgs/basic HTTP/1.1" 200
2023-12-13 11:28:54.261 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58444 - "OPTIONS /users/basic HTTP/1.1" 200
2023-12-13 11:28:54.262 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58445 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 11:28:54.267 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58446 - "OPTIONS /orgs/basic HTTP/1.1" 200
2023-12-13 11:28:54.268 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58447 - "OPTIONS /users/basic HTTP/1.1" 200
2023-12-13 11:28:54.268 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58448 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 11:28:54.283 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 11:28:54.283 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 11:28:54.290 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58445 - "GET /users/basic HTTP/1.1" 200
2023-12-13 11:28:54.291 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58443 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 11:28:54.294 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:28:54.304 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 11:28:54.306 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 11:28:54.307 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58448 - "GET /users/basic HTTP/1.1" 200
2023-12-13 11:28:54.308 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58445 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 11:28:54.310 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:28:54.316 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:28:54.320 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:28:54.322 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58444 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 11:28:54.326 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:28:54.328 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:28:54.330 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:28:54.332 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:28:54.335 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58445 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 11:30:43.915 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 11:30:43.915 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 11:30:43.916 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:30:43.917 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58907 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 11:30:43.918 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58908 - "GET /users/basic HTTP/1.1" 200
2023-12-13 11:30:43.925 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 11:30:43.928 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:30:43.928 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 11:30:43.929 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58913 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 11:30:43.933 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58907 - "GET /users/basic HTTP/1.1" 200
2023-12-13 11:30:43.933 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:30:43.938 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:30:43.941 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58909 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 11:30:43.949 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:30:43.952 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:30:43.958 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:30:43.963 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:30:43.965 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58907 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 11:33:14.606 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 11:33:14.609 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 11:33:14.617 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59536 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 11:33:14.620 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:33:14.627 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59537 - "GET /users/basic HTTP/1.1" 200
2023-12-13 11:33:14.649 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 11:33:14.651 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:33:14.653 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 11:33:14.657 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59542 - "GET /orgs/basic HTTP/1.1" 200
2023-12-13 11:33:14.659 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59536 - "GET /users/basic HTTP/1.1" 200
2023-12-13 11:33:14.659 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:33:14.663 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:33:14.666 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59538 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 11:33:14.678 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:33:14.681 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:33:14.687 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:33:14.693 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:33:14.697 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59536 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 11:37:30.673 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 11:37:30.775 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 11:37:30.775 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 11:37:30.775 | INFO     | uvicorn.server:serve:86 - Finished server process [93013]
2023-12-13 11:37:31.222 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 11:39:09.680 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 11:39:09.782 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 11:39:09.782 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 11:39:09.783 | INFO     | uvicorn.server:serve:86 - Finished server process [93853]
2023-12-13 11:39:10.184 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 11:39:25.662 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 11:39:25.764 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 11:39:25.764 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 11:39:25.765 | INFO     | uvicorn.server:serve:86 - Finished server process [93876]
2023-12-13 11:39:26.181 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 11:39:34.374 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 11:39:34.476 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 11:39:34.476 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 11:39:34.477 | INFO     | uvicorn.server:serve:86 - Finished server process [93887]
2023-12-13 11:39:34.888 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 11:39:52.375 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 11:39:52.476 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 11:39:52.477 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 11:39:52.477 | INFO     | uvicorn.server:serve:86 - Finished server process [93898]
2023-12-13 11:39:52.869 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 11:40:19.361 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 11:40:19.462 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 11:40:19.463 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 11:40:19.463 | INFO     | uvicorn.server:serve:86 - Finished server process [93906]
2023-12-13 11:40:19.860 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 11:40:30.984 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 11:40:31.086 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 11:40:31.086 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 11:40:31.087 | INFO     | uvicorn.server:serve:86 - Finished server process [93917]
2023-12-13 11:40:31.474 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 11:40:55.633 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 11:40:55.734 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 11:40:55.735 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 11:40:55.735 | INFO     | uvicorn.server:serve:86 - Finished server process [93927]
2023-12-13 11:40:56.144 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 11:41:24.756 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 11:41:24.858 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 11:41:24.858 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 11:41:24.859 | INFO     | uvicorn.server:serve:86 - Finished server process [93938]
2023-12-13 11:41:25.250 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 11:41:45.777 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 11:41:45.879 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 11:41:45.879 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 11:41:45.879 | INFO     | uvicorn.server:serve:86 - Finished server process [93949]
2023-12-13 11:41:46.275 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 11:42:15.088 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 11:42:15.190 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 11:42:15.190 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 11:42:15.190 | INFO     | uvicorn.server:serve:86 - Finished server process [93964]
2023-12-13 11:42:15.589 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 11:42:35.309 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 11:42:35.411 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 11:42:35.412 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 11:42:35.412 | INFO     | uvicorn.server:serve:86 - Finished server process [93976]
2023-12-13 11:42:35.818 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 11:42:52.495 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 11:42:52.597 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 11:42:52.597 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 11:42:52.597 | INFO     | uvicorn.server:serve:86 - Finished server process [93988]
2023-12-13 11:42:52.985 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 11:43:40.006 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 11:43:40.109 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 11:43:40.109 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 11:43:40.110 | INFO     | uvicorn.server:serve:86 - Finished server process [93997]
2023-12-13 11:43:40.495 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 11:44:05.182 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 11:44:05.284 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 11:44:05.284 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 11:44:05.284 | INFO     | uvicorn.server:serve:86 - Finished server process [94008]
2023-12-13 11:44:05.687 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 11:44:24.592 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 11:44:24.693 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 11:44:24.694 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 11:44:24.694 | INFO     | uvicorn.server:serve:86 - Finished server process [94021]
2023-12-13 11:44:25.097 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 11:44:54.116 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 11:44:54.218 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 11:44:54.218 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 11:44:54.218 | INFO     | uvicorn.server:serve:86 - Finished server process [94035]
2023-12-13 11:44:54.599 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 11:46:22.474 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 11:46:22.575 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 11:46:22.575 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 11:46:22.576 | INFO     | uvicorn.server:serve:86 - Finished server process [94049]
2023-12-13 11:46:22.948 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 11:46:32.553 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 11:46:32.654 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 11:46:32.654 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 11:46:32.654 | INFO     | uvicorn.server:serve:86 - Finished server process [94066]
2023-12-13 11:46:33.053 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 11:47:51.652 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 11:47:51.753 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 11:47:51.754 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 11:47:51.754 | INFO     | uvicorn.server:serve:86 - Finished server process [94077]
2023-12-13 11:47:52.132 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 11:49:08.939 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63459 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 11:49:08.940 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63460 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 11:49:08.940 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63461 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 11:49:08.941 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63459 - "GET /options/orgs HTTP/1.1" 404
2023-12-13 11:49:08.942 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63460 - "GET /options/users HTTP/1.1" 404
2023-12-13 11:49:08.951 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63462 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 11:49:08.953 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63463 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 11:49:08.953 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63464 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 11:49:08.954 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63460 - "GET /options/orgs HTTP/1.1" 404
2023-12-13 11:49:08.954 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63464 - "GET /options/users HTTP/1.1" 404
2023-12-13 11:49:08.963 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:49:08.965 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:49:08.966 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:49:08.971 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:49:08.973 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63461 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 11:49:08.986 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:49:08.993 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:49:08.996 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:49:09.009 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:49:09.013 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63464 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 11:50:10.215 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 11:50:10.317 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 11:50:10.318 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 11:50:10.319 | INFO     | uvicorn.server:serve:86 - Finished server process [94096]
2023-12-13 11:50:10.710 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 11:50:36.190 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 11:50:36.291 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 11:50:36.292 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 11:50:36.292 | INFO     | uvicorn.server:serve:86 - Finished server process [94148]
2023-12-13 11:50:36.672 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 11:50:41.898 | ERROR    | app.endpoints.options:user_optins:23 - module 'app.crud.options_crud' has no attribute 'query_user_optins'Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1030099d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102d87430>
           └ <SpawnProcess name='SpawnProcess-38' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102d7aa60>
    └ <SpawnProcess name='SpawnProcess-38' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1030171f0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-38' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-38' parent=92396 started>
    │    └ <function subprocess_started at 0x105460a60>
    └ <SpawnProcess name='SpawnProcess-38' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x103017310>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x105460040>
           │       │   └ <uvicorn.server.Server object at 0x103017310>
           │       └ <function run at 0x103047820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1053f7f40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1054ae910>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1055c7400>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1055c74...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10558ef70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1054ae910>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1055c7400>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1055c74...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1055c7400>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1055c74...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10559d670>
          └ <fastapi.applications.FastAPI object at 0x10558ef70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10558a9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1055c74...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10559d610>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10559d670>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10558a9d0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1055c74...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x104c43af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10559d610>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10559d610>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1055c74...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10559d5e0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10559d610>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10558a820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1055c74...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10559d580>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10559d5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10558a820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1055c74...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10558eac0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10559d580>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10558a820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1055c74...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x104b99af0>
          └ APIRoute(path='/options/users', name='user_optins', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10558a820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1055c74...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x105596c10>
          └ APIRoute(path='/options/users', name='user_optins', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1055c7910>
                     └ <function get_request_handler.<locals>.app at 0x105596b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104b88790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x10547a640>}
                 │         └ <function user_optins at 0x10533eca0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1055987f0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/options.py", line 16, in user_optins
    user_optins = await options_crud.query_user_optins(db)
                        │                              └ <providers.psql_provider.DB object at 0x10547a640>
                        └ <module 'app.crud.options_crud' from '/Users/ryu/loan-ledger-if/app/crud/options_crud.py'>

AttributeError: module 'app.crud.options_crud' has no attribute 'query_user_optins'

2023-12-13 11:50:41.914 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63851 - "GET /options/users HTTP/1.1" 500
2023-12-13 11:50:41.916 | ERROR    | app.endpoints.options:user_optins:23 - module 'app.crud.options_crud' has no attribute 'query_user_optins'Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1030099d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102d87430>
           └ <SpawnProcess name='SpawnProcess-38' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102d7aa60>
    └ <SpawnProcess name='SpawnProcess-38' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1030171f0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-38' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-38' parent=92396 started>
    │    └ <function subprocess_started at 0x105460a60>
    └ <SpawnProcess name='SpawnProcess-38' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x103017310>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x105460040>
           │       │   └ <uvicorn.server.Server object at 0x103017310>
           │       └ <function run at 0x103047820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1053f7f40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1054ae910>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10618d040>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10618d0...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10558ef70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1054ae910>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10618d040>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10618d0...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10618d040>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10618d0...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10559d670>
          └ <fastapi.applications.FastAPI object at 0x10558ef70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10558a940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10618d0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10559d610>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10559d670>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10558a940>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10618d0...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x104c43af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10559d610>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10559d610>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10618d0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10559d5e0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10559d610>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10558a8b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10618d0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10559d580>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10559d5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10558a8b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10618d0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10558eac0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10559d580>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10558a8b0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10618d0...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x104b99af0>
          └ APIRoute(path='/options/users', name='user_optins', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10558a8b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10618d0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x105596c10>
          └ APIRoute(path='/options/users', name='user_optins', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10618d220>
                     └ <function get_request_handler.<locals>.app at 0x105596b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104b88790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x10547a640>}
                 │         └ <function user_optins at 0x10533eca0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1055987f0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/options.py", line 16, in user_optins
    user_optins = await options_crud.query_user_optins(db)
                        │                              └ <providers.psql_provider.DB object at 0x10547a640>
                        └ <module 'app.crud.options_crud' from '/Users/ryu/loan-ledger-if/app/crud/options_crud.py'>

AttributeError: module 'app.crud.options_crud' has no attribute 'query_user_optins'

2023-12-13 11:50:41.920 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63854 - "GET /options/users HTTP/1.1" 500
2023-12-13 11:50:41.923 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 11:50:41.924 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:50:41.926 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63850 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 11:50:41.926 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:50:41.958 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 11:50:41.962 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:50:41.963 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63854 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 11:50:41.980 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:50:41.995 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63852 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 11:50:42.005 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:50:42.006 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:50:42.007 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:50:42.011 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:50:42.015 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63854 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 11:52:28.113 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 11:52:28.216 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 11:52:28.217 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 11:52:28.217 | INFO     | uvicorn.server:serve:86 - Finished server process [94166]
2023-12-13 11:52:28.633 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 11:52:41.918 | ERROR    | app.endpoints.options:user_optins:23 - module 'app.crud.options_crud' has no attribute 'query_user_optins'Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x102be99d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102967430>
           └ <SpawnProcess name='SpawnProcess-39' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10295aa60>
    └ <SpawnProcess name='SpawnProcess-39' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102bf71f0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-39' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-39' parent=92396 started>
    │    └ <function subprocess_started at 0x105040a60>
    └ <SpawnProcess name='SpawnProcess-39' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102bf7310>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x105040040>
           │       │   └ <uvicorn.server.Server object at 0x102bf7310>
           │       └ <function run at 0x102c27820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x104fd7f40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10508e7c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1052b83d0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1052b83...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10516ef40>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10508e7c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1052b83d0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1052b83...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1052b83d0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1052b83...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10517d640>
          └ <fastapi.applications.FastAPI object at 0x10516ef40>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10516a9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1052b83...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10517d5e0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10517d640>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10516a9d0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1052b83...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x104823af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10517d5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10517d5e0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1052b83...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10517d5b0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10517d5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10516a820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1052b83...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10517d550>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10517d5b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10516a820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1052b83...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10516eca0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10517d550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10516a820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1052b83...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x104779af0>
          └ APIRoute(path='/options/users', name='user_optins', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10516a820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1052b83...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x105176c10>
          └ APIRoute(path='/options/users', name='user_optins', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1052b88e0>
                     └ <function get_request_handler.<locals>.app at 0x105176b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104768790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x10505a610>}
                 │         └ <function user_optins at 0x104f1fca0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1051787c0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/options.py", line 16, in user_optins
    user_optins = await options_crud.query_user_optins(db)
                        │                              └ <providers.psql_provider.DB object at 0x10505a610>
                        └ <module 'app.crud.options_crud' from '/Users/ryu/loan-ledger-if/app/crud/options_crud.py'>

AttributeError: module 'app.crud.options_crud' has no attribute 'query_user_optins'

2023-12-13 11:52:41.934 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64352 - "GET /options/users HTTP/1.1" 500
2023-12-13 11:52:41.936 | ERROR    | app.endpoints.options:user_optins:23 - module 'app.crud.options_crud' has no attribute 'query_user_optins'Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x102be99d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102967430>
           └ <SpawnProcess name='SpawnProcess-39' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10295aa60>
    └ <SpawnProcess name='SpawnProcess-39' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102bf71f0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-39' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-39' parent=92396 started>
    │    └ <function subprocess_started at 0x105040a60>
    └ <SpawnProcess name='SpawnProcess-39' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102bf7310>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x105040040>
           │       │   └ <uvicorn.server.Server object at 0x102bf7310>
           │       └ <function run at 0x102c27820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x104fd7f40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10508e7c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105416040>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1054160...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10516ef40>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10508e7c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105416040>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1054160...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105416040>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1054160...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10517d640>
          └ <fastapi.applications.FastAPI object at 0x10516ef40>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10516a940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1054160...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10517d5e0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10517d640>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10516a940>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1054160...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x104823af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10517d5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10517d5e0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1054160...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10517d5b0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10517d5e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10516a8b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1054160...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10517d550>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10517d5b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10516a8b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1054160...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10516eca0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10517d550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10516a8b0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1054160...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x104779af0>
          └ APIRoute(path='/options/users', name='user_optins', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10516a8b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1054160...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x105176c10>
          └ APIRoute(path='/options/users', name='user_optins', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x105416220>
                     └ <function get_request_handler.<locals>.app at 0x105176b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104768790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x10505a610>}
                 │         └ <function user_optins at 0x104f1fca0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1051787c0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/options.py", line 16, in user_optins
    user_optins = await options_crud.query_user_optins(db)
                        │                              └ <providers.psql_provider.DB object at 0x10505a610>
                        └ <module 'app.crud.options_crud' from '/Users/ryu/loan-ledger-if/app/crud/options_crud.py'>

AttributeError: module 'app.crud.options_crud' has no attribute 'query_user_optins'

2023-12-13 11:52:41.942 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64355 - "GET /options/users HTTP/1.1" 500
2023-12-13 11:52:41.945 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:52:41.945 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 11:52:41.949 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64351 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 11:52:41.949 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:52:41.955 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:52:41.955 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 11:52:41.960 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64355 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 11:52:41.964 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:52:41.968 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64353 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 11:52:41.977 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:52:41.978 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:52:41.980 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:52:41.984 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:52:41.986 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64355 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 11:53:34.075 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 11:53:34.177 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 11:53:34.177 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 11:53:34.177 | INFO     | uvicorn.server:serve:86 - Finished server process [94199]
2023-12-13 11:53:34.570 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 11:53:39.420 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 11:53:39.522 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 11:53:39.522 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 11:53:39.522 | INFO     | uvicorn.server:serve:86 - Finished server process [94225]
2023-12-13 11:53:39.926 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 11:53:46.095 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 11:53:46.195 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 11:53:46.196 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 11:53:46.196 | INFO     | uvicorn.server:serve:86 - Finished server process [94233]
2023-12-13 11:53:46.580 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 11:53:54.660 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 11:53:54.661 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 11:53:54.667 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64665 - "GET /options/users HTTP/1.1" 200
2023-12-13 11:53:54.668 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:53:54.672 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64664 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 11:53:54.684 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 11:53:54.688 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 11:53:54.692 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64670 - "GET /options/users HTTP/1.1" 200
2023-12-13 11:53:54.693 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64665 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 11:53:54.695 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:53:54.700 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:53:54.704 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:53:54.707 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64666 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 11:53:54.727 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:53:54.731 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:53:54.733 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:53:54.735 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:53:54.738 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64665 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 11:55:24.936 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 11:55:24.936 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 11:55:24.937 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:55:24.939 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65048 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 11:55:24.939 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65049 - "GET /options/users HTTP/1.1" 200
2023-12-13 11:55:24.970 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 11:55:24.973 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:55:24.974 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 11:55:24.978 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65048 - "GET /options/users HTTP/1.1" 200
2023-12-13 11:55:24.979 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65054 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 11:55:24.980 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:55:24.984 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:55:24.987 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65050 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 11:55:24.998 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:55:25.001 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:55:25.003 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:55:25.008 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:55:25.012 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65054 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 11:55:45.092 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65149 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 11:55:45.097 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65151 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 11:55:45.112 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 11:55:45.120 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65147 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 11:55:45.124 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:55:45.135 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 11:55:45.148 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 11:55:45.149 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65148 - "GET /options/users HTTP/1.1" 200
2023-12-13 11:55:45.151 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 11:55:45.152 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65149 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 11:55:45.153 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65151 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 11:55:45.155 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 11:55:45.155 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:55:45.157 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 11:55:45.157 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65147 - "GET /options/users HTTP/1.1" 200
2023-12-13 11:55:45.162 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65148 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 11:55:45.167 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:55:45.171 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:55:45.173 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65150 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 11:55:45.178 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:55:45.180 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:55:45.181 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:55:45.184 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 11:55:45.186 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65148 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 12:00:36.345 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49986 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 12:00:36.345 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49987 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 12:00:36.346 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49986 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 12:00:36.347 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49989 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 12:00:36.348 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49990 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 12:00:36.349 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49991 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 12:00:36.373 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 12:00:36.374 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:00:36.379 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 12:00:36.380 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49988 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 12:00:36.383 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 12:00:36.383 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49987 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 12:00:36.392 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49986 - "GET /options/users HTTP/1.1" 200
2023-12-13 12:00:36.394 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:00:36.396 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 12:00:36.396 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 12:00:36.398 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 12:00:36.398 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49991 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 12:00:36.398 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49988 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 12:00:36.400 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49987 - "GET /options/users HTTP/1.1" 200
2023-12-13 12:00:36.403 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:00:36.411 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:00:36.414 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49989 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 12:00:36.419 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:00:36.421 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:00:36.422 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:00:36.426 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:00:36.428 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49987 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 12:01:53.515 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 12:01:53.518 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 12:01:53.521 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50324 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 12:01:53.533 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:01:53.533 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 12:01:53.534 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50325 - "GET /options/users HTTP/1.1" 200
2023-12-13 12:01:53.543 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 12:01:53.550 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50326 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 12:01:53.582 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50332 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 12:01:53.589 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 12:01:53.591 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 12:01:53.594 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:01:53.595 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50324 - "GET /options/users HTTP/1.1" 200
2023-12-13 12:01:53.596 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50325 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 12:01:53.598 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:01:53.602 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:01:53.605 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50327 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 12:01:53.612 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:01:53.614 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:01:53.616 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:01:53.621 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:01:53.624 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50325 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 12:02:38.299 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 12:02:38.302 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 12:02:38.305 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50525 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 12:02:38.316 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50526 - "GET /options/users HTTP/1.1" 200
2023-12-13 12:02:38.320 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 12:02:38.321 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:02:38.324 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 12:02:38.324 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 12:02:38.327 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50527 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 12:02:38.330 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50533 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 12:02:38.330 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50525 - "GET /options/users HTTP/1.1" 200
2023-12-13 12:02:38.331 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:02:38.332 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 12:02:38.334 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50526 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 12:02:38.336 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:02:38.353 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:02:38.358 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50528 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 12:02:38.371 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:02:38.372 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:02:38.373 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:02:38.375 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:02:38.376 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50526 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 12:33:26.123 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56532 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 12:33:26.124 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56533 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 12:33:26.125 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56532 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 12:33:26.126 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56534 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 12:33:26.126 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56535 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 12:33:26.126 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56533 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 12:33:26.127 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56536 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 12:33:26.129 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56537 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 12:33:26.141 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 12:33:26.141 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 12:33:26.141 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 12:33:26.144 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:33:26.145 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56534 - "GET /options/users HTTP/1.1" 200
2023-12-13 12:33:26.146 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56535 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 12:33:26.148 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56532 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 12:33:26.170 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 12:33:26.176 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56537 - "GET /options/users HTTP/1.1" 200
2023-12-13 12:33:26.178 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 12:33:26.179 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 12:33:26.182 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:33:26.183 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56534 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 12:33:26.186 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56535 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 12:33:26.189 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:33:26.198 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:33:26.202 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56536 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 12:33:26.209 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:33:26.214 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:33:26.217 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:33:26.224 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 12:33:26.228 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56535 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 12:36:41.623 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 12:36:41.725 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 12:36:41.725 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 12:36:41.725 | INFO     | uvicorn.server:serve:86 - Finished server process [94243]
2023-12-13 12:36:42.144 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 12:37:54.249 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 12:37:54.352 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 12:37:54.353 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 12:37:54.353 | INFO     | uvicorn.server:serve:86 - Finished server process [94880]
2023-12-13 12:37:54.746 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 12:42:39.427 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 12:42:39.529 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 12:42:39.529 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 12:42:39.529 | INFO     | uvicorn.server:serve:86 - Finished server process [94901]
2023-12-13 12:42:39.948 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 12:44:15.829 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 12:44:15.931 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 12:44:15.931 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 12:44:15.932 | INFO     | uvicorn.server:serve:86 - Finished server process [94959]
2023-12-13 12:44:16.359 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 13:29:02.876 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 13:29:02.980 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 13:29:02.981 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 13:29:02.981 | INFO     | uvicorn.server:serve:86 - Finished server process [94979]
2023-12-13 13:29:03.400 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 13:29:45.483 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 13:29:45.584 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 13:29:45.585 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 13:29:45.585 | INFO     | uvicorn.server:serve:86 - Finished server process [95342]
2023-12-13 13:29:45.982 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 13:30:03.473 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 13:30:03.575 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 13:30:03.576 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 13:30:03.576 | INFO     | uvicorn.server:serve:86 - Finished server process [95360]
2023-12-13 13:30:03.948 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 13:30:35.199 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 13:30:35.301 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 13:30:35.301 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 13:30:35.302 | INFO     | uvicorn.server:serve:86 - Finished server process [95370]
2023-12-13 13:30:35.694 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 13:30:40.144 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 13:30:40.245 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 13:30:40.246 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 13:30:40.246 | INFO     | uvicorn.server:serve:86 - Finished server process [95382]
2023-12-13 13:30:40.646 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 13:31:09.161 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 13:31:09.262 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 13:31:09.263 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 13:31:09.263 | INFO     | uvicorn.server:serve:86 - Finished server process [95387]
2023-12-13 13:31:09.643 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 13:35:36.986 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 13:35:37.088 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 13:35:37.088 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 13:35:37.089 | INFO     | uvicorn.server:serve:86 - Finished server process [95397]
2023-12-13 13:35:37.478 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 13:35:43.848 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 13:35:43.950 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 13:35:43.951 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 13:35:43.951 | INFO     | uvicorn.server:serve:86 - Finished server process [95442]
2023-12-13 13:35:44.341 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 13:35:56.470 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 13:35:56.572 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 13:35:56.574 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 13:35:56.574 | INFO     | uvicorn.server:serve:86 - Finished server process [95451]
2023-12-13 13:35:56.973 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 13:36:15.577 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 13:36:15.679 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 13:36:15.679 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 13:36:15.680 | INFO     | uvicorn.server:serve:86 - Finished server process [95471]
2023-12-13 13:36:16.072 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 13:38:18.527 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50689 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 13:38:18.527 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50690 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 13:38:18.528 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50691 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 13:38:18.528 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50689 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 13:38:18.529 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50692 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 13:38:18.529 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50691 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 13:38:18.532 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50693 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 13:38:18.536 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50694 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 13:38:18.548 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 13:38:18.550 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 13:38:18.558 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50692 - "GET /options/users HTTP/1.1" 200
2023-12-13 13:38:18.561 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:38:18.561 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50690 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 13:38:18.562 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 13:38:18.570 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50689 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 13:38:18.572 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 13:38:18.573 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 13:38:18.574 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:38:18.577 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50692 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 13:38:18.580 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50694 - "GET /options/users HTTP/1.1" 200
2023-12-13 13:38:18.582 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 13:38:18.590 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50690 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 13:38:18.594 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:38:18.600 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:38:18.603 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50691 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 13:38:18.610 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:38:18.611 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:38:18.613 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:38:18.616 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:38:18.619 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50690 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 13:39:18.896 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50945 - "OPTIONS /org HTTP/1.1" 200
2023-12-13 13:39:18.899 | ERROR    | app.endpoints.orgs:new_org:40 - query_orgs() takes 1 positional argument but 2 were givenTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1049119d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10468f430>
           └ <SpawnProcess name='SpawnProcess-56' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104682a60>
    └ <SpawnProcess name='SpawnProcess-56' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10491f1f0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-56' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-56' parent=92396 started>
    │    └ <function subprocess_started at 0x108383ee0>
    └ <SpawnProcess name='SpawnProcess-56' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10491f310>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1083834c0>
           │       │   └ <uvicorn.server.Server object at 0x10491f310>
           │       └ <function run at 0x10494f820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1083871c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1083d62b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1085fda60>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1085fda...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1084b0a30>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1083d62b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1085fda60>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1085fda...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1085fda60>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1085fda...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1084bedc0>
          └ <fastapi.applications.FastAPI object at 0x1084b0a30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1085e9700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1085fda...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1084bed60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1084bedc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'content-length': '724', 'accept': 'application/json, text/plain...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1085e9700>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1085fda...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x107a37af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1084bed60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1084bed60>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1085fda...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1084bed30>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1084bed60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1085e9c10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1085fda...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1084becd0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1084bed30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1085e9c10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1085fda...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1084b0b50>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1084becd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1085e9c10>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1085fda...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10787daf0>
          └ APIRoute(path='/org', name='new_org', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1085e9c10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1085fda...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1084b1f70>
          └ APIRoute(path='/org', name='new_org', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1085fd5b0>
                     └ <function get_request_handler.<locals>.app at 0x1084b1ee0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10783c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1083a5100>, 'data': {'p_id': '', 'name': '〇〇株式会社（本社）', 'type': '01', 'user_id'...
                 │         └ <function new_org at 0x10812fee0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1084b89d0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 34, in new_org
    await orgs_crud.query_orgs(db, data)
          │         │          │   └ {'p_id': '', 'name': '〇〇株式会社（本社）', 'type': '01', 'user_id': 'e705335d-0234-44a9-96c7-d54115b1d5a1', 'role_type': '01', 'role_...
          │         │          └ <providers.psql_provider.DB object at 0x1083a5100>
          │         └ <function query_orgs at 0x108132a60>
          └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

TypeError: query_orgs() takes 1 positional argument but 2 were given

2023-12-13 13:39:18.922 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50945 - "POST /org HTTP/1.1" 500
2023-12-13 13:40:16.009 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 13:40:16.110 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 13:40:16.111 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 13:40:16.111 | INFO     | uvicorn.server:serve:86 - Finished server process [95480]
2023-12-13 13:40:16.501 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 13:41:00.942 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO orgs (p_id, type, name)
    VALUES (
        null,
        '01',
        '〇〇株式会社（本社）'
    )
    RETURNING id;
    
2023-12-13 13:41:00.947 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO roles (type, name)
    VALUES (
        '01',
        '本社管理者'
    )
    RETURNING id;
    
2023-12-13 13:41:00.952 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_org_rels (user_id, org_id)
    VALUES (
        'e705335d-0234-44a9-96c7-d54115b1d5a1',
        '738fe9d1-780f-4751-bf74-29a348922c74'
    )
    
2023-12-13 13:41:00.958 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_role_rels (user_id, role_id)
    VALUES (
        'e705335d-0234-44a9-96c7-d54115b1d5a1',
        '60ff600f-3319-4254-b16d-27b199872019'
    )
    
2023-12-13 13:41:00.963 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO org_role_rels (org_id, role_id)
    VALUES (
        '738fe9d1-780f-4751-bf74-29a348922c74',
        '60ff600f-3319-4254-b16d-27b199872019'
    )
    
2023-12-13 13:41:00.968 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO org_role_rels (org_id, role_id)
        VALUES (
            '60ff600f-3319-4254-b16d-27b199872019',
            '8f63e587-b802-4cfd-8ead-d3423237b054'
        )
        
2023-12-13 13:41:00.971 | ERROR    | app.endpoints.orgs:new_org:40 - insert or update on table "org_role_rels" violates foreign key constraint "org_role_rel_fk_org_id"
DETAIL:  Key (org_id)=(60ff600f-3319-4254-b16d-27b199872019) is not present in table "orgs".Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1030359d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102db3430>
           └ <SpawnProcess name='SpawnProcess-57' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102da6a60>
    └ <SpawnProcess name='SpawnProcess-57' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1030431f0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-57' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-57' parent=92396 started>
    │    └ <function subprocess_started at 0x10548fee0>
    └ <SpawnProcess name='SpawnProcess-57' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x103043310>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x10548f4c0>
           │       │   └ <uvicorn.server.Server object at 0x103043310>
           │       └ <function run at 0x103073820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1054931c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1054e22b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1055c4e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1055c4e...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1055bea30>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1054e22b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1055c4e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1055c4e...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1055c4e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1055c4e...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1055cadc0>
          └ <fastapi.applications.FastAPI object at 0x1055bea30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1055b4a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1055c4e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1055cad60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1055cadc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'content-length': '724', 'accept': 'application/json, text/plain...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1055b4a60>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1055c4e...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x104c6faf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1055cad60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1055cad60>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1055c4e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1055cad30>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1055cad60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105055700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1055c4e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1055cacd0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1055cad30>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105055700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1055c4e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1055beb50>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1055cacd0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105055700>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1055c4e...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x104bc5af0>
          └ APIRoute(path='/org', name='new_org', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105055700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1055c4e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1055c3f70>
          └ APIRoute(path='/org', name='new_org', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1056f2100>
                     └ <function get_request_handler.<locals>.app at 0x1055c3ee0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104bb4790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1054b1100>, 'data': {'p_id': '', 'name': '〇〇株式会社（本社）', 'type': '01', 'user_id'...
                 │         └ <function new_org at 0x105368ee0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1055c49d0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 34, in new_org
    await orgs_crud.insert_org(db, data)
          │         │          │   └ {'p_id': '', 'name': '〇〇株式会社（本社）', 'type': '01', 'user_id': 'e705335d-0234-44a9-96c7-d54115b1d5a1', 'role_type': '01', 'role_...
          │         │          └ <providers.psql_provider.DB object at 0x1054b1100>
          │         └ <function insert_org at 0x10536bb80>
          └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 80, in insert_org
    await db.execute(sql)
          │  │       └ "\n        INSERT INTO org_role_rels (org_id, role_id)\n        VALUES (\n            '60ff600f-3319-4254-b16d-27b199872019',...
          │  └ <function DB.execute at 0x105075ee0>
          └ <providers.psql_provider.DB object at 0x1054b1100>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 58, in execute
    await con.execute(query)
          │   │       └ "\n        INSERT INTO org_role_rels (org_id, role_id)\n        VALUES (\n            '60ff600f-3319-4254-b16d-27b199872019',...
          │   └ <function Connection.execute at 0x104dc6f70>
          └ <PoolConnectionProxy [released] 0x1056f2700>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
                   │    │               │      └ None
                   │    │               └ "\n        INSERT INTO org_role_rels (org_id, role_id)\n        VALUES (\n            '60ff600f-3319-4254-b16d-27b199872019',...
                   │    └ <member '_protocol' of 'Connection' objects>
                   └ <asyncpg.connection.Connection object at 0x1056e86d0>
  File "asyncpg/protocol/protocol.pyx", line 374, in query
    return await waiter

asyncpg.exceptions.ForeignKeyViolationError: insert or update on table "org_role_rels" violates foreign key constraint "org_role_rel_fk_org_id"
DETAIL:  Key (org_id)=(60ff600f-3319-4254-b16d-27b199872019) is not present in table "orgs".

2023-12-13 13:41:00.997 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51365 - "POST /org HTTP/1.1" 500
2023-12-13 13:46:35.635 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 13:46:35.737 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 13:46:35.737 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 13:46:35.737 | INFO     | uvicorn.server:serve:86 - Finished server process [95569]
2023-12-13 13:46:36.133 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 13:48:07.421 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO orgs (p_id, type, name)
    VALUES (
        null,
        '01',
        '〇〇株式会社（本社）'
    )
    RETURNING id;
    
2023-12-13 13:48:07.426 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO roles (type, name)
    VALUES (
        '01',
        '本社管理者'
    )
    RETURNING id;
    
2023-12-13 13:48:07.431 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_org_rels (user_id, org_id)
    VALUES (
        'e705335d-0234-44a9-96c7-d54115b1d5a1',
        'd1f9d61c-8f96-4ab8-842b-c257941daaa4'
    )
    
2023-12-13 13:48:07.436 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_role_rels (user_id, role_id)
    VALUES (
        'e705335d-0234-44a9-96c7-d54115b1d5a1',
        '72a8ae0a-d730-44e9-90c6-8488cd42b3ac'
    )
    
2023-12-13 13:48:07.449 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO org_role_rels (org_id, role_id)
    VALUES (
        'd1f9d61c-8f96-4ab8-842b-c257941daaa4',
        '72a8ae0a-d730-44e9-90c6-8488cd42b3ac'
    )
    
2023-12-13 13:48:07.458 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '72a8ae0a-d730-44e9-90c6-8488cd42b3ac',
            '8f63e587-b802-4cfd-8ead-d3423237b054'
        )
        
2023-12-13 13:48:07.461 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '72a8ae0a-d730-44e9-90c6-8488cd42b3ac',
            '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
        )
        
2023-12-13 13:48:07.461 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '72a8ae0a-d730-44e9-90c6-8488cd42b3ac',
            '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
        )
        
2023-12-13 13:48:07.462 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '72a8ae0a-d730-44e9-90c6-8488cd42b3ac',
            '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
        )
        
2023-12-13 13:48:07.462 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '72a8ae0a-d730-44e9-90c6-8488cd42b3ac',
            'dd96b563-2476-4904-a880-a2cffe1ea0ac'
        )
        
2023-12-13 13:48:07.463 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '72a8ae0a-d730-44e9-90c6-8488cd42b3ac',
            '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
        )
        
2023-12-13 13:48:07.464 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '72a8ae0a-d730-44e9-90c6-8488cd42b3ac',
            '2ca11194-6079-41e8-8b26-275aa42848fa'
        )
        
2023-12-13 13:48:07.464 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '72a8ae0a-d730-44e9-90c6-8488cd42b3ac',
            '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
        )
        
2023-12-13 13:48:07.465 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '72a8ae0a-d730-44e9-90c6-8488cd42b3ac',
            '58289de8-b6b7-4629-9016-58e5d30e89ee'
        )
        
2023-12-13 13:48:07.465 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '72a8ae0a-d730-44e9-90c6-8488cd42b3ac',
            '2065f63f-5e95-432e-9545-eed26715dc49'
        )
        
2023-12-13 13:48:07.466 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '72a8ae0a-d730-44e9-90c6-8488cd42b3ac',
            '55762da2-4d17-418e-b09f-e6249645ec18'
        )
        
2023-12-13 13:48:07.466 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '72a8ae0a-d730-44e9-90c6-8488cd42b3ac',
            'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7'
        )
        
2023-12-13 13:48:07.467 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '72a8ae0a-d730-44e9-90c6-8488cd42b3ac',
            'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
        )
        
2023-12-13 13:48:07.468 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '72a8ae0a-d730-44e9-90c6-8488cd42b3ac',
            'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
        )
        
2023-12-13 13:48:07.469 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53148 - "POST /org HTTP/1.1" 200
2023-12-13 13:48:08.011 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53148 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 13:48:08.011 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53152 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 13:48:08.018 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 13:48:08.020 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53148 - "GET /orgs HTTP/1.1" 200
2023-12-13 13:48:08.026 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 13:48:08.030 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53152 - "GET /orgs HTTP/1.1" 200
2023-12-13 13:49:03.983 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53388 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 13:49:03.984 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53389 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 13:49:03.995 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 13:49:03.996 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:49:03.999 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:49:04.001 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53387 - "GET /orgs HTTP/1.1" 200
2023-12-13 13:49:04.022 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 13:49:04.025 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53389 - "GET /orgs HTTP/1.1" 200
2023-12-13 13:49:04.026 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:49:04.039 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:49:04.050 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53388 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 13:49:04.061 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:49:04.063 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:49:04.065 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:49:04.070 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:49:04.074 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53389 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 13:52:57.687 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 13:52:57.788 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 13:52:57.789 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 13:52:57.789 | INFO     | uvicorn.server:serve:86 - Finished server process [95640]
2023-12-13 13:52:58.174 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 13:53:37.318 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 13:53:37.420 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 13:53:37.421 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 13:53:37.421 | INFO     | uvicorn.server:serve:86 - Finished server process [95736]
2023-12-13 13:53:37.791 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 13:55:08.842 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:55:08.847 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 13:55:08.857 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54892 - "GET /orgs HTTP/1.1" 200
2023-12-13 13:55:08.864 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:55:08.872 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 13:55:08.877 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54897 - "GET /orgs HTTP/1.1" 200
2023-12-13 13:55:08.887 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:55:08.901 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:55:08.906 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54893 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 13:55:08.914 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:55:08.917 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:55:08.921 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:55:08.926 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:55:08.931 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54897 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 13:56:37.857 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 13:56:37.857 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:56:37.859 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:56:37.861 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55274 - "GET /orgs HTTP/1.1" 200
2023-12-13 13:56:37.862 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:56:37.872 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 13:56:37.876 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55278 - "GET /orgs HTTP/1.1" 200
2023-12-13 13:56:37.877 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:56:37.883 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55275 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 13:56:37.891 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:56:37.893 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:56:37.894 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:56:37.898 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:56:37.900 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55278 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 13:56:44.639 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 13:56:44.639 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:56:44.641 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:56:44.642 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55318 - "GET /orgs HTTP/1.1" 200
2023-12-13 13:56:44.664 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:56:44.664 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 13:56:44.667 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55322 - "GET /orgs HTTP/1.1" 200
2023-12-13 13:56:44.668 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:56:44.670 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55319 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 13:56:44.674 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:56:44.676 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:56:44.677 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:56:44.679 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 13:56:44.681 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55322 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 14:02:05.115 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56657 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 14:02:05.116 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56658 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 14:02:05.117 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56659 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 14:02:05.119 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56660 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 14:02:05.134 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 14:02:05.135 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:02:05.143 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56657 - "GET /orgs HTTP/1.1" 200
2023-12-13 14:02:05.143 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:02:05.158 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 14:02:05.176 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:02:05.181 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56660 - "GET /orgs HTTP/1.1" 200
2023-12-13 14:02:05.208 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:02:05.211 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56658 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 14:02:05.224 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:02:05.226 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:02:05.227 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:02:05.229 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:02:05.231 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56660 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 14:02:59.698 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56894 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 14:02:59.698 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56895 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 14:02:59.702 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56896 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 14:02:59.705 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56897 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 14:02:59.707 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56898 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 14:02:59.708 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56899 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 14:02:59.715 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 14:02:59.722 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56894 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 14:02:59.729 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 14:02:59.731 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 14:02:59.735 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56895 - "GET /options/users HTTP/1.1" 200
2023-12-13 14:02:59.739 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56896 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 14:02:59.744 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 14:02:59.747 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 14:02:59.747 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 14:02:59.748 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56899 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 14:02:59.750 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56895 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 14:02:59.751 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56894 - "GET /options/users HTTP/1.1" 200
2023-12-13 14:03:02.120 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 14:03:02.122 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56894 - "GET /orgs HTTP/1.1" 200
2023-12-13 14:03:02.128 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 14:03:02.131 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56895 - "GET /orgs HTTP/1.1" 200
2023-12-13 14:03:12.579 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 14:03:12.580 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 14:03:12.583 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56956 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 14:03:12.586 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56957 - "GET /options/users HTTP/1.1" 200
2023-12-13 14:03:12.592 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 14:03:12.602 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56958 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 14:03:12.605 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 14:03:12.607 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 14:03:12.616 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56956 - "GET /options/users HTTP/1.1" 200
2023-12-13 14:03:12.618 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 14:03:12.619 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56962 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 14:03:12.621 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56957 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 14:05:34.134 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57533 - "OPTIONS /user HTTP/1.1" 200
2023-12-13 14:05:34.149 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id
    FROM
        users
    WHERE
        users.email = '002@demo.com';
    
2023-12-13 14:05:34.154 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO users
        (
            last_name,
            first_name,
            email,
            password
        )
    VALUES
        (
            '山田',
            '二郎',
            '002@demo.com',
            '12345678'
        )
    RETURNING id;
    
2023-12-13 14:05:34.159 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57533 - "POST /user HTTP/1.1" 200
2023-12-13 14:05:34.172 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 14:05:34.176 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57533 - "GET /options/users HTTP/1.1" 200
2023-12-13 14:06:21.730 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57728 - "OPTIONS /org HTTP/1.1" 200
2023-12-13 14:06:21.741 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO orgs (p_id, type, name)
    VALUES (
        'd1f9d61c-8f96-4ab8-842b-c257941daaa4',
        '02',
        '東京支店'
    )
    RETURNING id;
    
2023-12-13 14:06:21.744 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO roles (type, name)
    VALUES (
        '02',
        '支店管理者'
    )
    RETURNING id;
    
2023-12-13 14:06:21.748 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_org_rels (user_id, org_id)
    VALUES (
        'b01dabc8-cf56-4e10-be38-114fab7ec5c7',
        '31fd995e-4712-4e9c-a5b9-058174724708'
    )
    
2023-12-13 14:06:21.753 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_role_rels (user_id, role_id)
    VALUES (
        'b01dabc8-cf56-4e10-be38-114fab7ec5c7',
        '8999ee5f-3f16-42bc-a31b-f56900b0e1d5'
    )
    
2023-12-13 14:06:21.757 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO org_role_rels (org_id, role_id)
    VALUES (
        '31fd995e-4712-4e9c-a5b9-058174724708',
        '8999ee5f-3f16-42bc-a31b-f56900b0e1d5'
    )
    
2023-12-13 14:06:21.759 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '8999ee5f-3f16-42bc-a31b-f56900b0e1d5',
            '8f63e587-b802-4cfd-8ead-d3423237b054'
        )
        
2023-12-13 14:06:21.762 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '8999ee5f-3f16-42bc-a31b-f56900b0e1d5',
            '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
        )
        
2023-12-13 14:06:21.763 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '8999ee5f-3f16-42bc-a31b-f56900b0e1d5',
            '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
        )
        
2023-12-13 14:06:21.767 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '8999ee5f-3f16-42bc-a31b-f56900b0e1d5',
            '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
        )
        
2023-12-13 14:06:21.769 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '8999ee5f-3f16-42bc-a31b-f56900b0e1d5',
            'dd96b563-2476-4904-a880-a2cffe1ea0ac'
        )
        
2023-12-13 14:06:21.770 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '8999ee5f-3f16-42bc-a31b-f56900b0e1d5',
            '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
        )
        
2023-12-13 14:06:21.773 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '8999ee5f-3f16-42bc-a31b-f56900b0e1d5',
            '2ca11194-6079-41e8-8b26-275aa42848fa'
        )
        
2023-12-13 14:06:21.775 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '8999ee5f-3f16-42bc-a31b-f56900b0e1d5',
            '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
        )
        
2023-12-13 14:06:21.775 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '8999ee5f-3f16-42bc-a31b-f56900b0e1d5',
            '58289de8-b6b7-4629-9016-58e5d30e89ee'
        )
        
2023-12-13 14:06:21.778 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57728 - "POST /org HTTP/1.1" 200
2023-12-13 14:06:21.956 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 14:06:21.959 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57728 - "GET /orgs HTTP/1.1" 200
2023-12-13 14:06:21.965 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 14:06:21.968 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57732 - "GET /orgs HTTP/1.1" 200
2023-12-13 14:06:38.130 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 14:06:38.135 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:06:38.139 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57805 - "GET /orgs HTTP/1.1" 200
2023-12-13 14:06:38.153 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:06:38.154 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 14:06:38.159 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57805 - "GET /orgs HTTP/1.1" 200
2023-12-13 14:06:38.160 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:06:38.167 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:06:38.171 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57806 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 14:06:38.189 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:06:38.193 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:06:38.195 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:06:38.204 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:06:38.209 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57805 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 14:11:35.839 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 14:11:35.842 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:11:35.843 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:11:35.844 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59028 - "GET /orgs HTTP/1.1" 200
2023-12-13 14:11:35.851 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 14:11:35.852 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:11:35.854 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59032 - "GET /orgs HTTP/1.1" 200
2023-12-13 14:11:35.858 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:11:35.862 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59029 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 14:11:35.871 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:11:35.876 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:11:35.881 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:11:35.885 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:11:35.902 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59032 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 14:12:32.926 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59268 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 14:12:32.927 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59269 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 14:12:32.927 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59270 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 14:12:32.930 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59271 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 14:12:32.940 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:12:32.943 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 14:12:32.959 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59268 - "GET /orgs HTTP/1.1" 200
2023-12-13 14:12:32.965 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:12:32.972 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 14:12:32.978 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59271 - "GET /orgs HTTP/1.1" 200
2023-12-13 14:12:32.981 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:12:32.989 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:12:32.994 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59269 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 14:12:33.014 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:12:33.017 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:12:33.022 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:12:33.029 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:12:33.033 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59271 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 14:15:46.361 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 14:15:46.369 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60075 - "GET /orgs HTTP/1.1" 200
2023-12-13 14:15:46.369 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:15:46.388 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 14:15:46.391 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:15:46.392 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60079 - "GET /orgs HTTP/1.1" 200
2023-12-13 14:15:46.394 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:15:46.398 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:15:46.401 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60076 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 14:15:46.419 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:15:46.422 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:15:46.425 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:15:46.430 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:15:46.435 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60079 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 14:15:50.767 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 14:15:50.769 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60079 - "GET /orgs HTTP/1.1" 200
2023-12-13 14:15:50.775 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 14:15:50.779 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60076 - "GET /orgs HTTP/1.1" 200
2023-12-13 14:16:06.755 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:16:06.759 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:16:06.765 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:16:06.769 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:16:06.771 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60175 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 14:16:06.777 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:16:06.778 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:16:06.780 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:16:06.784 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:16:06.786 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60175 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 14:16:12.999 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60178 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 14:16:13.001 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60207 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 14:16:13.001 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60208 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 14:16:13.002 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60178 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 14:16:13.003 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60210 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 14:16:13.004 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60211 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 14:16:13.012 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:16:13.020 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 14:16:13.033 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 14:16:13.033 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 14:16:13.034 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60207 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 14:16:13.035 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:16:13.035 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60178 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 14:16:13.036 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60208 - "GET /options/users HTTP/1.1" 200
2023-12-13 14:16:13.039 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 14:16:13.039 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 14:16:13.041 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 14:16:13.042 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60211 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 14:16:13.042 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:16:13.043 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60207 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 14:16:13.044 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60208 - "GET /options/users HTTP/1.1" 200
2023-12-13 14:16:13.046 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:16:13.048 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60209 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 14:16:13.051 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:16:13.053 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:16:13.055 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:16:13.057 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 14:16:13.059 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60208 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 14:16:51.329 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 14:16:51.333 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60377 - "GET /orgs HTTP/1.1" 200
2023-12-13 14:16:51.343 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 14:16:51.347 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60379 - "GET /orgs HTTP/1.1" 200
2023-12-13 14:16:52.954 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 14:16:52.955 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 14:16:52.959 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60377 - "GET /options/users HTTP/1.1" 200
2023-12-13 14:16:52.959 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 14:16:52.959 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60379 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 14:16:52.962 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60389 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 14:16:52.969 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 14:16:52.970 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 14:16:52.972 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 14:16:52.972 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60393 - "GET /options/users HTTP/1.1" 200
2023-12-13 14:16:52.972 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60379 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 14:16:52.973 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60377 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 14:44:02.673 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 14:44:02.776 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 14:44:02.776 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 14:44:02.777 | INFO     | uvicorn.server:serve:86 - Finished server process [95751]
2023-12-13 14:44:03.175 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 14:44:27.449 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 14:44:27.551 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 14:44:27.552 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 14:44:27.552 | INFO     | uvicorn.server:serve:86 - Finished server process [96567]
2023-12-13 14:44:27.948 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 14:45:50.714 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49935 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 14:45:50.715 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49936 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 14:45:50.721 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 14:45:50.724 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49936 - "GET /orgs HTTP/1.1" 200
2023-12-13 14:45:50.728 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 14:45:50.732 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49935 - "GET /orgs HTTP/1.1" 200
2023-12-13 14:45:52.395 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49935 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 14:45:52.396 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49936 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 14:45:52.396 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49948 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 14:45:52.396 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49949 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 14:45:52.396 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49950 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 14:45:52.396 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49951 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 14:45:52.403 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 14:45:52.403 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 14:45:52.407 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 14:45:52.409 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49948 - "GET /options/users HTTP/1.1" 200
2023-12-13 14:45:52.410 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49936 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 14:45:52.411 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49949 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 14:45:52.418 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 14:45:52.425 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 14:45:52.427 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49951 - "GET /options/users HTTP/1.1" 200
2023-12-13 14:45:52.428 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49948 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 14:45:52.428 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 14:45:52.430 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49936 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 14:51:10.125 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 14:51:10.227 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 14:51:10.227 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 14:51:10.228 | INFO     | uvicorn.server:serve:86 - Finished server process [96599]
2023-12-13 14:51:22.154 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 14:58:02.698 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 14:58:02.800 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 14:58:02.800 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 14:58:02.800 | INFO     | uvicorn.server:serve:86 - Finished server process [96684]
2023-12-13 14:58:03.186 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 14:58:24.826 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 14:58:24.927 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 14:58:24.928 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 14:58:24.928 | INFO     | uvicorn.server:serve:86 - Finished server process [96748]
2023-12-13 14:58:25.325 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 14:59:29.843 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 14:59:29.946 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 14:59:29.947 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 14:59:29.947 | INFO     | uvicorn.server:serve:86 - Finished server process [96762]
2023-12-13 14:59:30.362 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 14:59:58.066 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 14:59:58.167 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 14:59:58.168 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 14:59:58.168 | INFO     | uvicorn.server:serve:86 - Finished server process [96780]
2023-12-13 14:59:58.592 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 15:00:28.114 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 15:00:28.216 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 15:00:28.217 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 15:00:28.217 | INFO     | uvicorn.server:serve:86 - Finished server process [96795]
2023-12-13 15:00:28.622 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 15:00:45.478 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53586 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 15:00:45.479 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53587 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 15:00:45.486 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 15:00:45.490 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53587 - "GET /orgs HTTP/1.1" 200
2023-12-13 15:00:45.496 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 15:00:45.499 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53586 - "GET /orgs HTTP/1.1" 200
2023-12-13 15:00:57.144 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53636 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 15:00:57.144 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53637 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 15:00:57.144 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53638 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 15:00:57.144 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53639 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 15:00:57.145 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53640 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 15:00:57.145 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53641 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 15:00:57.154 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:00:57.156 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:00:57.156 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:00:57.158 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53637 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:00:57.159 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53640 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:00:57.160 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53638 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:00:57.166 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:00:57.167 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:00:57.168 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:00:57.169 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53637 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:00:57.170 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53641 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:00:57.171 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53638 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:01:11.882 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53716 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:01:11.883 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53717 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:01:11.895 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:01:11.896 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:01:11.901 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53713 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:01:11.907 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53714 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:01:11.908 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:01:11.913 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:01:11.918 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53715 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:01:11.919 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:01:11.921 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:01:11.924 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53717 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:01:11.926 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53713 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:01:11.926 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:01:11.928 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:01:11.929 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53714 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:01:11.934 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:01:11.941 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:01:11.944 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53716 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:01:11.974 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:01:11.976 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:01:11.985 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:01:11.989 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:01:11.994 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:53714 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:04:20.687 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54502 - "OPTIONS /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:04:20.691 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54507 - "OPTIONS /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:04:20.696 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:04:20.704 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:04:20.704 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54503 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:04:20.704 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        org_user_rels.user_id
    FROM
        orgs
    JION
        org_user_rels
        ON
        org_user_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:04:20.708 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:04:20.709 | ERROR    | app.endpoints.orgs:get_org:57 - syntax error at or near "org_user_rels"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100bbd9d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10093b430>
           └ <SpawnProcess name='SpawnProcess-69' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10092ea60>
    └ <SpawnProcess name='SpawnProcess-69' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100bcb1f0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-69' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-69' parent=92396 started>
    │    └ <function subprocess_started at 0x10342b280>
    └ <SpawnProcess name='SpawnProcess-69' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100bcb310>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x103416820>
           │       │   └ <uvicorn.server.Server object at 0x100bcb310>
           │       └ <function run at 0x100bfb820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10341e240>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10346cdc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103a0e910>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103a0e9...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10354b760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10346cdc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103a0e910>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103a0e9...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103a0e910>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103a0e9...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10366f5b0>
          └ <fastapi.applications.FastAPI object at 0x10354b760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10353fee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103a0e9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10366f550>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10366f5b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10353fee0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103a0e9...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x102af7af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10366f550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10366f550>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103a0e9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10366f520>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10366f550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10366b310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103a0e9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10366f4c0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10366f520>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10366b310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103a0e9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10354b880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10366f4c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10366b310>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103a0e9...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x102a4daf0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10366b310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103a0e9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103550e50>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x103a28820>
                     └ <function get_request_handler.<locals>.app at 0x103550dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x102a3c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x103432bb0>, 'org_id': '31fd995e-4712-4e9c-a5b9-058174724708'}
                 │         └ <function get_org at 0x1032f23a0>
                 └ <fastapi.dependencies.models.Dependant object at 0x103553550>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ '31fd995e-4712-4e9c-a5b9-058174724708'
                │         │         └ <providers.psql_provider.DB object at 0x103432bb0>
                │         └ <function query_org at 0x1032f2c10>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 110, in query_org
    org_basic = await db.fetch_one(sql)
                      │  │         └ "\n    SELECT\n        orgs.p_id,\n        orgs.name,\n        orgs.remark,\n        orgs.type,\n        org_user_rels.user_i...
                      │  └ <function DB.fetch_one at 0x102ffdd30>
                      └ <providers.psql_provider.DB object at 0x103432bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 31, in fetch_one
    result = await con.fetchrow(query)
                   │   │        └ "\n    SELECT\n        orgs.p_id,\n        orgs.name,\n        orgs.remark,\n        orgs.type,\n        org_user_rels.user_i...
                   │   └ <function Connection.fetchrow at 0x102d56160>
                   └ <PoolConnectionProxy [released] 0x103a1f850>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 749, in fetchrow
    data = await self._execute(
                 │    └ <function Connection._execute at 0x102d431f0>
                 └ <asyncpg.connection.Connection object at 0x103c69220>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x103c69220>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x102d435e0>
                         └ <asyncpg.connection.Connection object at 0x103c69220>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x102d41700>
                 └ <asyncpg.connection.Connection object at 0x103c69220>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x103c69220>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.PostgresSyntaxError: syntax error at or near "org_user_rels"

2023-12-13 15:04:20.719 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54502 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 500
2023-12-13 15:04:20.720 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54504 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:04:20.725 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54505 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:04:20.725 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:04:20.726 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:04:20.728 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54507 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:04:20.730 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:04:20.730 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        org_user_rels.user_id
    FROM
        orgs
    JION
        org_user_rels
        ON
        org_user_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:04:20.731 | ERROR    | app.endpoints.orgs:get_org:57 - syntax error at or near "org_user_rels"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100bbd9d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10093b430>
           └ <SpawnProcess name='SpawnProcess-69' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10092ea60>
    └ <SpawnProcess name='SpawnProcess-69' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100bcb1f0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-69' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-69' parent=92396 started>
    │    └ <function subprocess_started at 0x10342b280>
    └ <SpawnProcess name='SpawnProcess-69' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100bcb310>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x103416820>
           │       │   └ <uvicorn.server.Server object at 0x100bcb310>
           │       └ <function run at 0x100bfb820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10341e240>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10346cdc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103697670>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1036976...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10354b760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10346cdc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103697670>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1036976...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103697670>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1036976...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10366f5b0>
          └ <fastapi.applications.FastAPI object at 0x10354b760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10353fe50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1036976...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10366f550>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10366f5b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10353fe50>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1036976...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x102af7af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10366f550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10366f550>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1036976...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10366f520>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10366f550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10353ff70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1036976...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10366f4c0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10366f520>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10353ff70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1036976...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10354b880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10366f4c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10353ff70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1036976...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x102a4daf0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10353ff70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1036976...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103550e50>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x103a28b20>
                     └ <function get_request_handler.<locals>.app at 0x103550dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x102a3c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x103432bb0>, 'org_id': '31fd995e-4712-4e9c-a5b9-058174724708'}
                 │         └ <function get_org at 0x1032f23a0>
                 └ <fastapi.dependencies.models.Dependant object at 0x103553550>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ '31fd995e-4712-4e9c-a5b9-058174724708'
                │         │         └ <providers.psql_provider.DB object at 0x103432bb0>
                │         └ <function query_org at 0x1032f2c10>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 110, in query_org
    org_basic = await db.fetch_one(sql)
                      │  │         └ "\n    SELECT\n        orgs.p_id,\n        orgs.name,\n        orgs.remark,\n        orgs.type,\n        org_user_rels.user_i...
                      │  └ <function DB.fetch_one at 0x102ffdd30>
                      └ <providers.psql_provider.DB object at 0x103432bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 31, in fetch_one
    result = await con.fetchrow(query)
                   │   │        └ "\n    SELECT\n        orgs.p_id,\n        orgs.name,\n        orgs.remark,\n        orgs.type,\n        org_user_rels.user_i...
                   │   └ <function Connection.fetchrow at 0x102d56160>
                   └ <PoolConnectionProxy [released] 0x10366fb80>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 749, in fetchrow
    data = await self._execute(
                 │    └ <function Connection._execute at 0x102d431f0>
                 └ <asyncpg.connection.Connection object at 0x103f499a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x103f499a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x102d435e0>
                         └ <asyncpg.connection.Connection object at 0x103f499a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x102d41700>
                 └ <asyncpg.connection.Connection object at 0x103f499a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x103f499a0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.PostgresSyntaxError: syntax error at or near "org_user_rels"

2023-12-13 15:04:20.737 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54503 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 500
2023-12-13 15:04:20.737 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:04:20.739 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:04:20.739 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54502 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:04:20.740 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54504 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:04:20.741 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:04:20.747 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:04:20.759 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54506 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:04:20.778 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:04:20.780 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:04:20.784 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:04:20.787 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:04:20.789 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54504 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:06:59.795 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 15:06:59.897 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 15:06:59.898 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 15:06:59.898 | INFO     | uvicorn.server:serve:86 - Finished server process [96807]
2023-12-13 15:07:00.306 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 15:07:15.768 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55238 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:07:15.772 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55243 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:07:15.783 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:07:15.784 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:07:15.795 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:07:15.802 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55240 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:07:15.803 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:07:15.805 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55239 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:07:15.809 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55241 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:07:15.811 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:07:15.813 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55243 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:07:15.814 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:07:15.815 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:07:15.816 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:07:15.816 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55240 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:07:15.817 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55239 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:07:15.820 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:07:15.823 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:07:15.826 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55242 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:07:15.833 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:07:15.834 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:07:15.835 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:07:15.837 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:07:15.839 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55239 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:10:16.213 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 15:10:16.315 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 15:10:16.316 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 15:10:16.316 | INFO     | uvicorn.server:serve:86 - Finished server process [96920]
2023-12-13 15:10:16.720 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 15:10:20.559 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 15:10:20.661 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 15:10:20.661 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 15:10:20.661 | INFO     | uvicorn.server:serve:86 - Finished server process [96976]
2023-12-13 15:10:21.049 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 15:10:26.283 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        org_user_rels.user_id
    FROM
        orgs
    JOIN
        org_user_rels
        ON
        org_user_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:10:26.288 | ERROR    | app.endpoints.orgs:get_org:57 - relation "org_user_rels" does not existTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x10504d9d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104dcb430>
           └ <SpawnProcess name='SpawnProcess-72' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104dbea60>
    └ <SpawnProcess name='SpawnProcess-72' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10505b1f0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-72' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-72' parent=92396 started>
    │    └ <function subprocess_started at 0x1074bb280>
    └ <SpawnProcess name='SpawnProcess-72' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10505b310>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1074a6820>
           │       │   └ <uvicorn.server.Server object at 0x10505b310>
           │       └ <function run at 0x10508b820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1074af240>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1074fcdc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075db2b0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075db2...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1075db760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1074fcdc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075db2b0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075db2...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075db2b0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075db2...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1076ff5b0>
          └ <fastapi.applications.FastAPI object at 0x1075db760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1075e0820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075db2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1076ff550>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1076ff5b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1075e0820>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075db2...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x106c87af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1076ff550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1076ff550>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075db2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1076ff520>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1076ff550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1075e0ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075db2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1076ff4c0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1076ff520>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1075e0ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075db2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1075db880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1076ff4c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1075e0ca0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075db2...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106bddaf0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1075e0ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1075db2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1075e0e50>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x106de17c0>
                     └ <function get_request_handler.<locals>.app at 0x1075e0dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x106bcc790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1074c3bb0>, 'org_id': '31fd995e-4712-4e9c-a5b9-058174724708'}
                 │         └ <function get_org at 0x1073823a0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1075e3550>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ '31fd995e-4712-4e9c-a5b9-058174724708'
                │         │         └ <providers.psql_provider.DB object at 0x1074c3bb0>
                │         └ <function query_org at 0x107382c10>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 111, in query_org
    org_basic = await db.fetch_one(sql)
                      │  │         └ "\n    SELECT\n        orgs.p_id,\n        orgs.name,\n        orgs.remark,\n        orgs.type,\n        org_user_rels.user_i...
                      │  └ <function DB.fetch_one at 0x10708daf0>
                      └ <providers.psql_provider.DB object at 0x1074c3bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 31, in fetch_one
    result = await con.fetchrow(query)
                   │   │        └ "\n    SELECT\n        orgs.p_id,\n        orgs.name,\n        orgs.remark,\n        orgs.type,\n        org_user_rels.user_i...
                   │   └ <function Connection.fetchrow at 0x106de7160>
                   └ <PoolConnectionProxy [released] 0x1076ff820>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 749, in fetchrow
    data = await self._execute(
                 │    └ <function Connection._execute at 0x106dd31f0>
                 └ <asyncpg.connection.Connection object at 0x107709b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x107709b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x106dd35e0>
                         └ <asyncpg.connection.Connection object at 0x107709b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x106dd1700>
                 └ <asyncpg.connection.Connection object at 0x107709b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x107709b80>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.UndefinedTableError: relation "org_user_rels" does not exist

2023-12-13 15:10:26.304 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56025 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 500
2023-12-13 15:10:26.304 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:10:26.307 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:10:26.308 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:10:26.309 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56026 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:10:26.309 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:10:26.310 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56028 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:10:26.311 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        org_user_rels.user_id
    FROM
        orgs
    JOIN
        org_user_rels
        ON
        org_user_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:10:26.312 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56027 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:10:26.312 | ERROR    | app.endpoints.orgs:get_org:57 - relation "org_user_rels" does not existTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x10504d9d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104dcb430>
           └ <SpawnProcess name='SpawnProcess-72' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104dbea60>
    └ <SpawnProcess name='SpawnProcess-72' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10505b1f0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-72' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-72' parent=92396 started>
    │    └ <function subprocess_started at 0x1074bb280>
    └ <SpawnProcess name='SpawnProcess-72' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10505b310>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1074a6820>
           │       │   └ <uvicorn.server.Server object at 0x10505b310>
           │       └ <function run at 0x10508b820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1074af240>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1074fcdc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10777d190>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10777d1...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1075db760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1074fcdc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10777d190>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10777d1...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10777d190>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10777d1...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1076ff5b0>
          └ <fastapi.applications.FastAPI object at 0x1075db760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1078a7af0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10777d1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1076ff550>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1076ff5b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1078a7af0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10777d1...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x106c87af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1076ff550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1076ff550>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10777d1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1076ff520>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1076ff550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1078a79d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10777d1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1076ff4c0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1076ff520>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1078a79d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10777d1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1075db880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1076ff4c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1078a79d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10777d1...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106bddaf0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1078a79d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10777d1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1075e0e50>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10777dd60>
                     └ <function get_request_handler.<locals>.app at 0x1075e0dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x106bcc790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1074c3bb0>, 'org_id': '31fd995e-4712-4e9c-a5b9-058174724708'}
                 │         └ <function get_org at 0x1073823a0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1075e3550>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ '31fd995e-4712-4e9c-a5b9-058174724708'
                │         │         └ <providers.psql_provider.DB object at 0x1074c3bb0>
                │         └ <function query_org at 0x107382c10>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 111, in query_org
    org_basic = await db.fetch_one(sql)
                      │  │         └ "\n    SELECT\n        orgs.p_id,\n        orgs.name,\n        orgs.remark,\n        orgs.type,\n        org_user_rels.user_i...
                      │  └ <function DB.fetch_one at 0x10708daf0>
                      └ <providers.psql_provider.DB object at 0x1074c3bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 31, in fetch_one
    result = await con.fetchrow(query)
                   │   │        └ "\n    SELECT\n        orgs.p_id,\n        orgs.name,\n        orgs.remark,\n        orgs.type,\n        org_user_rels.user_i...
                   │   └ <function Connection.fetchrow at 0x106de7160>
                   └ <PoolConnectionProxy [released] 0x1074fc250>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 749, in fetchrow
    data = await self._execute(
                 │    └ <function Connection._execute at 0x106dd31f0>
                 └ <asyncpg.connection.Connection object at 0x1078745e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1078745e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x106dd35e0>
                         └ <asyncpg.connection.Connection object at 0x1078745e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x106dd1700>
                 └ <asyncpg.connection.Connection object at 0x1078745e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1078745e0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.UndefinedTableError: relation "org_user_rels" does not exist

2023-12-13 15:10:26.317 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56035 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 500
2023-12-13 15:10:26.318 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:10:26.322 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56025 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:10:26.324 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:10:26.325 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:10:26.325 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:10:26.326 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56026 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:10:26.327 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56028 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:10:26.327 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:10:26.329 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:10:26.331 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56029 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:10:26.335 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:10:26.336 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:10:26.338 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:10:26.340 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:10:26.341 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56028 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:11:32.228 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 15:11:32.329 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 15:11:32.330 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 15:11:32.330 | INFO     | uvicorn.server:serve:86 - Finished server process [96986]
2023-12-13 15:11:32.725 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 15:11:37.257 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56337 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 15:11:37.259 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56338 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 15:11:37.260 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56337 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 15:11:37.260 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56339 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 15:11:37.261 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56338 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 15:11:37.262 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56340 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:11:37.263 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56339 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:11:37.267 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56341 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 15:11:37.281 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:11:37.284 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:11:37.288 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:11:37.292 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:11:37.298 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56337 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:11:37.303 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56338 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:11:37.308 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56340 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:11:37.308 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:11:37.313 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:11:37.316 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:11:37.316 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.p_id,
        permissions.name
    FROM
        permissions
    JION
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        ON
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:11:37.318 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:11:37.318 | ERROR    | app.endpoints.orgs:get_org:57 - syntax error at or near "role_permission_rels"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x102a119d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10278f430>
           └ <SpawnProcess name='SpawnProcess-73' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102782a60>
    └ <SpawnProcess name='SpawnProcess-73' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102a1f1f0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-73' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-73' parent=92396 started>
    │    └ <function subprocess_started at 0x104e7f280>
    └ <SpawnProcess name='SpawnProcess-73' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102a1f310>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x104e6a820>
           │       │   └ <uvicorn.server.Server object at 0x102a1f310>
           │       └ <function run at 0x102a4f820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x104e72240>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104ebfdc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104f9f2b0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104f9f2...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x104f9f760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104ebfdc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104f9f2b0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104f9f2...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104f9f2b0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104f9f2...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1050c35b0>
          └ <fastapi.applications.FastAPI object at 0x104f9f760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x104fa5820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104f9f2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1050c3550>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1050c35b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x104fa5820>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104f9f2...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10464baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1050c3550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1050c3550>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104f9f2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1050c3520>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1050c3550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104fa5ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104f9f2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1050c34c0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1050c3520>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104fa5ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104f9f2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x104f9f880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1050c34c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104fa5ca0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104f9f2...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1045a1af0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104fa5ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104f9f2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x104fa5e50>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1047a47c0>
                     └ <function get_request_handler.<locals>.app at 0x104fa5dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104590790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x104e87bb0>, 'org_id': '31fd995e-4712-4e9c-a5b9-058174724708'}
                 │         └ <function get_org at 0x104d473a0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1050b9550>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ '31fd995e-4712-4e9c-a5b9-058174724708'
                │         │         └ <providers.psql_provider.DB object at 0x104e87bb0>
                │         └ <function query_org at 0x104d47c10>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 136, in query_org
    permissions = await db.fetch_all(sql)
                        │  │         └ "\n    SELECT\n        permissions.p_id,\n        permissions.name\n    FROM\n        permissions\n    JION\n        role_per...
                        │  └ <function DB.fetch_all at 0x104a51c10>
                        └ <providers.psql_provider.DB object at 0x104e87bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        permissions.p_id,\n        permissions.name\n    FROM\n        permissions\n    JION\n        role_per...
                   │   └ <function Connection.fetch at 0x1047aa0d0>
                   └ <PoolConnectionProxy [released] 0x1050c3cd0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x1047971f0>
                 └ <asyncpg.connection.Connection object at 0x105155400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x105155400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1047975e0>
                         └ <asyncpg.connection.Connection object at 0x105155400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x104795700>
                 └ <asyncpg.connection.Connection object at 0x105155400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x105155400>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.PostgresSyntaxError: syntax error at or near "role_permission_rels"

2023-12-13 15:11:37.327 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56336 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 500
2023-12-13 15:11:37.327 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56339 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:11:37.327 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56337 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:11:37.330 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56338 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:11:37.332 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:11:37.335 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:11:37.335 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:11:37.336 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.p_id,
        permissions.name
    FROM
        permissions
    JION
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        ON
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:11:37.337 | ERROR    | app.endpoints.orgs:get_org:57 - syntax error at or near "role_permission_rels"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x102a119d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10278f430>
           └ <SpawnProcess name='SpawnProcess-73' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102782a60>
    └ <SpawnProcess name='SpawnProcess-73' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102a1f1f0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-73' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-73' parent=92396 started>
    │    └ <function subprocess_started at 0x104e7f280>
    └ <SpawnProcess name='SpawnProcess-73' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102a1f310>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x104e6a820>
           │       │   └ <uvicorn.server.Server object at 0x102a1f310>
           │       └ <function run at 0x102a4f820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x104e72240>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104ebfdc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1050ecfd0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1050ecf...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x104f9f760>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104ebfdc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1050ecfd0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1050ecf...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1050ecfd0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1050ecf...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1050c35b0>
          └ <fastapi.applications.FastAPI object at 0x104f9f760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x105144040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1050ecf...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1050c3550>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1050c35b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x105144040>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1050ecf...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10464baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1050c3550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1050c3550>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1050ecf...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1050c3520>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1050c3550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1051444c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1050ecf...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1050c34c0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1050c3520>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1051444c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1050ecf...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x104f9f880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1050c34c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1051444c0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1050ecf...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1045a1af0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1051444c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1050ecf...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x104fa5e50>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1050ece20>
                     └ <function get_request_handler.<locals>.app at 0x104fa5dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104590790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x104e87bb0>, 'org_id': '31fd995e-4712-4e9c-a5b9-058174724708'}
                 │         └ <function get_org at 0x104d473a0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1050b9550>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ '31fd995e-4712-4e9c-a5b9-058174724708'
                │         │         └ <providers.psql_provider.DB object at 0x104e87bb0>
                │         └ <function query_org at 0x104d47c10>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 136, in query_org
    permissions = await db.fetch_all(sql)
                        │  │         └ "\n    SELECT\n        permissions.p_id,\n        permissions.name\n    FROM\n        permissions\n    JION\n        role_per...
                        │  └ <function DB.fetch_all at 0x104a51c10>
                        └ <providers.psql_provider.DB object at 0x104e87bb0>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        permissions.p_id,\n        permissions.name\n    FROM\n        permissions\n    JION\n        role_per...
                   │   └ <function Connection.fetch at 0x1047aa0d0>
                   └ <PoolConnectionProxy [released] 0x1050f5850>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x1047971f0>
                 └ <asyncpg.connection.Connection object at 0x1051fea90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1051fea90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1047975e0>
                         └ <asyncpg.connection.Connection object at 0x1051fea90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x104795700>
                 └ <asyncpg.connection.Connection object at 0x1051fea90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1051fea90>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.PostgresSyntaxError: syntax error at or near "role_permission_rels"

2023-12-13 15:11:37.342 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56340 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 500
2023-12-13 15:11:37.343 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:11:37.347 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56341 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:11:37.352 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:11:37.354 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:11:37.356 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:11:37.360 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:11:37.362 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56340 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:13:35.814 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 15:13:35.916 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 15:13:35.916 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 15:13:35.917 | INFO     | uvicorn.server:serve:86 - Finished server process [97017]
2023-12-13 15:13:36.309 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 15:13:55.534 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 15:13:55.636 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 15:13:55.636 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 15:13:55.636 | INFO     | uvicorn.server:serve:86 - Finished server process [97055]
2023-12-13 15:13:56.020 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 15:14:01.234 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:14:01.238 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:14:01.243 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56943 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:14:01.250 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:14:01.251 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:14:01.251 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:14:01.253 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.p_id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        ON
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:14:01.254 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:14:01.254 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56944 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:14:01.257 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56945 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:14:01.259 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56952 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:14:01.259 | ERROR    | app.endpoints.orgs:get_org:57 - syntax error at or near "ON"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1011019d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x100e7f430>
           └ <SpawnProcess name='SpawnProcess-75' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x100e72a60>
    └ <SpawnProcess name='SpawnProcess-75' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10110f1f0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-75' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-75' parent=92396 started>
    │    └ <function subprocess_started at 0x10356f280>
    └ <SpawnProcess name='SpawnProcess-75' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10110f310>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x10355a820>
           │       │   └ <uvicorn.server.Server object at 0x10110f310>
           │       └ <function run at 0x10113f820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x103562240>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1035b07f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103692160>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1036921...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10368f4f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1035b07f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103692160>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1036921...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103692160>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1036921...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x103692340>
          └ <fastapi.applications.FastAPI object at 0x10368f4f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103694820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1036921...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1036922e0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x103692340>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103694820>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1036921...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x102d3baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1036922e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1036922e0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1036921...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1036922b0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1036922e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103694ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1036921...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x103692250>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1036922b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103694ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1036921...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10368f610>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x103692250>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103694ca0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1036921...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x102c91af0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103694ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1036921...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103694e50>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1036929d0>
                     └ <function get_request_handler.<locals>.app at 0x103694dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x102c80790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102da2190>, 'org_id': '31fd995e-4712-4e9c-a5b9-058174724708'}
                 │         └ <function get_org at 0x1034353a0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1037a92e0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ '31fd995e-4712-4e9c-a5b9-058174724708'
                │         │         └ <providers.psql_provider.DB object at 0x102da2190>
                │         └ <function query_org at 0x103435c10>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 136, in query_org
    permissions = await db.fetch_all(sql)
                        │  │         └ "\n    SELECT\n        permissions.p_id,\n        permissions.name\n    FROM\n        permissions\n    JOIN\n        role_per...
                        │  └ <function DB.fetch_all at 0x103141c10>
                        └ <providers.psql_provider.DB object at 0x102da2190>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        permissions.p_id,\n        permissions.name\n    FROM\n        permissions\n    JOIN\n        role_per...
                   │   └ <function Connection.fetch at 0x102e9b0d0>
                   └ <PoolConnectionProxy [released] 0x103692c40>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x102e871f0>
                 └ <asyncpg.connection.Connection object at 0x10384b220>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x10384b220>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x102e875e0>
                         └ <asyncpg.connection.Connection object at 0x10384b220>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x102e85700>
                 └ <asyncpg.connection.Connection object at 0x10384b220>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x10384b220>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.PostgresSyntaxError: syntax error at or near "ON"

2023-12-13 15:14:01.268 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56942 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 500
2023-12-13 15:14:01.273 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:14:01.274 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:14:01.276 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:14:01.278 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56944 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:14:01.278 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56943 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:14:01.278 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:14:01.280 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.p_id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        ON
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:14:01.280 | ERROR    | app.endpoints.orgs:get_org:57 - syntax error at or near "ON"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1011019d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x100e7f430>
           └ <SpawnProcess name='SpawnProcess-75' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x100e72a60>
    └ <SpawnProcess name='SpawnProcess-75' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10110f1f0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-75' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-75' parent=92396 started>
    │    └ <function subprocess_started at 0x10356f280>
    └ <SpawnProcess name='SpawnProcess-75' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10110f310>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x10355a820>
           │       │   └ <uvicorn.server.Server object at 0x10110f310>
           │       └ <function run at 0x10113f820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x103562240>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1035b07f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103692a90>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103692a...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10368f4f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1035b07f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103692a90>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103692a...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103692a90>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103692a...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x103692340>
          └ <fastapi.applications.FastAPI object at 0x10368f4f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1037afca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103692a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1036922e0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x103692340>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1037afca0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103692a...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x102d3baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1036922e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1036922e0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103692a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1036922b0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1036922e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1037af0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103692a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x103692250>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1036922b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1037af0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103692a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10368f610>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x103692250>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1037af0d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103692a...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x102c91af0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1037af0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x103692a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103694e50>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1037dddf0>
                     └ <function get_request_handler.<locals>.app at 0x103694dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x102c80790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x102da2190>, 'org_id': '31fd995e-4712-4e9c-a5b9-058174724708'}
                 │         └ <function get_org at 0x1034353a0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1037a92e0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ '31fd995e-4712-4e9c-a5b9-058174724708'
                │         │         └ <providers.psql_provider.DB object at 0x102da2190>
                │         └ <function query_org at 0x103435c10>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 136, in query_org
    permissions = await db.fetch_all(sql)
                        │  │         └ "\n    SELECT\n        permissions.p_id,\n        permissions.name\n    FROM\n        permissions\n    JOIN\n        role_per...
                        │  └ <function DB.fetch_all at 0x103141c10>
                        └ <providers.psql_provider.DB object at 0x102da2190>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        permissions.p_id,\n        permissions.name\n    FROM\n        permissions\n    JOIN\n        role_per...
                   │   └ <function Connection.fetch at 0x102e9b0d0>
                   └ <PoolConnectionProxy [released] 0x103692520>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x102e871f0>
                 └ <asyncpg.connection.Connection object at 0x103905a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x103905a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x102e875e0>
                         └ <asyncpg.connection.Connection object at 0x103905a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x102e85700>
                 └ <asyncpg.connection.Connection object at 0x103905a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x103905a90>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.PostgresSyntaxError: syntax error at or near "ON"

2023-12-13 15:14:01.286 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56945 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 500
2023-12-13 15:14:01.286 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:14:01.292 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:14:01.295 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56946 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:14:01.300 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:14:01.301 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:14:01.302 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:14:01.304 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:14:01.305 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56945 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:14:44.358 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 15:14:44.459 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 15:14:44.460 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 15:14:44.460 | INFO     | uvicorn.server:serve:86 - Finished server process [97065]
2023-12-13 15:14:44.841 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 15:14:53.227 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57178 - "OPTIONS /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:14:53.239 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57183 - "OPTIONS /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:14:53.249 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:14:53.250 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:14:53.251 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:14:53.260 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:14:53.261 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57179 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:14:53.262 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:14:53.264 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57180 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:14:53.271 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57181 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:14:53.277 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:14:53.278 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:14:53.279 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:14:53.280 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57183 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:14:53.280 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:14:53.280 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57179 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:14:53.282 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.p_id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:14:53.282 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57180 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:14:53.283 | ERROR    | app.endpoints.orgs:get_org:57 - column permissions.p_id does not exist
HINT:  Perhaps you meant to reference the column "permissions.id".Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100ddd9d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x100b5b430>
           └ <SpawnProcess name='SpawnProcess-76' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x100b4ea60>
    └ <SpawnProcess name='SpawnProcess-76' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100deb1f0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-76' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-76' parent=92396 started>
    │    └ <function subprocess_started at 0x10324b280>
    └ <SpawnProcess name='SpawnProcess-76' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100deb310>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x103236820>
           │       │   └ <uvicorn.server.Server object at 0x100deb310>
           │       └ <function run at 0x100e1b820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10323e240>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10328cd00>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1034b8640>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1034b86...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10336b700>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10328cd00>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1034b8640>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1034b86...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1034b8640>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1034b86...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10348f550>
          └ <fastapi.applications.FastAPI object at 0x10336b700>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103370820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1034b86...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10348f4f0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10348f550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103370820>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1034b86...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x102a16af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10348f4f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10348f4f0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1034b86...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10348f4c0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10348f4f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10348b280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1034b86...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10348f460>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10348f4c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10348b280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1034b86...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10336b820>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10348f460>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10348b280>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1034b86...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10296daf0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10348b280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1034b86...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103370e50>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1034b88b0>
                     └ <function get_request_handler.<locals>.app at 0x103370dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10295b790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x103253b50>, 'org_id': '31fd995e-4712-4e9c-a5b9-058174724708'}
                 │         └ <function get_org at 0x1031123a0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1033734f0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ '31fd995e-4712-4e9c-a5b9-058174724708'
                │         │         └ <providers.psql_provider.DB object at 0x103253b50>
                │         └ <function query_org at 0x103112c10>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 136, in query_org
    permissions = await db.fetch_all(sql)
                        │  │         └ "\n    SELECT\n        permissions.p_id,\n        permissions.name\n    FROM\n        permissions\n    JOIN\n        role_per...
                        │  └ <function DB.fetch_all at 0x102e1dc10>
                        └ <providers.psql_provider.DB object at 0x103253b50>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        permissions.p_id,\n        permissions.name\n    FROM\n        permissions\n    JOIN\n        role_per...
                   │   └ <function Connection.fetch at 0x102b760d0>
                   └ <PoolConnectionProxy [released] 0x10348f2b0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x102b631f0>
                 └ <asyncpg.connection.Connection object at 0x1035225e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1035225e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x102b635e0>
                         └ <asyncpg.connection.Connection object at 0x1035225e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x102b61700>
                 └ <asyncpg.connection.Connection object at 0x1035225e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1035225e0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.UndefinedColumnError: column permissions.p_id does not exist
HINT:  Perhaps you meant to reference the column "permissions.id".

2023-12-13 15:14:53.293 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57178 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 500
2023-12-13 15:14:53.309 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:14:53.313 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:14:53.317 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.p_id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:14:53.318 | ERROR    | app.endpoints.orgs:get_org:57 - column permissions.p_id does not exist
HINT:  Perhaps you meant to reference the column "permissions.id".Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100ddd9d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x100b5b430>
           └ <SpawnProcess name='SpawnProcess-76' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x100b4ea60>
    └ <SpawnProcess name='SpawnProcess-76' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100deb1f0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-76' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-76' parent=92396 started>
    │    └ <function subprocess_started at 0x10324b280>
    └ <SpawnProcess name='SpawnProcess-76' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100deb310>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x103236820>
           │       │   └ <uvicorn.server.Server object at 0x100deb310>
           │       └ <function run at 0x100e1b820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10323e240>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10328cd00>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1035040d0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1035040...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10336b700>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10328cd00>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1035040d0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1035040...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1035040d0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1035040...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10348f550>
          └ <fastapi.applications.FastAPI object at 0x10336b700>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1035115e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1035040...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10348f4f0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10348f550>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1035115e0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1035040...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x102a16af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10348f4f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10348f4f0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1035040...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10348f4c0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10348f4f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103511a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1035040...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10348f460>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10348f4c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103511a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1035040...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10336b820>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10348f460>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103511a60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1035040...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10296daf0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x103511a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1035040...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x103370e50>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x103504dc0>
                     └ <function get_request_handler.<locals>.app at 0x103370dc0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10295b790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x103253b50>, 'org_id': '31fd995e-4712-4e9c-a5b9-058174724708'}
                 │         └ <function get_org at 0x1031123a0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1033734f0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ '31fd995e-4712-4e9c-a5b9-058174724708'
                │         │         └ <providers.psql_provider.DB object at 0x103253b50>
                │         └ <function query_org at 0x103112c10>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 136, in query_org
    permissions = await db.fetch_all(sql)
                        │  │         └ "\n    SELECT\n        permissions.p_id,\n        permissions.name\n    FROM\n        permissions\n    JOIN\n        role_per...
                        │  └ <function DB.fetch_all at 0x102e1dc10>
                        └ <providers.psql_provider.DB object at 0x103253b50>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        permissions.p_id,\n        permissions.name\n    FROM\n        permissions\n    JOIN\n        role_per...
                   │   └ <function Connection.fetch at 0x102b760d0>
                   └ <PoolConnectionProxy [released] 0x1034b8970>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x102b631f0>
                 └ <asyncpg.connection.Connection object at 0x103595b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x103595b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x102b635e0>
                         └ <asyncpg.connection.Connection object at 0x103595b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x102b61700>
                 └ <asyncpg.connection.Connection object at 0x103595b80>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x103595b80>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.UndefinedColumnError: column permissions.p_id does not exist
HINT:  Perhaps you meant to reference the column "permissions.id".

2023-12-13 15:14:53.324 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57180 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 500
2023-12-13 15:14:53.327 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:14:53.329 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57182 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:14:53.333 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:14:53.335 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:14:53.336 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:14:53.338 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:14:53.339 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57180 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:16:38.963 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 15:16:39.065 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 15:16:39.065 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 15:16:39.066 | INFO     | uvicorn.server:serve:86 - Finished server process [97094]
2023-12-13 15:16:39.490 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 15:17:26.822 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:17:26.822 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:17:26.827 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:17:26.831 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57828 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:17:26.841 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57829 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:17:26.842 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:17:26.844 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:17:26.844 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57830 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:17:26.845 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:17:26.847 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:17:26.847 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:17:26.847 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57837 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:17:26.849 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57828 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:17:26.849 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57827 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:17:26.851 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:17:26.851 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:17:26.853 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57829 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:17:26.853 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:17:26.854 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:17:26.855 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:17:26.858 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57828 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:17:26.866 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:17:26.869 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57831 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:17:26.873 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:17:26.874 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:17:26.875 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:17:26.878 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:17:26.879 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57828 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:20:44.643 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:20:44.648 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:20:44.651 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:20:44.657 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:20:44.658 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58664 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:20:44.662 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:20:44.664 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58663 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:20:44.667 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:20:44.668 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58665 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:20:44.671 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:20:44.671 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58673 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:20:44.672 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:20:44.673 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:20:44.673 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:20:44.674 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58662 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:20:44.675 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58664 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:20:44.676 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58663 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:20:44.680 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:20:44.680 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:20:44.690 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:20:44.708 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:20:44.710 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58666 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:20:44.715 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58673 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:20:44.726 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:20:44.734 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:20:44.741 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:20:44.747 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:20:44.750 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58663 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:25:38.433 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59886 - "OPTIONS /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:25:38.433 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59887 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 15:25:38.434 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59886 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 15:25:38.434 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59888 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 15:25:38.435 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59887 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 15:25:38.436 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59889 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 15:25:38.436 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59888 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 15:25:38.437 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59886 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:25:38.437 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59890 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:25:38.441 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59891 - "OPTIONS /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:25:38.455 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:25:38.459 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:25:38.461 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:25:38.466 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:25:38.469 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59887 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:25:38.473 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59888 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:25:38.474 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59886 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:25:38.475 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:25:38.482 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:25:38.482 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:25:38.483 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:25:38.485 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:25:38.486 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59891 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:25:38.487 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59887 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:25:38.487 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59888 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:25:38.488 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59889 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:25:38.490 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:25:38.492 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:25:38.494 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:25:38.498 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:25:38.499 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:25:38.501 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59890 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:25:38.503 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59887 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:25:38.506 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:25:38.507 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:25:38.509 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:25:38.512 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:25:38.515 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59888 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:30:25.779 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:30:25.780 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:30:25.780 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:30:25.786 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61096 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:30:25.786 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61095 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:30:25.786 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:30:25.788 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:30:25.788 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:30:25.791 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61097 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:30:25.791 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:30:25.794 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61094 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:30:25.795 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:30:25.800 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:30:25.801 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61104 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:30:25.804 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61095 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:30:25.805 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:30:25.805 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:30:25.805 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:30:25.833 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:30:25.833 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61096 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:30:25.837 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61097 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:30:25.841 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:30:25.846 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61098 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:30:25.849 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:30:25.851 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:30:25.852 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:30:25.855 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:30:25.865 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61097 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:35:44.147 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62401 - "OPTIONS /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:35:44.148 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62402 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 15:35:44.149 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62403 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 15:35:44.149 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62401 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 15:35:44.149 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62404 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 15:35:44.150 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62402 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 15:35:44.150 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62403 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 15:35:44.151 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62405 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:35:44.151 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62406 - "OPTIONS /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:35:44.152 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62401 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:35:44.175 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:35:44.182 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:35:44.186 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:35:44.188 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62403 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:35:44.195 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:35:44.199 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:35:44.200 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62402 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:35:44.206 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:35:44.207 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:35:44.209 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62405 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:35:44.215 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62401 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:35:44.217 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62404 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:35:44.223 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:35:44.224 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:35:44.227 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:35:44.229 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:35:44.231 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62403 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:35:44.234 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:35:44.235 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62402 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:35:44.236 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62401 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:35:44.237 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:35:44.240 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:35:44.242 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62406 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:35:44.261 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:35:44.265 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:35:44.268 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:35:44.276 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:35:44.279 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62401 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:36:52.109 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:36:52.113 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:36:52.118 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:36:52.126 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:36:52.127 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62703 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:36:52.133 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62704 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:36:52.134 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:36:52.134 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:36:52.138 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:36:52.143 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62705 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:36:52.144 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62702 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:36:52.144 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62717 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:36:52.154 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:36:52.159 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:36:52.159 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:36:52.178 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62704 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:36:52.179 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:36:52.181 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62703 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:36:52.185 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:36:52.189 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:36:52.192 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62702 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:36:52.193 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:36:52.196 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62706 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:36:52.204 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:36:52.206 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:36:52.207 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:36:52.210 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:36:52.213 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62702 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:38:09.309 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:38:09.316 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:38:09.327 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:38:09.328 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63042 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:38:09.335 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:38:09.337 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63043 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:38:09.338 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:38:09.342 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:38:09.343 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:38:09.344 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63044 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:38:09.352 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:38:09.353 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63052 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:38:09.355 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63041 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:38:09.357 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63042 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:38:09.359 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:38:09.360 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:38:09.385 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:38:09.388 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63043 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:38:09.391 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:38:09.394 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:38:09.396 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63044 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:38:09.398 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:38:09.402 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63045 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:38:09.409 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:38:09.412 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:38:09.414 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:38:09.418 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:38:09.421 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63044 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:51:33.395 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49853 - "OPTIONS /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:51:33.397 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49854 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 15:51:33.398 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49853 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 15:51:33.398 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49855 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 15:51:33.398 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49854 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 15:51:33.399 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49856 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 15:51:33.399 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49857 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:51:33.399 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49858 - "OPTIONS /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:51:33.400 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49855 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 15:51:33.400 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49853 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:51:33.412 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:51:33.412 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:51:33.420 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49854 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:51:33.424 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:51:33.426 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:51:33.429 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:51:33.430 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49858 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:51:33.458 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49857 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:51:33.471 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:51:33.472 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:51:33.473 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:51:33.473 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:51:33.473 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:51:33.475 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49853 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:51:33.476 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49856 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:51:33.477 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49858 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:51:33.477 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49854 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:51:33.477 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:51:33.501 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:51:33.504 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:51:33.505 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:51:33.506 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49856 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:51:33.514 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49855 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:51:33.518 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:51:33.519 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:51:33.520 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:51:33.522 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:51:33.524 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49856 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:52:12.628 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:52:12.628 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:52:12.636 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:52:12.642 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:52:12.643 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50045 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:52:12.655 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:52:12.657 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50047 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:52:12.661 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50046 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:52:12.664 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:52:12.665 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:52:12.665 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:52:12.666 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:52:12.666 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50054 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:52:12.668 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:52:12.669 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50044 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:52:12.673 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50045 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:52:12.673 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50047 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:52:12.678 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:52:12.678 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:52:12.681 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:52:12.682 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50048 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:52:12.682 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:52:12.687 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50054 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:52:12.687 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:52:12.689 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:52:12.690 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:52:12.692 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:52:12.693 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50045 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:53:27.628 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:53:27.630 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:53:27.641 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50371 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:53:27.644 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:53:27.648 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:53:27.651 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:53:27.653 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:53:27.653 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:53:27.655 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50372 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:53:27.656 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50373 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:53:27.662 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50381 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:53:27.666 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50370 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:53:27.670 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:53:27.670 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:53:27.677 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:53:27.678 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:53:27.681 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50373 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:53:27.685 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50371 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:53:27.685 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:53:27.690 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50381 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:53:27.694 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:53:27.738 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:53:27.742 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50374 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:53:27.746 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:53:27.747 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:53:27.748 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:53:27.750 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:53:27.751 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50381 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:53:51.977 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:53:51.986 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:53:52.006 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:53:52.009 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50495 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:53:52.016 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:53:52.025 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50497 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:53:52.025 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:53:52.043 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:53:52.044 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:53:52.055 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50494 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:53:52.058 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:53:52.059 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50496 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:53:52.060 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50504 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:53:52.063 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50495 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:53:52.064 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:53:52.066 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:53:52.067 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:53:52.073 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:53:52.074 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50494 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:53:52.077 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:53:52.078 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:53:52.082 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50498 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:53:52.083 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50497 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:53:52.091 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:53:52.092 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:53:52.093 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:53:52.097 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:53:52.101 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50494 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:55:12.113 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:55:12.117 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:55:12.128 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:55:12.131 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50839 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:55:12.135 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:55:12.138 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50841 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:55:12.139 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:55:12.143 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50849 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:55:12.146 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:55:12.148 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:55:12.150 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:55:12.151 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50840 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:55:12.154 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50841 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:55:12.160 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:55:12.161 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50838 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:55:12.166 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50849 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:55:12.167 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:55:12.168 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:55:12.170 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:55:12.172 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50841 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:55:12.173 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:55:12.176 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:55:12.178 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50842 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:55:12.194 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:55:12.205 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:55:12.207 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:55:12.211 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:55:12.215 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50841 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:55:59.664 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:55:59.667 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:55:59.674 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:55:59.676 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:55:59.681 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51055 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:55:59.685 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51057 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:55:59.690 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:55:59.691 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51056 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:55:59.697 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:55:59.698 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:55:59.699 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:55:59.700 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:55:59.705 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51054 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:55:59.706 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51055 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:55:59.706 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51065 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:55:59.708 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51057 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:55:59.708 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:55:59.717 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:55:59.727 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:55:59.731 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:55:59.738 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51056 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:55:59.740 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:55:59.744 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51058 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:55:59.753 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:55:59.757 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:55:59.758 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:55:59.765 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:55:59.767 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51056 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:56:28.195 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:56:28.197 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:56:28.207 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:56:28.210 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51193 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:56:28.211 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:56:28.218 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51195 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:56:28.219 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:56:28.219 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:56:28.220 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51194 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:56:28.225 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:56:28.227 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51192 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:56:28.229 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:56:28.231 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:56:28.233 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51193 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:56:28.235 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51203 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:56:28.236 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51195 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:56:28.236 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:56:28.237 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:56:28.239 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:56:28.246 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51194 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:56:28.251 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:56:28.254 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:56:28.257 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51196 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:56:28.266 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:56:28.268 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:56:28.275 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:56:28.308 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:56:28.312 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51194 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:57:24.644 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:57:24.651 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:57:24.654 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:57:24.655 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:57:24.657 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:57:24.662 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51453 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:57:24.663 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51454 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:57:24.668 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51455 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:57:24.674 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:57:24.676 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:57:24.679 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:57:24.679 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:57:24.679 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:57:24.680 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51465 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:57:24.682 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51452 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:57:24.687 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51453 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:57:24.687 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51454 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:57:24.691 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:57:24.691 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:57:24.694 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:57:24.696 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:57:24.698 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51458 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:57:24.726 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51465 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:57:24.728 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:57:24.736 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:57:24.738 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:57:24.746 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:57:24.750 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51454 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:58:54.769 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:58:54.779 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:58:54.780 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:58:54.781 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:58:54.783 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:58:54.787 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51844 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:58:54.790 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:58:54.791 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51845 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:58:54.792 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51847 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:58:54.792 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51846 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:58:54.798 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:58:54.798 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 15:58:54.799 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 15:58:54.800 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:58:54.800 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 15:58:54.801 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51844 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 15:58:54.802 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51845 - "GET /options/users HTTP/1.1" 200
2023-12-13 15:58:54.805 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51846 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 15:58:54.805 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:58:54.806 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 15:58:54.808 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:58:54.809 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51854 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 15:58:54.810 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51848 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 15:58:54.814 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:58:54.815 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:58:54.817 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:58:54.845 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 15:58:54.852 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51846 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 16:00:00.979 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 16:00:00.981 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 16:00:00.989 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 16:00:00.991 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 16:00:00.992 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52139 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 16:00:00.995 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 16:00:00.999 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52138 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 16:00:01.000 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:00:01.003 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 16:00:01.004 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52141 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 16:00:01.005 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52140 - "GET /options/users HTTP/1.1" 200
2023-12-13 16:00:01.009 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 16:00:01.011 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52148 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 16:00:01.014 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 16:00:01.015 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 16:00:01.015 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 16:00:01.019 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:00:01.031 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52141 - "GET /options/users HTTP/1.1" 200
2023-12-13 16:00:01.033 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52139 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 16:00:01.038 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52138 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 16:00:01.044 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:00:01.084 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:00:01.087 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52142 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 16:00:01.093 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:00:01.094 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:00:01.096 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:00:01.101 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:00:01.103 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52138 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 16:02:13.892 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52708 - "OPTIONS /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 16:02:13.892 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52709 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 16:02:13.893 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52710 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 16:02:13.893 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52708 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 16:02:13.894 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52711 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 16:02:13.894 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52709 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 16:02:13.895 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52710 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 16:02:13.895 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52712 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 16:02:13.897 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52711 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 16:02:13.899 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52713 - "OPTIONS /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 16:02:13.917 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 16:02:13.922 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 16:02:13.929 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 16:02:13.939 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 16:02:13.940 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52709 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 16:02:13.944 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52712 - "GET /options/users HTTP/1.1" 200
2023-12-13 16:02:13.946 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:02:13.949 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52710 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 16:02:13.950 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:02:13.951 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 16:02:13.952 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 16:02:13.955 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52713 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 16:02:13.956 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:02:13.957 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 16:02:13.959 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 16:02:13.959 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52708 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 16:02:13.972 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52709 - "GET /options/users HTTP/1.1" 200
2023-12-13 16:02:13.976 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52712 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 16:02:13.986 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 16:02:13.989 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:02:13.997 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52711 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 16:02:14.002 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 16:02:14.003 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:02:14.004 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:02:14.004 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52713 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 16:02:14.005 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:02:14.007 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:02:14.009 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52712 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 16:05:06.213 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 16:05:06.315 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 16:05:06.317 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 16:05:06.317 | INFO     | uvicorn.server:serve:86 - Finished server process [97141]
2023-12-13 16:16:51.064 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 16:34:26.741 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60595 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 16:34:26.741 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60596 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 16:34:26.750 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 16:34:26.753 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60596 - "GET /orgs HTTP/1.1" 200
2023-12-13 16:34:26.758 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 16:34:26.761 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60595 - "GET /orgs HTTP/1.1" 200
2023-12-13 16:34:32.553 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60624 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 16:34:32.554 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60625 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 16:34:32.565 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 16:34:32.570 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:34:32.573 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60623 - "GET /orgs HTTP/1.1" 200
2023-12-13 16:34:32.586 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 16:34:32.589 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:34:32.591 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60625 - "GET /orgs HTTP/1.1" 200
2023-12-13 16:34:32.594 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:34:32.596 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:34:32.600 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60624 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 16:34:32.608 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:34:32.613 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:34:32.617 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:34:32.622 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:34:32.628 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60625 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 16:38:20.607 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 16:38:20.609 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:38:20.611 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:38:20.613 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61557 - "GET /orgs HTTP/1.1" 200
2023-12-13 16:38:20.628 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 16:38:20.631 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:38:20.634 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61561 - "GET /orgs HTTP/1.1" 200
2023-12-13 16:38:20.651 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:38:20.671 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61558 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 16:38:20.704 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:38:20.706 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:38:20.708 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:38:20.713 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:38:20.717 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61561 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 16:38:43.315 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61656 - "OPTIONS /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 16:38:43.316 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61657 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 16:38:43.317 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61656 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 16:38:43.317 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61658 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 16:38:43.318 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61657 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 16:38:43.319 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61659 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 16:38:43.319 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61660 - "OPTIONS /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 16:38:43.323 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61661 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 16:38:43.334 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 16:38:43.334 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 16:38:43.335 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 16:38:43.337 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 16:38:43.337 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61656 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 16:38:43.338 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61657 - "GET /options/users HTTP/1.1" 200
2023-12-13 16:38:43.341 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61659 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 16:38:43.345 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 16:38:43.346 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 16:38:43.348 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 16:38:43.349 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61661 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 16:38:43.350 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61658 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 16:38:43.351 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 16:38:43.352 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61657 - "GET /options/users HTTP/1.1" 200
2023-12-13 16:38:43.353 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61656 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 16:38:43.356 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 16:38:43.358 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 16:38:43.361 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61661 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 16:39:33.958 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 16:39:33.964 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61881 - "GET /orgs HTTP/1.1" 200
2023-12-13 16:39:33.973 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 16:39:33.977 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61883 - "GET /orgs HTTP/1.1" 200
2023-12-13 16:39:38.263 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 16:39:38.263 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:39:38.272 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61883 - "GET /orgs HTTP/1.1" 200
2023-12-13 16:39:38.273 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:39:38.292 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 16:39:38.294 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:39:38.299 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61907 - "GET /orgs HTTP/1.1" 200
2023-12-13 16:39:38.301 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:39:38.308 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61881 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 16:39:38.318 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:39:38.322 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:39:38.325 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:39:38.329 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:39:38.333 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61907 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 16:39:49.917 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 16:39:49.920 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 16:39:49.921 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 16:39:49.929 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 16:39:49.930 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61961 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 16:39:49.931 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61962 - "GET /options/users HTTP/1.1" 200
2023-12-13 16:39:49.935 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61963 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 16:39:49.936 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 16:39:49.939 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 16:39:49.940 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 16:39:49.942 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61961 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 16:39:49.943 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61960 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 16:39:49.946 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61969 - "GET /options/users HTTP/1.1" 200
2023-12-13 16:39:49.946 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 16:39:49.949 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61962 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 16:39:49.951 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 16:39:49.954 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '31fd995e-4712-4e9c-a5b9-058174724708';
    
2023-12-13 16:39:49.956 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:61961 - "GET /org/31fd995e-4712-4e9c-a5b9-058174724708 HTTP/1.1" 200
2023-12-13 16:44:05.350 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 16:44:05.354 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62996 - "GET /orgs HTTP/1.1" 200
2023-12-13 16:44:05.360 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 16:44:05.363 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62998 - "GET /orgs HTTP/1.1" 200
2023-12-13 16:44:08.594 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 16:44:08.595 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:44:08.603 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:44:08.606 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62998 - "GET /orgs HTTP/1.1" 200
2023-12-13 16:44:08.619 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 16:44:08.620 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:44:08.625 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63018 - "GET /orgs HTTP/1.1" 200
2023-12-13 16:44:08.628 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:44:08.633 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62996 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 16:44:08.643 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:44:08.646 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:44:08.648 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:44:08.655 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 16:44:08.660 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63018 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 16:44:14.354 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 16:44:14.355 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 16:44:14.361 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63048 - "GET /options/users HTTP/1.1" 200
2023-12-13 16:44:14.364 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 16:44:14.365 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63047 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 16:44:14.371 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63049 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 16:44:14.378 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 16:44:14.378 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 16:44:14.380 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 16:44:14.383 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63048 - "GET /options/users HTTP/1.1" 200
2023-12-13 16:44:14.385 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63053 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 16:44:14.387 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63047 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 16:44:52.126 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63214 - "OPTIONS /user HTTP/1.1" 200
2023-12-13 16:44:52.144 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id
    FROM
        users
    WHERE
        users.email = '001@demo.com';
    
2023-12-13 16:44:52.149 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO users
        (
            last_name,
            first_name,
            email,
            password
        )
    VALUES
        (
            '山田',
            '一郎',
            '001@demo.com',
            '12345678'
        )
    RETURNING id;
    
2023-12-13 16:44:52.155 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63214 - "POST /user HTTP/1.1" 200
2023-12-13 16:44:52.170 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 16:44:52.174 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63214 - "GET /options/users HTTP/1.1" 200
2023-12-13 16:45:19.691 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63326 - "OPTIONS /org HTTP/1.1" 200
2023-12-13 16:45:19.705 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO orgs (p_id, type, name)
    VALUES (
        null,
        '01',
        '〇〇株式会社'
    )
    RETURNING id;
    
2023-12-13 16:45:19.709 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO roles (type, name)
    VALUES (
        '01',
        '本社管理者'
    )
    RETURNING id;
    
2023-12-13 16:45:19.713 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_org_rels (user_id, org_id)
    VALUES (
        '02804013-a550-4ee6-822c-c00a0f7d4985',
        '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
    )
    
2023-12-13 16:45:19.716 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_role_rels (user_id, role_id)
    VALUES (
        '02804013-a550-4ee6-822c-c00a0f7d4985',
        '26393cbc-6912-4f00-8369-1d01e64440ec'
    )
    
2023-12-13 16:45:19.719 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO org_role_rels (org_id, role_id)
    VALUES (
        '1b33d5f9-6655-492e-9ad0-ca8125f88b2c',
        '26393cbc-6912-4f00-8369-1d01e64440ec'
    )
    
2023-12-13 16:45:19.723 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '26393cbc-6912-4f00-8369-1d01e64440ec',
            '8f63e587-b802-4cfd-8ead-d3423237b054'
        )
        
2023-12-13 16:45:19.726 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '26393cbc-6912-4f00-8369-1d01e64440ec',
            '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
        )
        
2023-12-13 16:45:19.728 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '26393cbc-6912-4f00-8369-1d01e64440ec',
            '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
        )
        
2023-12-13 16:45:19.728 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '26393cbc-6912-4f00-8369-1d01e64440ec',
            '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
        )
        
2023-12-13 16:45:19.729 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '26393cbc-6912-4f00-8369-1d01e64440ec',
            'dd96b563-2476-4904-a880-a2cffe1ea0ac'
        )
        
2023-12-13 16:45:19.730 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '26393cbc-6912-4f00-8369-1d01e64440ec',
            '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
        )
        
2023-12-13 16:45:19.731 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '26393cbc-6912-4f00-8369-1d01e64440ec',
            '2ca11194-6079-41e8-8b26-275aa42848fa'
        )
        
2023-12-13 16:45:19.736 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '26393cbc-6912-4f00-8369-1d01e64440ec',
            '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
        )
        
2023-12-13 16:45:19.737 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '26393cbc-6912-4f00-8369-1d01e64440ec',
            '58289de8-b6b7-4629-9016-58e5d30e89ee'
        )
        
2023-12-13 16:45:19.739 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '26393cbc-6912-4f00-8369-1d01e64440ec',
            '2065f63f-5e95-432e-9545-eed26715dc49'
        )
        
2023-12-13 16:45:19.740 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '26393cbc-6912-4f00-8369-1d01e64440ec',
            '55762da2-4d17-418e-b09f-e6249645ec18'
        )
        
2023-12-13 16:45:19.741 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '26393cbc-6912-4f00-8369-1d01e64440ec',
            'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
        )
        
2023-12-13 16:45:19.743 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '26393cbc-6912-4f00-8369-1d01e64440ec',
            'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
        )
        
2023-12-13 16:45:19.747 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '26393cbc-6912-4f00-8369-1d01e64440ec',
            'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7'
        )
        
2023-12-13 16:45:19.749 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63326 - "POST /org HTTP/1.1" 200
2023-12-13 16:45:19.904 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63326 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 16:45:19.904 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63329 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 16:45:19.912 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 16:45:19.915 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63329 - "GET /orgs HTTP/1.1" 200
2023-12-13 16:45:19.924 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 16:45:19.927 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63326 - "GET /orgs HTTP/1.1" 200
2023-12-13 16:46:13.530 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63551 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-13 16:46:13.533 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63556 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-13 16:46:13.538 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 16:46:13.540 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-13 16:46:13.544 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-13 16:46:13.545 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 16:46:13.545 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63552 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 16:46:13.548 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 16:46:13.553 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63553 - "GET /options/users HTTP/1.1" 200
2023-12-13 16:46:13.554 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63554 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 16:46:13.556 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63551 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-13 16:46:13.557 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 16:46:13.564 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 16:46:13.565 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 16:46:13.565 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63556 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 16:46:13.569 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-13 16:46:13.569 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63553 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 16:46:13.569 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63552 - "GET /options/users HTTP/1.1" 200
2023-12-13 16:46:13.571 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-13 16:46:13.572 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63554 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-13 16:46:29.289 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 16:46:29.299 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63625 - "GET /orgs HTTP/1.1" 200
2023-12-13 16:46:29.308 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 16:46:29.312 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63627 - "GET /orgs HTTP/1.1" 200
2023-12-13 16:46:30.915 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 16:46:30.920 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63627 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 16:46:30.920 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 16:46:30.921 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 16:46:30.923 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63625 - "GET /options/users HTTP/1.1" 200
2023-12-13 16:46:30.924 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63638 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 16:46:30.928 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 16:46:30.930 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 16:46:30.931 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63642 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 16:46:30.933 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 16:46:30.934 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63627 - "GET /options/users HTTP/1.1" 200
2023-12-13 16:46:30.934 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63625 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 16:46:59.813 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id
    FROM
        users
    WHERE
        users.email = '002@demo.com';
    
2023-12-13 16:46:59.820 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO users
        (
            last_name,
            first_name,
            email,
            password
        )
    VALUES
        (
            '山田',
            '二郎',
            '002@demo.com',
            '12345678'
        )
    RETURNING id;
    
2023-12-13 16:46:59.825 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63766 - "POST /user HTTP/1.1" 200
2023-12-13 16:46:59.837 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 16:46:59.840 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63766 - "GET /options/users HTTP/1.1" 200
2023-12-13 16:47:35.083 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO orgs (p_id, type, name)
    VALUES (
        '1b33d5f9-6655-492e-9ad0-ca8125f88b2c',
        '02',
        '東京'
    )
    RETURNING id;
    
2023-12-13 16:47:35.087 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO roles (type, name)
    VALUES (
        '02',
        'エリア管理者'
    )
    RETURNING id;
    
2023-12-13 16:47:35.088 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_org_rels (user_id, org_id)
    VALUES (
        '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a',
        'b0dbab0c-df54-47bf-be27-78e01a5dd91f'
    )
    
2023-12-13 16:47:35.092 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_role_rels (user_id, role_id)
    VALUES (
        '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a',
        '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9'
    )
    
2023-12-13 16:47:35.095 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO org_role_rels (org_id, role_id)
    VALUES (
        'b0dbab0c-df54-47bf-be27-78e01a5dd91f',
        '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9'
    )
    
2023-12-13 16:47:35.098 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9',
            '8f63e587-b802-4cfd-8ead-d3423237b054'
        )
        
2023-12-13 16:47:35.100 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9',
            '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
        )
        
2023-12-13 16:47:35.103 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9',
            '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
        )
        
2023-12-13 16:47:35.105 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9',
            '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
        )
        
2023-12-13 16:47:35.109 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9',
            'dd96b563-2476-4904-a880-a2cffe1ea0ac'
        )
        
2023-12-13 16:47:35.112 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9',
            '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
        )
        
2023-12-13 16:47:35.118 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9',
            '2ca11194-6079-41e8-8b26-275aa42848fa'
        )
        
2023-12-13 16:47:35.120 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9',
            '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
        )
        
2023-12-13 16:47:35.123 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9',
            '58289de8-b6b7-4629-9016-58e5d30e89ee'
        )
        
2023-12-13 16:47:35.124 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9',
            '2065f63f-5e95-432e-9545-eed26715dc49'
        )
        
2023-12-13 16:47:35.126 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9',
            '55762da2-4d17-418e-b09f-e6249645ec18'
        )
        
2023-12-13 16:47:35.127 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9',
            'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7'
        )
        
2023-12-13 16:47:35.128 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9',
            'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
        )
        
2023-12-13 16:47:35.129 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63910 - "POST /org HTTP/1.1" 200
2023-12-13 16:47:35.308 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 16:47:35.311 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63910 - "GET /orgs HTTP/1.1" 200
2023-12-13 16:47:35.316 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 16:47:35.319 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63914 - "GET /orgs HTTP/1.1" 200
2023-12-13 16:47:44.693 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63957 - "OPTIONS /org/b0dbab0c-df54-47bf-be27-78e01a5dd91f HTTP/1.1" 200
2023-12-13 16:47:44.696 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63961 - "OPTIONS /org/b0dbab0c-df54-47bf-be27-78e01a5dd91f HTTP/1.1" 200
2023-12-13 16:47:44.700 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 16:47:44.701 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f';
    
2023-12-13 16:47:44.701 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 16:47:44.704 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63958 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 16:47:44.704 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f';
    
2023-12-13 16:47:44.706 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63959 - "GET /options/users HTTP/1.1" 200
2023-12-13 16:47:44.708 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 16:47:44.711 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63960 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 16:47:44.711 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63957 - "GET /org/b0dbab0c-df54-47bf-be27-78e01a5dd91f HTTP/1.1" 200
2023-12-13 16:47:44.714 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 16:47:44.714 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 16:47:44.718 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 16:47:44.718 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63961 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 16:47:44.719 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63958 - "GET /options/users HTTP/1.1" 200
2023-12-13 16:47:44.722 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f';
    
2023-12-13 16:47:44.722 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63959 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 16:47:44.723 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f';
    
2023-12-13 16:47:44.724 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63957 - "GET /org/b0dbab0c-df54-47bf-be27-78e01a5dd91f HTTP/1.1" 200
2023-12-13 17:08:47.237 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 17:08:47.340 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 17:08:47.340 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 17:08:47.341 | INFO     | uvicorn.server:serve:86 - Finished server process [98236]
2023-12-13 17:08:47.809 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 17:11:43.795 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 17:11:43.896 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 17:11:43.897 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 17:11:43.897 | INFO     | uvicorn.server:serve:86 - Finished server process [99005]
2023-12-13 17:14:22.760 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 17:16:15.106 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 17:16:15.208 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 17:16:15.208 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 17:16:15.208 | INFO     | uvicorn.server:serve:86 - Finished server process [99081]
2023-12-13 17:16:15.604 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 17:18:40.104 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 17:18:40.206 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 17:18:40.207 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 17:18:40.207 | INFO     | uvicorn.server:serve:86 - Finished server process [99101]
2023-12-13 17:18:40.606 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 17:19:16.805 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 17:19:16.907 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 17:19:16.908 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 17:19:16.908 | INFO     | uvicorn.server:serve:86 - Finished server process [99132]
2023-12-13 17:19:17.314 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 17:26:12.218 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 17:26:12.320 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 17:26:12.321 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 17:26:12.321 | INFO     | uvicorn.server:serve:86 - Finished server process [99145]
2023-12-13 17:26:12.733 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 17:26:39.544 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 17:26:39.646 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 17:26:39.647 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 17:26:39.647 | INFO     | uvicorn.server:serve:86 - Finished server process [99208]
2023-12-13 17:26:40.044 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 17:28:05.872 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 17:28:05.973 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 17:28:05.974 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 17:28:05.974 | INFO     | uvicorn.server:serve:86 - Finished server process [99221]
2023-12-13 17:28:06.368 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 17:28:13.750 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 17:28:13.852 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 17:28:13.853 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 17:28:13.853 | INFO     | uvicorn.server:serve:86 - Finished server process [99246]
2023-12-13 17:28:14.252 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 17:28:26.990 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 17:28:27.092 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 17:28:27.093 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 17:28:27.093 | INFO     | uvicorn.server:serve:86 - Finished server process [99257]
2023-12-13 17:28:27.481 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 17:44:28.838 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 17:44:28.940 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 17:44:28.942 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 17:44:28.942 | INFO     | uvicorn.server:serve:86 - Finished server process [99263]
2023-12-13 17:44:29.340 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 17:44:42.203 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60513 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 17:44:42.205 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60513 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 17:44:42.210 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 17:44:42.216 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60514 - "GET /orgs HTTP/1.1" 200
2023-12-13 17:44:42.222 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 17:44:42.225 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60513 - "GET /orgs HTTP/1.1" 200
2023-12-13 17:58:24.873 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 17:58:24.975 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 17:58:24.976 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 17:58:24.976 | INFO     | uvicorn.server:serve:86 - Finished server process [99400]
2023-12-13 17:58:25.374 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 17:58:28.507 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 17:58:28.609 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 17:58:28.610 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 17:58:28.610 | INFO     | uvicorn.server:serve:86 - Finished server process [99570]
2023-12-13 17:58:29.020 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 17:58:42.667 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 17:58:42.769 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 17:58:42.771 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 17:58:42.771 | INFO     | uvicorn.server:serve:86 - Finished server process [99578]
2023-12-13 17:58:43.172 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 18:05:01.124 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 18:05:01.227 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 18:05:01.227 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 18:05:01.228 | INFO     | uvicorn.server:serve:86 - Finished server process [99584]
2023-12-13 18:05:01.707 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 18:07:43.452 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 18:07:43.553 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 18:07:43.554 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 18:07:43.554 | INFO     | uvicorn.server:serve:86 - Finished server process [99642]
2023-12-13 18:07:43.957 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 18:26:10.928 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54185 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 18:26:10.929 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54186 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 18:26:10.930 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54187 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 18:26:10.932 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54188 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 18:26:10.943 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 18:26:10.944 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 18:26:10.958 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54185 - "GET /orgs HTTP/1.1" 200
2023-12-13 18:26:10.960 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 18:26:10.963 | ERROR    | app.endpoints.auth:update_token:54 - column reference "type" is ambiguousTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1050c19d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104e3f430>
           └ <SpawnProcess name='SpawnProcess-97' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104e32a60>
    └ <SpawnProcess name='SpawnProcess-97' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1050cf1f0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-97' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-97' parent=92396 started>
    │    └ <function subprocess_started at 0x107530310>
    └ <SpawnProcess name='SpawnProcess-97' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1050cf310>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x10751c8b0>
           │       │   └ <uvicorn.server.Server object at 0x1050cf310>
           │       └ <function run at 0x1050ff820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1075242c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x107571d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10779cf10>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10779cf...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10764f730>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x107571d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10779cf10>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10779cf...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10779cf10>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10779cf...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107773580>
          └ <fastapi.applications.FastAPI object at 0x10764f730>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107648ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10779cf...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x107773520>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107773580>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107648ee0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10779cf...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x106cfbaf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107773520>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x107773520>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10779cf...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1077734f0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107773520>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10776f0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10779cf...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107773490>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1077734f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10776f0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10779cf...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10764f850>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107773490>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10776f0d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10779cf...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106c51af0>
          └ APIRoute(path='/token', name='update_token', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10776f0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10779cf...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x107655b80>
          └ APIRoute(path='/token', name='update_token', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1077736d0>
                     └ <function get_request_handler.<locals>.app at 0x107655af0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x106c40790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x107538b80>, 'id': 'd6c9c874-dce6-41f3-b818-b2b812aaec8b'}
                 │         └ <function update_token at 0x1073f61f0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10763b610>

> File "/Users/ryu/loan-ledger-if/app/endpoints/auth.py", line 47, in update_token
    payload = await auth_crud.query_token_payload(db, id)
                    │         │                   │   └ 'd6c9c874-dce6-41f3-b818-b2b812aaec8b'
                    │         │                   └ <providers.psql_provider.DB object at 0x107538b80>
                    │         └ <function query_token_payload at 0x10710c9d0>
                    └ <module 'app.crud.auth_crud' from '/Users/ryu/loan-ledger-if/app/crud/auth_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/auth_crud.py", line 52, in query_token_payload
    orgs = await db.fetch_all(sql)
                 │  │         └ "\n    SELECT\n        id,\n        p_id,\n        type,\n        name,\n        remark\n    FROM\n        orgs\n    JOIN\n  ...
                 │  └ <function DB.fetch_all at 0x107101c10>
                 └ <providers.psql_provider.DB object at 0x107538b80>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        id,\n        p_id,\n        type,\n        name,\n        remark\n    FROM\n        orgs\n    JOIN\n  ...
                   │   └ <function Connection.fetch at 0x106e5a0d0>
                   └ <PoolConnectionProxy [released] 0x10776e250>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x106e471f0>
                 └ <asyncpg.connection.Connection object at 0x10777dc70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x10777dc70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x106e475e0>
                         └ <asyncpg.connection.Connection object at 0x10777dc70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x106e45700>
                 └ <asyncpg.connection.Connection object at 0x10777dc70>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x10777dc70>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.AmbiguousColumnError: column reference "type" is ambiguous

2023-12-13 18:26:10.987 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54186 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 500
2023-12-13 18:26:11.008 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 18:26:11.008 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 18:26:11.010 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 18:26:11.010 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54188 - "GET /orgs HTTP/1.1" 200
2023-12-13 18:26:11.011 | ERROR    | app.endpoints.auth:update_token:54 - column reference "type" is ambiguousTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1050c19d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104e3f430>
           └ <SpawnProcess name='SpawnProcess-97' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104e32a60>
    └ <SpawnProcess name='SpawnProcess-97' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1050cf1f0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-97' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-97' parent=92396 started>
    │    └ <function subprocess_started at 0x107530310>
    └ <SpawnProcess name='SpawnProcess-97' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1050cf310>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x10751c8b0>
           │       │   └ <uvicorn.server.Server object at 0x1050cf310>
           │       └ <function run at 0x1050ff820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1075242c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x107571d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10776e190>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10776e1...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10764f730>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x107571d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10776e190>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10776e1...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10776e190>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10776e1...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107773580>
          └ <fastapi.applications.FastAPI object at 0x10764f730>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10776ff70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10776e1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x107773520>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107773580>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10776ff70>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10776e1...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x106cfbaf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107773520>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x107773520>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10776e1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1077734f0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107773520>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10776fb80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10776e1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107773490>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1077734f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10776fb80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10776e1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10764f850>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107773490>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10776fb80>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10776e1...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106c51af0>
          └ APIRoute(path='/token', name='update_token', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10776fb80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10776e1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x107655b80>
          └ APIRoute(path='/token', name='update_token', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10776e310>
                     └ <function get_request_handler.<locals>.app at 0x107655af0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x106c40790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x107538b80>, 'id': 'd6c9c874-dce6-41f3-b818-b2b812aaec8b'}
                 │         └ <function update_token at 0x1073f61f0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10763b610>

> File "/Users/ryu/loan-ledger-if/app/endpoints/auth.py", line 47, in update_token
    payload = await auth_crud.query_token_payload(db, id)
                    │         │                   │   └ 'd6c9c874-dce6-41f3-b818-b2b812aaec8b'
                    │         │                   └ <providers.psql_provider.DB object at 0x107538b80>
                    │         └ <function query_token_payload at 0x10710c9d0>
                    └ <module 'app.crud.auth_crud' from '/Users/ryu/loan-ledger-if/app/crud/auth_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/auth_crud.py", line 52, in query_token_payload
    orgs = await db.fetch_all(sql)
                 │  │         └ "\n    SELECT\n        id,\n        p_id,\n        type,\n        name,\n        remark\n    FROM\n        orgs\n    JOIN\n  ...
                 │  └ <function DB.fetch_all at 0x107101c10>
                 └ <providers.psql_provider.DB object at 0x107538b80>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        id,\n        p_id,\n        type,\n        name,\n        remark\n    FROM\n        orgs\n    JOIN\n  ...
                   │   └ <function Connection.fetch at 0x106e5a0d0>
                   └ <PoolConnectionProxy [released] 0x10779c7f0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x106e471f0>
                 └ <asyncpg.connection.Connection object at 0x1078dc400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1078dc400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x106e475e0>
                         └ <asyncpg.connection.Connection object at 0x1078dc400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x106e45700>
                 └ <asyncpg.connection.Connection object at 0x1078dc400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1078dc400>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.AmbiguousColumnError: column reference "type" is ambiguous

2023-12-13 18:26:11.017 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54185 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 500
2023-12-13 18:26:48.148 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54350 - "OPTIONS /token HTTP/1.1" 200
2023-12-13 18:26:48.163 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password
    FROM
        users
    WHERE
        users.email = 'admin@demo.com';
    
2023-12-13 18:26:48.168 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 18:26:48.174 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 18:26:48.178 | ERROR    | app.endpoints.auth:auth_for_token:36 - column reference "type" is ambiguousTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1050c19d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104e3f430>
           └ <SpawnProcess name='SpawnProcess-97' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104e32a60>
    └ <SpawnProcess name='SpawnProcess-97' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1050cf1f0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-97' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-97' parent=92396 started>
    │    └ <function subprocess_started at 0x107530310>
    └ <SpawnProcess name='SpawnProcess-97' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1050cf310>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x10751c8b0>
           │       │   └ <uvicorn.server.Server object at 0x1050cf310>
           │       └ <function run at 0x1050ff820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1075242c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x107571d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107773d90>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107773d...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10764f730>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x107571d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107773d90>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107773d...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107773d90>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107773d...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107773580>
          └ <fastapi.applications.FastAPI object at 0x10764f730>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107655dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107773d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x107773520>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107773580>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'content-length': '48', 'accept': 'application/json, text/plain,...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107655dc0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107773d...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x106cfbaf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107773520>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x107773520>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107773d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1077734f0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107773520>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1070e1700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107773d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107773490>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1077734f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1070e1700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107773d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10764f850>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107773490>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1070e1700>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107773d...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106c51af0>
          └ APIRoute(path='/token', name='auth_for_token', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1070e1700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107773d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1076554c0>
          └ APIRoute(path='/token', name='auth_for_token', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1077732e0>
                     └ <function get_request_handler.<locals>.app at 0x107655430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x106c40790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x107538b80>, 'auth_user': {'email': 'admin@demo.com', 'password': '12345678'}}
                 │         └ <function auth_for_token at 0x1073f1a60>
                 └ <fastapi.dependencies.models.Dependant object at 0x10764fbe0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/auth.py", line 29, in auth_for_token
    payload = await auth_crud.query_token_payload(db, db_user["id"])
                    │         │                   │   └ {'id': 'd6c9c874-dce6-41f3-b818-b2b812aaec8b', 'email': 'admin@demo.com', 'password': '12345678'}
                    │         │                   └ <providers.psql_provider.DB object at 0x107538b80>
                    │         └ <function query_token_payload at 0x10710c9d0>
                    └ <module 'app.crud.auth_crud' from '/Users/ryu/loan-ledger-if/app/crud/auth_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/auth_crud.py", line 52, in query_token_payload
    orgs = await db.fetch_all(sql)
                 │  │         └ "\n    SELECT\n        id,\n        p_id,\n        type,\n        name,\n        remark\n    FROM\n        orgs\n    JOIN\n  ...
                 │  └ <function DB.fetch_all at 0x107101c10>
                 └ <providers.psql_provider.DB object at 0x107538b80>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        id,\n        p_id,\n        type,\n        name,\n        remark\n    FROM\n        orgs\n    JOIN\n  ...
                   │   └ <function Connection.fetch at 0x106e5a0d0>
                   └ <PoolConnectionProxy [released] 0x107773d30>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x106e471f0>
                 └ <asyncpg.connection.Connection object at 0x10777d7c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x10777d7c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x106e475e0>
                         └ <asyncpg.connection.Connection object at 0x10777d7c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x106e45700>
                 └ <asyncpg.connection.Connection object at 0x10777d7c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x10777d7c0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.AmbiguousColumnError: column reference "type" is ambiguous

2023-12-13 18:26:48.199 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54350 - "POST /token HTTP/1.1" 500
2023-12-13 18:28:44.071 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 18:28:44.174 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 18:28:44.174 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 18:28:44.175 | INFO     | uvicorn.server:serve:86 - Finished server process [99679]
2023-12-13 18:28:44.639 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 18:29:28.223 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password
    FROM
        users
    WHERE
        users.email = 'admin@demo.com';
    
2023-12-13 18:29:28.226 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 18:29:28.228 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        type,
        name,
        remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 18:29:28.233 | ERROR    | app.endpoints.auth:auth_for_token:36 - column reference "type" is ambiguousTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1029859d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102703430>
           └ <SpawnProcess name='SpawnProcess-98' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1026f6a60>
    └ <SpawnProcess name='SpawnProcess-98' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1029931f0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-98' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-98' parent=92396 started>
    │    └ <function subprocess_started at 0x104df2310>
    └ <SpawnProcess name='SpawnProcess-98' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102993310>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x104ddf8b0>
           │       │   └ <uvicorn.server.Server object at 0x102993310>
           │       └ <function run at 0x1029c3820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x104de6240>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104e34d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104eff6a0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104eff6...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x104f14730>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104e34d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104eff6a0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104eff6...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104eff6a0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104eff6...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x105037580>
          └ <fastapi.applications.FastAPI object at 0x104f14730>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x104f18a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104eff6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x105037520>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x105037580>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'content-length': '48', 'accept': 'application/json, text/plain,...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x104f18a60>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104eff6...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x1045beaf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x105037520>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x105037520>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104eff6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1050374f0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x105037520>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104f18d30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104eff6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x105037490>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1050374f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104f18d30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104eff6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x104f14850>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x105037490>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104f18d30>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104eff6...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x104512af0>
          └ APIRoute(path='/token', name='auth_for_token', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x104f18d30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x104eff6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x104f184c0>
          └ APIRoute(path='/token', name='auth_for_token', methods=['POST'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x104c76fd0>
                     └ <function get_request_handler.<locals>.app at 0x104f18430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104503790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x104dfcb80>, 'auth_user': {'email': 'admin@demo.com', 'password': '12345678'}}
                 │         └ <function auth_for_token at 0x104cb5a60>
                 └ <fastapi.dependencies.models.Dependant object at 0x104f14be0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/auth.py", line 29, in auth_for_token
    payload = await auth_crud.query_token_payload(db, db_user["id"])
                    │         │                   │   └ {'id': 'd6c9c874-dce6-41f3-b818-b2b812aaec8b', 'email': 'admin@demo.com', 'password': '12345678'}
                    │         │                   └ <providers.psql_provider.DB object at 0x104dfcb80>
                    │         └ <function query_token_payload at 0x1049d09d0>
                    └ <module 'app.crud.auth_crud' from '/Users/ryu/loan-ledger-if/app/crud/auth_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/auth_crud.py", line 52, in query_token_payload
    orgs = await db.fetch_all(sql)
                 │  │         └ "\n    SELECT\n        id,\n        p_id,\n        type,\n        name,\n        remark\n    FROM\n        orgs\n    JOIN\n  ...
                 │  └ <function DB.fetch_all at 0x1049c5c10>
                 └ <providers.psql_provider.DB object at 0x104dfcb80>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 40, in fetch_all
    result = await con.fetch(query)
                   │   │     └ "\n    SELECT\n        id,\n        p_id,\n        type,\n        name,\n        remark\n    FROM\n        orgs\n    JOIN\n  ...
                   │   └ <function Connection.fetch at 0x10471e0d0>
                   └ <PoolConnectionProxy [released] 0x105037bb0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 691, in fetch
    return await self._execute(
                 │    └ <function Connection._execute at 0x10470b1f0>
                 └ <asyncpg.connection.Connection object at 0x1050416d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1050416d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x10470b5e0>
                         └ <asyncpg.connection.Connection object at 0x1050416d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x104709700>
                 └ <asyncpg.connection.Connection object at 0x1050416d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1050416d0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.AmbiguousColumnError: column reference "type" is ambiguous

2023-12-13 18:29:28.261 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55003 - "POST /token HTTP/1.1" 500
2023-12-13 18:33:18.990 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 18:33:19.093 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 18:33:19.094 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 18:33:19.094 | INFO     | uvicorn.server:serve:86 - Finished server process [99903]
2023-12-13 18:33:19.548 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 18:34:14.549 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        password
    FROM
        users
    WHERE
        users.email = 'admin@demo.com';
    
2023-12-13 18:34:14.555 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 18:34:14.559 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.type,
        orgs.name,
        orgs.remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 18:34:14.562 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 18:34:14.572 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 18:34:14.577 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56171 - "POST /token HTTP/1.1" 200
2023-12-13 18:35:08.025 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 18:35:08.028 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56390 - "GET /orgs HTTP/1.1" 200
2023-12-13 18:35:08.034 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 18:35:08.039 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56392 - "GET /orgs HTTP/1.1" 200
2023-12-13 18:35:14.007 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 18:35:14.010 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 18:35:14.019 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56423 - "GET /orgs HTTP/1.1" 200
2023-12-13 18:35:14.019 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.type,
        orgs.name,
        orgs.remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 18:35:14.028 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 18:35:14.030 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 18:35:14.044 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 18:35:14.047 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56427 - "GET /orgs HTTP/1.1" 200
2023-12-13 18:35:14.061 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56424 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 18:35:14.072 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 18:35:14.073 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.type,
        orgs.name,
        orgs.remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 18:35:14.075 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 18:35:14.090 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 18:35:14.097 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56427 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 18:36:47.184 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 18:36:47.286 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 18:36:47.287 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 18:36:47.287 | INFO     | uvicorn.server:serve:86 - Finished server process [99959]
2023-12-13 18:36:47.737 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 20:03:25.461 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 20:03:25.562 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 20:03:25.562 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 20:03:25.562 | INFO     | uvicorn.server:serve:86 - Finished server process [129]
2023-12-13 20:03:26.036 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 20:09:21.508 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 20:09:21.609 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 20:09:21.610 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 20:09:21.610 | INFO     | uvicorn.server:serve:86 - Finished server process [1218]
2023-12-13 20:09:22.007 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 20:10:42.371 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 20:10:42.473 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 20:10:42.473 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 20:10:42.474 | INFO     | uvicorn.server:serve:86 - Finished server process [1285]
2023-12-13 20:10:42.872 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 20:20:12.755 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 20:20:12.856 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 20:20:12.857 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 20:20:12.857 | INFO     | uvicorn.server:serve:86 - Finished server process [1303]
2023-12-13 20:20:13.262 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 20:20:28.029 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 20:20:28.130 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 20:20:28.131 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 20:20:28.131 | INFO     | uvicorn.server:serve:86 - Finished server process [1399]
2023-12-13 20:20:28.519 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 20:20:46.929 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 20:20:47.030 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 20:20:47.031 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 20:20:47.031 | INFO     | uvicorn.server:serve:86 - Finished server process [1415]
2023-12-13 20:20:47.427 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 20:21:03.707 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 20:21:03.808 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 20:21:03.809 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 20:21:03.809 | INFO     | uvicorn.server:serve:86 - Finished server process [1423]
2023-12-13 20:21:04.191 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 20:21:39.487 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 20:21:39.588 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 20:21:39.588 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 20:21:39.589 | INFO     | uvicorn.server:serve:86 - Finished server process [1432]
2023-12-13 20:21:39.989 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 20:21:53.031 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 20:21:53.132 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 20:21:53.133 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 20:21:53.133 | INFO     | uvicorn.server:serve:86 - Finished server process [1443]
2023-12-13 20:21:53.517 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 20:22:11.412 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 20:22:11.513 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 20:22:11.514 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 20:22:11.514 | INFO     | uvicorn.server:serve:86 - Finished server process [1450]
2023-12-13 20:22:11.945 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 20:22:18.521 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 20:22:18.623 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 20:22:18.623 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 20:22:18.624 | INFO     | uvicorn.server:serve:86 - Finished server process [1460]
2023-12-13 20:22:19.028 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 20:22:22.569 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 20:22:22.671 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 20:22:22.671 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 20:22:22.672 | INFO     | uvicorn.server:serve:86 - Finished server process [1468]
2023-12-13 20:22:23.054 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 20:23:35.368 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 20:23:35.473 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 20:23:35.473 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 20:23:35.474 | INFO     | uvicorn.server:serve:86 - Finished server process [1473]
2023-12-13 20:23:35.884 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 20:23:59.946 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 20:24:00.048 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 20:24:00.048 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 20:24:00.049 | INFO     | uvicorn.server:serve:86 - Finished server process [1490]
2023-12-13 20:24:00.450 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 20:24:16.218 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 20:24:16.319 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 20:24:16.320 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 20:24:16.320 | INFO     | uvicorn.server:serve:86 - Finished server process [1501]
2023-12-13 20:24:16.693 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 20:24:41.070 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 20:24:41.170 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 20:24:41.170 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 20:24:41.170 | INFO     | uvicorn.server:serve:86 - Finished server process [1509]
2023-12-13 20:24:41.562 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 20:25:24.734 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50355 - "OPTIONS /org/b0dbab0c-df54-47bf-be27-78e01a5dd91f HTTP/1.1" 200
2023-12-13 20:25:24.735 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50356 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 20:25:24.735 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50357 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 20:25:24.736 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50355 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 20:25:24.736 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50358 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 20:25:24.737 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50359 - "OPTIONS /org/b0dbab0c-df54-47bf-be27-78e01a5dd91f HTTP/1.1" 200
2023-12-13 20:25:24.737 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50360 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 20:25:24.739 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50356 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 20:25:24.758 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 20:25:24.759 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 20:25:24.760 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
        ON
        user_org_rels.type LIKE '%0'
    WHERE
        orgs.id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f';
    
2023-12-13 20:25:24.765 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50359 - "GET /options/users HTTP/1.1" 200
2023-12-13 20:25:24.770 | ERROR    | app.endpoints.orgs:get_org:57 - syntax error at or near "ON"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1031799d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102ef7430>
           └ <SpawnProcess name='SpawnProcess-116' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102eeaa60>
    └ <SpawnProcess name='SpawnProcess-116' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1031871f0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-116' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-116' parent=92396 started>
    │    └ <function subprocess_started at 0x105b0c670>
    └ <SpawnProcess name='SpawnProcess-116' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x103187310>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x105b01c10>
           │       │   └ <uvicorn.server.Server object at 0x103187310>
           │       └ <function run at 0x1031b7820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x105b0a2c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x105b59d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105d5c6d0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105d5c6...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x105c37730>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x105b59d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105d5c6d0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105d5c6...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105d5c6d0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105d5c6...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x105d5c580>
          └ <fastapi.applications.FastAPI object at 0x105c37730>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x105d54670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105d5c6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x105d5c520>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x105d5c580>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x105d54670>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105d5c6...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x1051b7af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x105d5c520>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x105d5c520>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105d5c6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x105d5c4f0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x105d5c520>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105d54700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105d5c6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x105d5c490>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x105d5c4f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105d54700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105d5c6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x105c37850>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x105d5c490>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105d54700>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105d5c6...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10510daf0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105d54700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105d5c6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x105d54280>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x105c37280>
                     └ <function get_request_handler.<locals>.app at 0x105d541f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104efc790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x105b1fb80>, 'org_id': 'b0dbab0c-df54-47bf-be27-78e01a5dd91f'}
                 │         └ <function get_org at 0x1058b23a0>
                 └ <fastapi.dependencies.models.Dependant object at 0x105d52520>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ 'b0dbab0c-df54-47bf-be27-78e01a5dd91f'
                │         │         └ <providers.psql_provider.DB object at 0x105b1fb80>
                │         └ <function query_org at 0x1058b2f70>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 109, in query_org
    org_basic = await db.fetch_one(sql)
                      │  │         └ "\n    SELECT\n        orgs.p_id,\n        orgs.name,\n        orgs.remark,\n        orgs.type,\n        user_org_rels.user_i...
                      │  └ <function DB.fetch_one at 0x1055bdaf0>
                      └ <providers.psql_provider.DB object at 0x105b1fb80>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 31, in fetch_one
    result = await con.fetchrow(query)
                   │   │        └ "\n    SELECT\n        orgs.p_id,\n        orgs.name,\n        orgs.remark,\n        orgs.type,\n        user_org_rels.user_i...
                   │   └ <function Connection.fetchrow at 0x105316160>
                   └ <PoolConnectionProxy [released] 0x105d573d0>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 749, in fetchrow
    data = await self._execute(
                 │    └ <function Connection._execute at 0x1053031f0>
                 └ <asyncpg.connection.Connection object at 0x105d66d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x105d66d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1053035e0>
                         └ <asyncpg.connection.Connection object at 0x105d66d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x105301700>
                 └ <asyncpg.connection.Connection object at 0x105d66d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x105d66d60>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.PostgresSyntaxError: syntax error at or near "ON"

2023-12-13 20:25:24.786 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50357 - "GET /org/b0dbab0c-df54-47bf-be27-78e01a5dd91f HTTP/1.1" 500
2023-12-13 20:25:24.786 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 20:25:24.787 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50360 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 20:25:24.790 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 20:25:24.792 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50358 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 20:25:24.795 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
        ON
        user_org_rels.type LIKE '%0'
    WHERE
        orgs.id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f';
    
2023-12-13 20:25:24.795 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50356 - "GET /options/users HTTP/1.1" 200
2023-12-13 20:25:24.796 | ERROR    | app.endpoints.orgs:get_org:57 - syntax error at or near "ON"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1031799d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102ef7430>
           └ <SpawnProcess name='SpawnProcess-116' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102eeaa60>
    └ <SpawnProcess name='SpawnProcess-116' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1031871f0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-116' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-116' parent=92396 started>
    │    └ <function subprocess_started at 0x105b0c670>
    └ <SpawnProcess name='SpawnProcess-116' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x103187310>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x105b01c10>
           │       │   └ <uvicorn.server.Server object at 0x103187310>
           │       └ <function run at 0x1031b7820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x105b0a2c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x105b59d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106109cd0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106109c...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x105c37730>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x105b59d60>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106109cd0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106109c...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106109cd0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106109c...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x105d5c580>
          └ <fastapi.applications.FastAPI object at 0x105c37730>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x105c393a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106109c...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x105d5c520>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x105d5c580>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x105c393a0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106109c...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x1051b7af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x105d5c520>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x105d5c520>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106109c...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x105d5c4f0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x105d5c520>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105d543a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106109c...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x105d5c490>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x105d5c4f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105d543a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106109c...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x105c37850>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x105d5c490>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105d543a0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106109c...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10510daf0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x105d543a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x106109c...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x105d54280>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1061093a0>
                     └ <function get_request_handler.<locals>.app at 0x105d541f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104efc790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x105b1fb80>, 'org_id': 'b0dbab0c-df54-47bf-be27-78e01a5dd91f'}
                 │         └ <function get_org at 0x1058b23a0>
                 └ <fastapi.dependencies.models.Dependant object at 0x105d52520>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ 'b0dbab0c-df54-47bf-be27-78e01a5dd91f'
                │         │         └ <providers.psql_provider.DB object at 0x105b1fb80>
                │         └ <function query_org at 0x1058b2f70>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 109, in query_org
    org_basic = await db.fetch_one(sql)
                      │  │         └ "\n    SELECT\n        orgs.p_id,\n        orgs.name,\n        orgs.remark,\n        orgs.type,\n        user_org_rels.user_i...
                      │  └ <function DB.fetch_one at 0x1055bdaf0>
                      └ <providers.psql_provider.DB object at 0x105b1fb80>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 31, in fetch_one
    result = await con.fetchrow(query)
                   │   │        └ "\n    SELECT\n        orgs.p_id,\n        orgs.name,\n        orgs.remark,\n        orgs.type,\n        user_org_rels.user_i...
                   │   └ <function Connection.fetchrow at 0x105316160>
                   └ <PoolConnectionProxy [released] 0x106110250>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 749, in fetchrow
    data = await self._execute(
                 │    └ <function Connection._execute at 0x1053031f0>
                 └ <asyncpg.connection.Connection object at 0x1064064f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x1064064f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1053035e0>
                         └ <asyncpg.connection.Connection object at 0x1064064f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x105301700>
                 └ <asyncpg.connection.Connection object at 0x1064064f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x1064064f0>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.PostgresSyntaxError: syntax error at or near "ON"

2023-12-13 20:25:24.800 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50359 - "GET /org/b0dbab0c-df54-47bf-be27-78e01a5dd91f HTTP/1.1" 500
2023-12-13 20:25:24.800 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 20:25:24.803 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50357 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 20:25:24.805 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 20:25:24.806 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50360 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 20:26:48.703 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 20:26:48.805 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 20:26:48.807 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 20:26:48.807 | INFO     | uvicorn.server:serve:86 - Finished server process [1524]
2023-12-13 20:26:49.294 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 20:27:03.424 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50780 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 20:27:03.425 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50781 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 20:27:03.429 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f'
        AND
        user_org_rels.type LIKE '%0';
    
2023-12-13 20:27:03.437 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 20:27:03.438 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 20:27:03.438 | ERROR    | app.endpoints.orgs:get_org:57 - 'NoneType' object is not subscriptableTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1033419d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1030bf430>
           └ <SpawnProcess name='SpawnProcess-117' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1030b2a60>
    └ <SpawnProcess name='SpawnProcess-117' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10334f1f0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-117' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-117' parent=92396 started>
    │    └ <function subprocess_started at 0x1057a4670>
    └ <SpawnProcess name='SpawnProcess-117' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10334f310>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x105799c10>
           │       │   └ <uvicorn.server.Server object at 0x10334f310>
           │       └ <function run at 0x10337f820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1057a22c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1057f17f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1057f10a0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1057f10...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1058d04f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1057f17f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1057f10a0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1057f10...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1057f10a0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1057f10...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1058d1340>
          └ <fastapi.applications.FastAPI object at 0x1058d04f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1058d2b80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1057f10...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1058d12e0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1058d1340>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1058d2b80>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1057f10...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x104f7baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1058d12e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1058d12e0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1057f10...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1058d12b0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1058d12e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1058d2dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1057f10...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1058d1250>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1058d12b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1058d2dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1057f10...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1058d0610>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1058d1250>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1058d2dc0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1057f10...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x104ed1af0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1058d2dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1057f10...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1059ec280>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1058d1520>
                     └ <function get_request_handler.<locals>.app at 0x1059ec1f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104ec0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x104fe2190>, 'org_id': 'b0dbab0c-df54-47bf-be27-78e01a5dd91f'}
                 │         └ <function get_org at 0x1056753a0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1059eb2e0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ 'b0dbab0c-df54-47bf-be27-78e01a5dd91f'
                │         │         └ <providers.psql_provider.DB object at 0x104fe2190>
                │         └ <function query_org at 0x105675f70>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 126, in query_org
    roles.type = '{org_basic["type"]}'

TypeError: 'NoneType' object is not subscriptable

2023-12-13 20:27:03.447 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50776 - "GET /org/b0dbab0c-df54-47bf-be27-78e01a5dd91f HTTP/1.1" 500
2023-12-13 20:27:03.447 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 20:27:03.451 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50778 - "GET /options/users HTTP/1.1" 200
2023-12-13 20:27:03.452 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 20:27:03.454 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50779 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 20:27:03.460 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50777 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 20:27:03.462 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f'
        AND
        user_org_rels.type LIKE '%0';
    
2023-12-13 20:27:03.469 | ERROR    | app.endpoints.orgs:get_org:57 - 'NoneType' object is not subscriptableTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1033419d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1030bf430>
           └ <SpawnProcess name='SpawnProcess-117' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1030b2a60>
    └ <SpawnProcess name='SpawnProcess-117' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10334f1f0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-117' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-117' parent=92396 started>
    │    └ <function subprocess_started at 0x1057a4670>
    └ <SpawnProcess name='SpawnProcess-117' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10334f310>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x105799c10>
           │       │   └ <uvicorn.server.Server object at 0x10334f310>
           │       └ <function run at 0x10337f820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1057a22c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1057f17f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105a6a700>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105a6a7...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1058d04f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1057f17f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105a6a700>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105a6a7...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105a6a700>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105a6a7...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1058d1340>
          └ <fastapi.applications.FastAPI object at 0x1058d04f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1059ec4c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105a6a7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1058d12e0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1058d1340>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1059ec4c0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105a6a7...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x104f7baf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1058d12e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1058d12e0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105a6a7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1058d12b0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1058d12e0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1059ec790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105a6a7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1058d1250>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1058d12b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1059ec790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105a6a7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1058d0610>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1058d1250>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1059ec790>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105a6a7...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x104ed1af0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1059ec790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x105a6a7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1059ec280>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x105a1fdf0>
                     └ <function get_request_handler.<locals>.app at 0x1059ec1f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x104ec0790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x104fe2190>, 'org_id': 'b0dbab0c-df54-47bf-be27-78e01a5dd91f'}
                 │         └ <function get_org at 0x1056753a0>
                 └ <fastapi.dependencies.models.Dependant object at 0x1059eb2e0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ 'b0dbab0c-df54-47bf-be27-78e01a5dd91f'
                │         │         └ <providers.psql_provider.DB object at 0x104fe2190>
                │         └ <function query_org at 0x105675f70>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 126, in query_org
    roles.type = '{org_basic["type"]}'

TypeError: 'NoneType' object is not subscriptable

2023-12-13 20:27:03.474 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50781 - "GET /org/b0dbab0c-df54-47bf-be27-78e01a5dd91f HTTP/1.1" 500
2023-12-13 20:27:03.474 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 20:27:03.475 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 20:27:03.480 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.type,
        orgs.name,
        orgs.remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 20:27:03.480 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50778 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 20:27:03.481 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 20:27:03.492 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50776 - "GET /options/users HTTP/1.1" 200
2023-12-13 20:27:03.500 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50779 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 20:27:03.505 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 20:27:03.510 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 20:27:03.514 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50780 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 20:27:03.520 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 20:27:03.521 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.type,
        orgs.name,
        orgs.remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 20:27:03.522 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 20:27:03.524 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 20:27:03.525 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:50779 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 20:29:08.746 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 20:29:08.847 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 20:29:08.848 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 20:29:08.848 | INFO     | uvicorn.server:serve:86 - Finished server process [1571]
2023-12-13 20:29:09.252 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 20:29:12.894 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 20:29:12.996 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 20:29:12.997 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 20:29:12.997 | INFO     | uvicorn.server:serve:86 - Finished server process [1629]
2023-12-13 20:29:13.390 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 20:29:18.445 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 20:29:18.547 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 20:29:18.547 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 20:29:18.548 | INFO     | uvicorn.server:serve:86 - Finished server process [1637]
2023-12-13 20:29:18.956 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 20:33:17.943 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 20:33:18.044 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 20:33:18.045 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 20:33:18.045 | INFO     | uvicorn.server:serve:86 - Finished server process [1644]
2023-12-13 20:33:18.437 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 20:33:24.093 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 20:33:24.195 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 20:33:24.195 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 20:33:24.195 | INFO     | uvicorn.server:serve:86 - Finished server process [1692]
2023-12-13 20:33:24.574 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 20:33:28.823 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52386 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 20:33:28.824 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52387 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 20:33:28.836 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 20:33:28.841 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52387 - "GET /orgs HTTP/1.1" 200
2023-12-13 20:33:28.848 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 20:33:28.852 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52386 - "GET /orgs HTTP/1.1" 200
2023-12-13 20:33:33.142 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 20:33:33.143 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 20:33:33.148 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.type,
        orgs.name,
        orgs.remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 20:33:33.151 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52386 - "GET /orgs HTTP/1.1" 200
2023-12-13 20:33:33.172 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 20:33:33.178 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 20:33:33.182 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52412 - "GET /orgs HTTP/1.1" 200
2023-12-13 20:33:33.189 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 20:33:33.194 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52387 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 20:33:33.206 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 20:33:33.209 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.type,
        orgs.name,
        orgs.remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 20:33:33.212 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 20:33:33.220 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 20:33:33.227 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52412 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 20:33:39.926 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 20:33:39.933 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 20:33:39.934 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 20:33:39.935 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 20:33:39.936 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52449 - "GET /options/users HTTP/1.1" 200
2023-12-13 20:33:39.941 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52450 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 20:33:39.941 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52448 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 20:33:39.945 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 20:33:39.945 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 20:33:39.945 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f';
    
2023-12-13 20:33:39.946 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 20:33:39.946 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52449 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 20:33:39.947 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52455 - "GET /options/users HTTP/1.1" 200
2023-12-13 20:33:39.947 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52450 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 20:33:39.949 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52447 - "GET /org/b0dbab0c-df54-47bf-be27-78e01a5dd91f HTTP/1.1" 200
2023-12-13 20:33:39.953 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 20:33:39.955 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f';
    
2023-12-13 20:33:39.961 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:52450 - "GET /org/b0dbab0c-df54-47bf-be27-78e01a5dd91f HTTP/1.1" 200
2023-12-13 20:37:07.160 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 20:37:07.262 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 20:37:07.264 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 20:37:07.264 | INFO     | uvicorn.server:serve:86 - Finished server process [1704]
2023-12-13 20:37:07.683 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 20:38:07.627 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 20:38:07.729 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 20:38:07.730 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 20:38:07.730 | INFO     | uvicorn.server:serve:86 - Finished server process [1779]
2023-12-13 20:38:08.144 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 20:39:19.120 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 20:39:19.222 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 20:39:19.222 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 20:39:19.223 | INFO     | uvicorn.server:serve:86 - Finished server process [1805]
2023-12-13 20:39:19.625 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 20:40:33.937 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54155 - "OPTIONS /org/b0dbab0c-df54-47bf-be27-78e01a5dd91f HTTP/1.1" 200
2023-12-13 20:40:33.939 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54155 - "POST /org/b0dbab0c-df54-47bf-be27-78e01a5dd91f HTTP/1.1" 405
2023-12-13 20:40:56.456 | ERROR    | app.endpoints.orgs:new_org:74 - query_org() missing 1 required positional argument: 'org_id'Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1048a19d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10461f430>
           └ <SpawnProcess name='SpawnProcess-125' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104612a60>
    └ <SpawnProcess name='SpawnProcess-125' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1048af1f0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-125' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-125' parent=92396 started>
    │    └ <function subprocess_started at 0x1079249d0>
    └ <SpawnProcess name='SpawnProcess-125' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1048af310>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x107916f70>
           │       │   └ <uvicorn.server.Server object at 0x1048af310>
           │       └ <function run at 0x1048df820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1079212c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1079717c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107b6b8b0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107b6b8...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x107a536d0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1079717c0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107b6b8b0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107b6b8...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107b6b8b0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107b6b8...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107b79730>
          └ <fastapi.applications.FastAPI object at 0x107a536d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107b69940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107b6b8...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x107b796d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107b79730>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'content-length': '644', 'accept': 'application/json, text/plain...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107b69940>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107b6b8...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x1067f7af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107b796d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x107b796d0>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107b6b8...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107b796a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107b796d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107b69b80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107b6b8...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107b79640>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107b796a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107b69b80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107b6b8...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x107a537f0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107b79640>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107b69b80>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107b6b8...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10674daf0>
          └ APIRoute(path='/org/{org_id}', name='new_org', methods=['PUT'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107b69b80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107b6b8...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x107b69790>
          └ APIRoute(path='/org/{org_id}', name='new_org', methods=['PUT'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x107b8f280>
                     └ <function get_request_handler.<locals>.app at 0x107b698b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10673c790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1079398e0>, 'org_id': 'b0dbab0c-df54-47bf-be27-78e01a5dd91f', 'data': {'p_id':...
                 │         └ <function new_org at 0x107802670>
                 └ <fastapi.dependencies.models.Dependant object at 0x107b6f5e0>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 68, in new_org
    await orgs_crud.update_org(db, data, org_id)
          │         │          │   │     └ 'b0dbab0c-df54-47bf-be27-78e01a5dd91f'
          │         │          │   └ {'p_id': '1b33d5f9-6655-492e-9ad0-ca8125f88b2c', 'name': '東京', 'type': '02', 'user_id': '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a...
          │         │          └ <providers.psql_provider.DB object at 0x1079398e0>
          │         └ <function update_org at 0x1078020d0>
          └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 144, in update_org
    old_data = await query_org(db,)
                     │         └ <providers.psql_provider.DB object at 0x1079398e0>
                     └ <function query_org at 0x1077f2b80>

TypeError: query_org() missing 1 required positional argument: 'org_id'

2023-12-13 20:40:56.479 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54249 - "PUT /org/b0dbab0c-df54-47bf-be27-78e01a5dd91f HTTP/1.1" 500
2023-12-13 20:41:35.296 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 20:41:35.398 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 20:41:35.398 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 20:41:35.398 | INFO     | uvicorn.server:serve:86 - Finished server process [1827]
2023-12-13 20:41:35.788 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 20:41:43.990 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 20:41:44.001 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f';
    
2023-12-13 20:41:44.006 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        id
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-13 20:41:44.011 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE orgs
    SET
        p_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c',
        name = '東京',
        type = '02'
    WHERE
        orgs.id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f';
    
2023-12-13 20:41:44.015 | INFO     | providers.psql_provider:execute:57 - 
        UPDATE roles
        SET
            name = 'エリア管理者',
            type = '02'
        WHERE
            roles.id = '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9';
        
2023-12-13 20:41:44.017 | ERROR    | app.endpoints.orgs:new_org:74 - 'dict' object has no attribute 'id'Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104e0d9d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104b8b430>
           └ <SpawnProcess name='SpawnProcess-126' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104b7ea60>
    └ <SpawnProcess name='SpawnProcess-126' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104e1b1f0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-126' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-126' parent=92396 started>
    │    └ <function subprocess_started at 0x1100509d0>
    └ <SpawnProcess name='SpawnProcess-126' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104e1b310>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x110043f70>
           │       │   └ <uvicorn.server.Server object at 0x104e1b310>
           │       └ <function run at 0x104e4b820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x11004d2c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x11009d7f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11029b9d0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11029b9...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x11017f700>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x11009d7f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11029b9d0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11029b9...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11029b9d0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11029b9...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1102a5760>
          └ <fastapi.applications.FastAPI object at 0x11017f700>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x110295820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11029b9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1102a5700>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1102a5760>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'content-length': '644', 'accept': 'application/json, text/plain...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x110295820>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11029b9...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10770faf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1102a5700>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1102a5700>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11029b9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1102a56d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1102a5700>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x110295550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11029b9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1102a5670>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1102a56d0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x110295550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11029b9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x11017f820>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1102a5670>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x110295550>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11029b9...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x107665af0>
          └ APIRoute(path='/org/{org_id}', name='new_org', methods=['PUT'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x110295550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x11029b9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x110295790>
          └ APIRoute(path='/org/{org_id}', name='new_org', methods=['PUT'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x11029ba30>
                     └ <function get_request_handler.<locals>.app at 0x1102958b0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10763b790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x110065910>, 'org_id': 'b0dbab0c-df54-47bf-be27-78e01a5dd91f', 'data': {'p_id':...
                 │         └ <function new_org at 0x107e1a670>
                 └ <fastapi.dependencies.models.Dependant object at 0x11029b610>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 68, in new_org
    await orgs_crud.update_org(db, data, org_id)
          │         │          │   │     └ 'b0dbab0c-df54-47bf-be27-78e01a5dd91f'
          │         │          │   └ {'p_id': '1b33d5f9-6655-492e-9ad0-ca8125f88b2c', 'name': '東京', 'type': '02', 'user_id': '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a...
          │         │          └ <providers.psql_provider.DB object at 0x110065910>
          │         └ <function update_org at 0x107e1a0d0>
          └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 188, in update_org
    sql = f"DELETE FROM role_permission_rels WHERE role_id = '{old_role_id}' AND permission_id = '{permission.id}';"

AttributeError: 'dict' object has no attribute 'id'

2023-12-13 20:41:44.043 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:54444 - "PUT /org/b0dbab0c-df54-47bf-be27-78e01a5dd91f HTTP/1.1" 500
2023-12-13 20:43:11.756 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 20:43:11.858 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 20:43:11.859 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 20:43:11.859 | INFO     | uvicorn.server:serve:86 - Finished server process [1876]
2023-12-13 20:44:01.728 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 20:44:45.750 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 20:44:45.853 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 20:44:45.854 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 20:44:45.855 | INFO     | uvicorn.server:serve:86 - Finished server process [1915]
2023-12-13 20:44:46.266 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 20:44:50.646 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 20:44:50.655 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f';
    
2023-12-13 20:44:50.662 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        id
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-13 20:44:50.667 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE orgs
    SET
        p_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c',
        name = '東京',
        type = '02'
    WHERE
        orgs.id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f';
    
2023-12-13 20:44:50.670 | INFO     | providers.psql_provider:execute:57 - 
        UPDATE roles
        SET
            name = 'エリア管理者',
            type = '02'
        WHERE
            roles.id = '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9';
        
2023-12-13 20:44:50.673 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9'
                AND
                permission_id = '8f63e587-b802-4cfd-8ead-d3423237b054';
            
2023-12-13 20:44:50.675 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9'
                AND
                permission_id = '0b25e905-64ae-42d2-98ed-2c8ebd845d66';
            
2023-12-13 20:44:50.679 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9'
                AND
                permission_id = '53dc2e89-791d-4b66-aa73-f51ea9cd4e26';
            
2023-12-13 20:44:50.681 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9'
                AND
                permission_id = '7f956b2a-65ce-463e-9ddb-6627f9b42ecf';
            
2023-12-13 20:44:50.682 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9'
                AND
                permission_id = 'dd96b563-2476-4904-a880-a2cffe1ea0ac';
            
2023-12-13 20:44:50.683 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9'
                AND
                permission_id = '55ba3199-c673-49d8-8001-9b5f3b2b33dc';
            
2023-12-13 20:44:50.687 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9'
                AND
                permission_id = '2ca11194-6079-41e8-8b26-275aa42848fa';
            
2023-12-13 20:44:50.689 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9'
                AND
                permission_id = '0a3f364b-21e6-4c0d-bf6e-67729bf899a2';
            
2023-12-13 20:44:50.691 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9'
                AND
                permission_id = '58289de8-b6b7-4629-9016-58e5d30e89ee';
            
2023-12-13 20:44:50.693 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9'
                AND
                permission_id = '2065f63f-5e95-432e-9545-eed26715dc49';
            
2023-12-13 20:44:50.696 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9'
                AND
                permission_id = '55762da2-4d17-418e-b09f-e6249645ec18';
            
2023-12-13 20:44:50.698 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9'
                AND
                permission_id = 'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7';
            
2023-12-13 20:44:50.702 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9'
                AND
                permission_id = 'ee3ed4ae-43d9-4d37-92f9-a4950788d8be';
            
2023-12-13 20:44:50.703 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9',
                '8f63e587-b802-4cfd-8ead-d3423237b054'
            )
            
2023-12-13 20:44:50.705 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9',
                '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
            )
            
2023-12-13 20:44:50.708 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9',
                '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
            )
            
2023-12-13 20:44:50.709 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9',
                '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
            )
            
2023-12-13 20:44:50.711 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9',
                'dd96b563-2476-4904-a880-a2cffe1ea0ac'
            )
            
2023-12-13 20:44:50.717 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9',
                '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
            )
            
2023-12-13 20:44:50.719 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9',
                '2ca11194-6079-41e8-8b26-275aa42848fa'
            )
            
2023-12-13 20:44:50.720 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9',
                '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
            )
            
2023-12-13 20:44:50.722 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9',
                '58289de8-b6b7-4629-9016-58e5d30e89ee'
            )
            
2023-12-13 20:44:50.723 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9',
                '2065f63f-5e95-432e-9545-eed26715dc49'
            )
            
2023-12-13 20:44:50.724 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9',
                '55762da2-4d17-418e-b09f-e6249645ec18'
            )
            
2023-12-13 20:44:50.726 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9',
                'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7'
            )
            
2023-12-13 20:44:50.730 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55204 - "PUT /org/b0dbab0c-df54-47bf-be27-78e01a5dd91f HTTP/1.1" 200
2023-12-13 20:44:50.905 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55204 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 20:44:50.905 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55211 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 20:44:50.911 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 20:44:50.914 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55204 - "GET /orgs HTTP/1.1" 200
2023-12-13 20:44:50.920 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 20:44:50.947 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55211 - "GET /orgs HTTP/1.1" 200
2023-12-13 20:44:56.852 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55240 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 20:44:56.852 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55241 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 20:44:56.852 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55242 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 20:44:56.853 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55243 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 20:44:56.853 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55244 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 20:44:56.854 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55240 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 20:44:56.862 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 20:44:56.863 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 20:44:56.864 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 20:44:56.865 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 20:44:56.870 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55243 - "GET /options/users HTTP/1.1" 200
2023-12-13 20:44:56.870 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55241 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 20:44:56.871 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55242 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 20:44:56.876 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f';
    
2023-12-13 20:44:56.877 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 20:44:56.880 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 20:44:56.882 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55240 - "GET /options/users HTTP/1.1" 200
2023-12-13 20:44:56.883 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 20:44:56.884 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55239 - "GET /org/b0dbab0c-df54-47bf-be27-78e01a5dd91f HTTP/1.1" 200
2023-12-13 20:44:56.887 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55241 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 20:44:56.889 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55243 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 20:44:56.894 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 20:44:56.895 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f';
    
2023-12-13 20:44:56.897 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55242 - "GET /org/b0dbab0c-df54-47bf-be27-78e01a5dd91f HTTP/1.1" 200
2023-12-13 20:49:08.006 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56291 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 20:49:08.008 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56292 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 20:49:08.017 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 20:49:08.024 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 20:49:08.028 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 20:49:08.035 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56289 - "GET /options/users HTTP/1.1" 200
2023-12-13 20:49:08.041 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56288 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 20:49:08.046 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 20:49:08.048 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f';
    
2023-12-13 20:49:08.049 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 20:49:08.050 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 20:49:08.050 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 20:49:08.051 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56290 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 20:49:08.057 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56292 - "GET /options/users HTTP/1.1" 200
2023-12-13 20:49:08.057 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56289 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 20:49:08.058 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56287 - "GET /org/b0dbab0c-df54-47bf-be27-78e01a5dd91f HTTP/1.1" 200
2023-12-13 20:49:08.062 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 20:49:08.065 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.type,
        orgs.name,
        orgs.remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 20:49:08.065 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56288 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 20:49:08.065 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 20:49:08.067 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f';
    
2023-12-13 20:49:08.070 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56290 - "GET /org/b0dbab0c-df54-47bf-be27-78e01a5dd91f HTTP/1.1" 200
2023-12-13 20:49:08.070 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 20:49:08.073 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 20:49:08.074 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56291 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 20:49:08.078 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 20:49:08.079 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.type,
        orgs.name,
        orgs.remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 20:49:08.080 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 20:49:08.082 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 20:49:08.085 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56290 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 20:50:10.264 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 20:50:10.272 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f';
    
2023-12-13 20:50:10.280 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        id
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-13 20:50:10.282 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE orgs
    SET
        p_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c',
        name = '東京（エリア）',
        type = '02'
    WHERE
        orgs.id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f';
    
2023-12-13 20:50:10.285 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_org_rels
        WHERE
            user_org_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a'
            AND
            user_org_rels.org_id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f';
        
2023-12-13 20:50:10.287 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_role_rels
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a'
            AND
            user_role_rels.role_id = '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9';
        
2023-12-13 20:50:10.288 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM org_role_rels
        WHERE
            org_role_rels.org_id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f'
            AND
            org_role_rels.role_id = '25770bb8-6ea3-4f5e-a6fb-e73f8efbd3f9';
        
2023-12-13 20:50:10.289 | ERROR    | app.endpoints.orgs:new_org:74 - 'dict' object has no attribute 'id'Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1011259d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x100ea3430>
           └ <SpawnProcess name='SpawnProcess-129' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x100e96a60>
    └ <SpawnProcess name='SpawnProcess-129' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1011331f0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-129' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-129' parent=92396 started>
    │    └ <function subprocess_started at 0x10358da60>
    └ <SpawnProcess name='SpawnProcess-129' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x101133310>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x10358d040>
           │       │   └ <uvicorn.server.Server object at 0x101133310>
           │       └ <function run at 0x101163820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10358a2c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1035d97f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1037f6850>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1037f68...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1036bb730>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1035d97f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1037f6850>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1037f68...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1037f6850>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1037f68...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1037e1790>
          └ <fastapi.applications.FastAPI object at 0x1036bb730>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1037d1ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1037f68...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x1037e1730>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1037e1790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'content-length': '659', 'accept': 'application/json, text/plain...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1037d1ca0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1037f68...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x102d5eaf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1037e1730>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x1037e1730>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1037f68...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1037e1700>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x1037e1730>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1037d1550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1037f68...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1037e16a0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1037e1700>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1037d1550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1037f68...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1036bb850>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x1037e16a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1037d1550>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1037f68...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x102cb5af0>
          └ APIRoute(path='/org/{org_id}', name='new_org', methods=['PUT'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x1037d1550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1037f68...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x1037d1790>
          └ APIRoute(path='/org/{org_id}', name='new_org', methods=['PUT'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x1037f6be0>
                     └ <function get_request_handler.<locals>.app at 0x1037d1820>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x102ca3790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1035a2940>, 'org_id': 'b0dbab0c-df54-47bf-be27-78e01a5dd91f', 'data': {'p_id':...
                 │         └ <function new_org at 0x10346b700>
                 └ <fastapi.dependencies.models.Dependant object at 0x1037d7640>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 68, in new_org
    await orgs_crud.update_org(db, data, org_id)
          │         │          │   │     └ 'b0dbab0c-df54-47bf-be27-78e01a5dd91f'
          │         │          │   └ {'p_id': '1b33d5f9-6655-492e-9ad0-ca8125f88b2c', 'name': '東京（エリア）', 'type': '02', 'user_id': '02804013-a550-4ee6-822c-c00a0f7...
          │         │          └ <providers.psql_provider.DB object at 0x1035a2940>
          │         └ <function update_org at 0x10346b160>
          └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 237, in update_org
    sql = f"DELETE FROM role_permission_rels WHERE role_id = '{old_role_id}' permission_id = '{permission.id}';"

AttributeError: 'dict' object has no attribute 'id'

2023-12-13 20:50:10.318 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56554 - "PUT /org/b0dbab0c-df54-47bf-be27-78e01a5dd91f HTTP/1.1" 500
2023-12-13 20:51:45.888 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-13 20:51:45.990 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-13 20:51:45.991 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-13 20:51:45.991 | INFO     | uvicorn.server:serve:86 - Finished server process [1930]
2023-12-13 20:51:46.408 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2023-12-13 20:52:10.077 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57041 - "OPTIONS /org/b0dbab0c-df54-47bf-be27-78e01a5dd91f HTTP/1.1" 200
2023-12-13 20:52:10.089 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'b0dbab0c-df54-47bf-be27-78e01a5dd91f'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 20:52:10.095 | ERROR    | app.endpoints.orgs:new_org:74 - 'NoneType' object is not subscriptableTraceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1054499d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1051c7430>
           └ <SpawnProcess name='SpawnProcess-130' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1051baa60>
    └ <SpawnProcess name='SpawnProcess-130' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1054571f0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-130' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-130' parent=92396 started>
    │    └ <function subprocess_started at 0x1078afa60>
    └ <SpawnProcess name='SpawnProcess-130' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x105457310>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1078af040>
           │       │   └ <uvicorn.server.Server object at 0x105457310>
           │       └ <function run at 0x105487820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1078ac2c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1078fd7f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1079df340>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1079df3...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1079df430>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1078fd7f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1079df340>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1079df3...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1079df340>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1079df3...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107b05490>
          └ <fastapi.applications.FastAPI object at 0x1079df430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107af5550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1079df3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x107b05430>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107b05490>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'content-length': '659', 'accept': 'application/json, text/plain...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107af5550>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1079df3...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x107082af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107b05430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x107b05430>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1079df3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107b05400>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107b05430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107af58b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1079df3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107b053a0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107b05400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107af58b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1079df3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1079df550>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107b053a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107af58b0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1079df3...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106fd9af0>
          └ APIRoute(path='/org/{org_id}', name='new_org', methods=['PUT'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107af58b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x1079df3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x107af5790>
          └ APIRoute(path='/org/{org_id}', name='new_org', methods=['PUT'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x107b059d0>
                     └ <function get_request_handler.<locals>.app at 0x107af5820>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x106fc7790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1078c0640>, 'org_id': 'b0dbab0c-df54-47bf-be27-78e01a5dd91f', 'data': {'p_id':...
                 │         └ <function new_org at 0x10778e700>
                 └ <fastapi.dependencies.models.Dependant object at 0x107afb340>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 68, in new_org
    await orgs_crud.update_org(db, data, org_id)
          │         │          │   │     └ 'b0dbab0c-df54-47bf-be27-78e01a5dd91f'
          │         │          │   └ {'p_id': '1b33d5f9-6655-492e-9ad0-ca8125f88b2c', 'name': '東京（エリア）', 'type': '02', 'user_id': '02804013-a550-4ee6-822c-c00a0f7...
          │         │          └ <providers.psql_provider.DB object at 0x1078c0640>
          │         └ <function update_org at 0x10778e160>
          └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 144, in update_org
    old_data = await query_org(db, org_id)
                     │         │   └ 'b0dbab0c-df54-47bf-be27-78e01a5dd91f'
                     │         └ <providers.psql_provider.DB object at 0x1078c0640>
                     └ <function query_org at 0x10778e0d0>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 126, in query_org
    roles.type = '{org_basic["type"]}'

TypeError: 'NoneType' object is not subscriptable

2023-12-13 20:52:10.124 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57041 - "PUT /org/b0dbab0c-df54-47bf-be27-78e01a5dd91f HTTP/1.1" 500
2023-12-13 20:53:46.411 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 20:53:46.417 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57433 - "GET /orgs HTTP/1.1" 200
2023-12-13 20:53:46.425 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 20:53:46.427 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57435 - "GET /orgs HTTP/1.1" 200
2023-12-13 20:54:00.181 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 20:54:00.182 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 20:54:00.182 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 20:54:00.185 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57495 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 20:54:00.187 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57496 - "GET /options/users HTTP/1.1" 200
2023-12-13 20:54:00.190 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57497 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 20:54:00.193 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 20:54:00.194 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 20:54:00.196 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57501 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 20:54:00.197 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57495 - "GET /options/users HTTP/1.1" 200
2023-12-13 20:54:00.197 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 20:54:00.199 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57496 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 20:55:40.756 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57905 - "OPTIONS /org HTTP/1.1" 200
2023-12-13 20:55:40.770 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO orgs (p_id, type, name)
    VALUES (
        '1b33d5f9-6655-492e-9ad0-ca8125f88b2c',
        '01',
        '東京（エリア）'
    )
    RETURNING id;
    
2023-12-13 20:55:40.773 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO roles (type, name)
    VALUES (
        '01',
        '本社管理者'
    )
    RETURNING id;
    
2023-12-13 20:55:40.775 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_org_rels (user_id, org_id, type)
    VALUES (
        '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a',
        '36944519-1255-490f-a310-b57ed8abe0f2',
        '01'
    )
    
2023-12-13 20:55:40.780 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_role_rels (user_id, role_id)
    VALUES (
        '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a',
        '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
    )
    
2023-12-13 20:55:40.783 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO org_role_rels (org_id, role_id)
    VALUES (
        '36944519-1255-490f-a310-b57ed8abe0f2',
        '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
    )
    
2023-12-13 20:55:40.786 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd',
            '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
        )
        
2023-12-13 20:55:40.790 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd',
            '8f63e587-b802-4cfd-8ead-d3423237b054'
        )
        
2023-12-13 20:55:40.791 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd',
            '2ca11194-6079-41e8-8b26-275aa42848fa'
        )
        
2023-12-13 20:55:40.792 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd',
            '2065f63f-5e95-432e-9545-eed26715dc49'
        )
        
2023-12-13 20:55:40.795 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd',
            'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
        )
        
2023-12-13 20:55:40.798 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57905 - "POST /org HTTP/1.1" 200
2023-12-13 20:55:40.965 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57905 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 20:55:40.966 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57908 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 20:55:40.974 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 20:55:40.978 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57908 - "GET /orgs HTTP/1.1" 200
2023-12-13 20:55:40.984 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 20:55:40.987 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57905 - "GET /orgs HTTP/1.1" 200
2023-12-13 20:55:43.803 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57905 - "OPTIONS /org/36944519-1255-490f-a310-b57ed8abe0f2 HTTP/1.1" 200
2023-12-13 20:55:43.804 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57908 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 20:55:43.804 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57923 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 20:55:43.805 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57924 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 20:55:43.805 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57925 - "OPTIONS /org/36944519-1255-490f-a310-b57ed8abe0f2 HTTP/1.1" 200
2023-12-13 20:55:43.806 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57926 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 20:55:43.806 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57905 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 20:55:43.806 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57908 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 20:55:43.818 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '36944519-1255-490f-a310-b57ed8abe0f2'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 20:55:43.819 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 20:55:43.820 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 20:55:43.822 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 20:55:43.823 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57924 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 20:55:43.823 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57925 - "GET /options/users HTTP/1.1" 200
2023-12-13 20:55:43.826 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57926 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 20:55:43.828 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2';
    
2023-12-13 20:55:43.829 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 20:55:43.835 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 20:55:43.836 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57905 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 20:55:43.836 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57923 - "GET /org/36944519-1255-490f-a310-b57ed8abe0f2 HTTP/1.1" 200
2023-12-13 20:55:43.839 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57925 - "GET /options/users HTTP/1.1" 200
2023-12-13 20:55:43.841 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 20:55:43.842 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '36944519-1255-490f-a310-b57ed8abe0f2'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 20:55:43.842 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57924 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 20:55:43.843 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2';
    
2023-12-13 20:55:43.844 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57926 - "GET /org/36944519-1255-490f-a310-b57ed8abe0f2 HTTP/1.1" 200
2023-12-13 20:55:59.058 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57996 - "OPTIONS /org/36944519-1255-490f-a310-b57ed8abe0f2 HTTP/1.1" 200
2023-12-13 20:55:59.072 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '36944519-1255-490f-a310-b57ed8abe0f2'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 20:55:59.078 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2';
    
2023-12-13 20:55:59.084 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        id
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-13 20:55:59.087 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE orgs
    SET
        p_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c',
        name = '東京（エリア）11',
        type = '01'
    WHERE
        orgs.id = '36944519-1255-490f-a310-b57ed8abe0f2';
    
2023-12-13 20:55:59.089 | INFO     | providers.psql_provider:execute:57 - 
        UPDATE roles
        SET
            name = '本社管理者',
            type = '01'
        WHERE
            roles.id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd';
        
2023-12-13 20:55:59.090 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
                AND
                permission_id = '0b25e905-64ae-42d2-98ed-2c8ebd845d66';
            
2023-12-13 20:55:59.094 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
                AND
                permission_id = '8f63e587-b802-4cfd-8ead-d3423237b054';
            
2023-12-13 20:55:59.096 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
                AND
                permission_id = '2ca11194-6079-41e8-8b26-275aa42848fa';
            
2023-12-13 20:55:59.099 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
                AND
                permission_id = '2065f63f-5e95-432e-9545-eed26715dc49';
            
2023-12-13 20:55:59.102 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
                AND
                permission_id = 'ee3ed4ae-43d9-4d37-92f9-a4950788d8be';
            
2023-12-13 20:55:59.104 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd',
                '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
            )
            
2023-12-13 20:55:59.107 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd',
                '8f63e587-b802-4cfd-8ead-d3423237b054'
            )
            
2023-12-13 20:55:59.110 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd',
                '2ca11194-6079-41e8-8b26-275aa42848fa'
            )
            
2023-12-13 20:55:59.112 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd',
                '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
            )
            
2023-12-13 20:55:59.113 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd',
                '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
            )
            
2023-12-13 20:55:59.116 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd',
                '2065f63f-5e95-432e-9545-eed26715dc49'
            )
            
2023-12-13 20:55:59.119 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd',
                '58289de8-b6b7-4629-9016-58e5d30e89ee'
            )
            
2023-12-13 20:55:59.120 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd',
                '55762da2-4d17-418e-b09f-e6249645ec18'
            )
            
2023-12-13 20:55:59.123 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd',
                'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
            )
            
2023-12-13 20:55:59.124 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd',
                'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7'
            )
            
2023-12-13 20:55:59.126 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd',
                'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
            )
            
2023-12-13 20:55:59.129 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57996 - "PUT /org/36944519-1255-490f-a310-b57ed8abe0f2 HTTP/1.1" 200
2023-12-13 20:55:59.296 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 20:55:59.300 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57996 - "GET /orgs HTTP/1.1" 200
2023-12-13 20:55:59.307 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 20:55:59.310 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58004 - "GET /orgs HTTP/1.1" 200
2023-12-13 20:56:01.907 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '36944519-1255-490f-a310-b57ed8abe0f2'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 20:56:01.908 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 20:56:01.912 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 20:56:01.913 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 20:56:01.916 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57996 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 20:56:01.921 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58015 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 20:56:01.927 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58014 - "GET /options/users HTTP/1.1" 200
2023-12-13 20:56:01.931 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 20:56:01.932 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2';
    
2023-12-13 20:56:01.932 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 20:56:01.934 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 20:56:01.935 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58020 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 20:56:01.935 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57996 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 20:56:01.936 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58004 - "GET /org/36944519-1255-490f-a310-b57ed8abe0f2 HTTP/1.1" 200
2023-12-13 20:56:01.936 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58015 - "GET /options/users HTTP/1.1" 200
2023-12-13 20:56:01.950 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '36944519-1255-490f-a310-b57ed8abe0f2'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 20:56:01.952 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2';
    
2023-12-13 20:56:01.954 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:57996 - "GET /org/36944519-1255-490f-a310-b57ed8abe0f2 HTTP/1.1" 200
2023-12-13 20:56:29.384 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 20:56:29.386 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58139 - "GET /orgs HTTP/1.1" 200
2023-12-13 20:56:29.392 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 20:56:29.396 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58141 - "GET /orgs HTTP/1.1" 200
2023-12-13 20:56:30.695 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 20:56:30.695 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 20:56:30.699 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 20:56:30.703 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58147 - "GET /options/users HTTP/1.1" 200
2023-12-13 20:56:30.703 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58139 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 20:56:30.704 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '36944519-1255-490f-a310-b57ed8abe0f2'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 20:56:30.707 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58148 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 20:56:30.715 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 20:56:30.717 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 20:56:30.718 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 20:56:30.718 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58139 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 20:56:30.719 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2';
    
2023-12-13 20:56:30.720 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58153 - "GET /options/users HTTP/1.1" 200
2023-12-13 20:56:30.720 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58147 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 20:56:30.722 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58141 - "GET /org/36944519-1255-490f-a310-b57ed8abe0f2 HTTP/1.1" 200
2023-12-13 20:56:30.727 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '36944519-1255-490f-a310-b57ed8abe0f2'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 20:56:30.729 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2';
    
2023-12-13 20:56:30.730 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58153 - "GET /org/36944519-1255-490f-a310-b57ed8abe0f2 HTTP/1.1" 200
2023-12-13 20:56:36.513 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '36944519-1255-490f-a310-b57ed8abe0f2'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 20:56:36.519 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2';
    
2023-12-13 20:56:36.528 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        id
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-13 20:56:36.531 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE orgs
    SET
        p_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c',
        name = '東京（エリア）11',
        type = '01'
    WHERE
        orgs.id = '36944519-1255-490f-a310-b57ed8abe0f2';
    
2023-12-13 20:56:36.533 | INFO     | providers.psql_provider:execute:57 - 
        UPDATE roles
        SET
            name = '本社管理者',
            type = '01'
        WHERE
            roles.id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd';
        
2023-12-13 20:56:36.535 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
                AND
                permission_id = '0b25e905-64ae-42d2-98ed-2c8ebd845d66';
            
2023-12-13 20:56:36.537 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
                AND
                permission_id = '8f63e587-b802-4cfd-8ead-d3423237b054';
            
2023-12-13 20:56:36.538 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
                AND
                permission_id = '2ca11194-6079-41e8-8b26-275aa42848fa';
            
2023-12-13 20:56:36.540 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
                AND
                permission_id = '0a3f364b-21e6-4c0d-bf6e-67729bf899a2';
            
2023-12-13 20:56:36.543 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
                AND
                permission_id = '55ba3199-c673-49d8-8001-9b5f3b2b33dc';
            
2023-12-13 20:56:36.544 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
                AND
                permission_id = '2065f63f-5e95-432e-9545-eed26715dc49';
            
2023-12-13 20:56:36.545 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
                AND
                permission_id = '58289de8-b6b7-4629-9016-58e5d30e89ee';
            
2023-12-13 20:56:36.548 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
                AND
                permission_id = '55762da2-4d17-418e-b09f-e6249645ec18';
            
2023-12-13 20:56:36.551 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
                AND
                permission_id = 'ee3ed4ae-43d9-4d37-92f9-a4950788d8be';
            
2023-12-13 20:56:36.553 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
                AND
                permission_id = 'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7';
            
2023-12-13 20:56:36.555 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
                AND
                permission_id = 'bce2b4a4-0cad-4baa-96dd-671f2d942c7e';
            
2023-12-13 20:56:36.559 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd',
                '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
            )
            
2023-12-13 20:56:36.565 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd',
                '8f63e587-b802-4cfd-8ead-d3423237b054'
            )
            
2023-12-13 20:56:36.567 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd',
                '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
            )
            
2023-12-13 20:56:36.569 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd',
                '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
            )
            
2023-12-13 20:56:36.570 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd',
                'dd96b563-2476-4904-a880-a2cffe1ea0ac'
            )
            
2023-12-13 20:56:36.574 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd',
                '2ca11194-6079-41e8-8b26-275aa42848fa'
            )
            
2023-12-13 20:56:36.576 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd',
                '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
            )
            
2023-12-13 20:56:36.579 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd',
                '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
            )
            
2023-12-13 20:56:36.580 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd',
                '2065f63f-5e95-432e-9545-eed26715dc49'
            )
            
2023-12-13 20:56:36.581 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd',
                '58289de8-b6b7-4629-9016-58e5d30e89ee'
            )
            
2023-12-13 20:56:36.584 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd',
                '55762da2-4d17-418e-b09f-e6249645ec18'
            )
            
2023-12-13 20:56:36.585 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd',
                'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
            )
            
2023-12-13 20:56:36.586 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd',
                'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7'
            )
            
2023-12-13 20:56:36.592 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd',
                'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
            )
            
2023-12-13 20:56:36.593 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58183 - "PUT /org/36944519-1255-490f-a310-b57ed8abe0f2 HTTP/1.1" 200
2023-12-13 20:56:36.748 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 20:56:36.750 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58183 - "GET /orgs HTTP/1.1" 200
2023-12-13 20:56:36.756 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 20:56:36.772 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58187 - "GET /orgs HTTP/1.1" 200
2023-12-13 20:56:40.548 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 20:56:40.548 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '36944519-1255-490f-a310-b57ed8abe0f2'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 20:56:40.550 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 20:56:40.552 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 20:56:40.554 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58183 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 20:56:40.556 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58205 - "GET /options/users HTTP/1.1" 200
2023-12-13 20:56:40.557 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58206 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 20:56:40.562 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 20:56:40.562 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2';
    
2023-12-13 20:56:40.565 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 20:56:40.565 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58211 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 20:56:40.566 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58183 - "GET /options/users HTTP/1.1" 200
2023-12-13 20:56:40.567 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 20:56:40.567 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58187 - "GET /org/36944519-1255-490f-a310-b57ed8abe0f2 HTTP/1.1" 200
2023-12-13 20:56:40.570 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58205 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 20:56:40.571 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '36944519-1255-490f-a310-b57ed8abe0f2'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 20:56:40.572 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2';
    
2023-12-13 20:56:40.574 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58211 - "GET /org/36944519-1255-490f-a310-b57ed8abe0f2 HTTP/1.1" 200
2023-12-13 20:56:58.435 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '36944519-1255-490f-a310-b57ed8abe0f2'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 20:56:58.441 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2';
    
2023-12-13 20:56:58.462 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        id
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-13 20:56:58.464 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE orgs
    SET
        p_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c',
        name = '東京（エリア）',
        type = '01'
    WHERE
        orgs.id = '36944519-1255-490f-a310-b57ed8abe0f2';
    
2023-12-13 20:56:58.466 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_org_rels
        WHERE
            user_org_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a'
            AND
            user_org_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2';
        
2023-12-13 20:56:58.467 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_role_rels
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a'
            AND
            user_role_rels.role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd';
        
2023-12-13 20:56:58.470 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM org_role_rels
        WHERE
            org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2'
            AND
            org_role_rels.role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd';
        
2023-12-13 20:56:58.471 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
                AND
                permission_id = '0b25e905-64ae-42d2-98ed-2c8ebd845d66';
            
2023-12-13 20:56:58.473 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
                AND
                permission_id = '8f63e587-b802-4cfd-8ead-d3423237b054';
            
2023-12-13 20:56:58.474 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
                AND
                permission_id = '53dc2e89-791d-4b66-aa73-f51ea9cd4e26';
            
2023-12-13 20:56:58.475 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
                AND
                permission_id = '7f956b2a-65ce-463e-9ddb-6627f9b42ecf';
            
2023-12-13 20:56:58.479 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
                AND
                permission_id = 'dd96b563-2476-4904-a880-a2cffe1ea0ac';
            
2023-12-13 20:56:58.483 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
                AND
                permission_id = '2ca11194-6079-41e8-8b26-275aa42848fa';
            
2023-12-13 20:56:58.484 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
                AND
                permission_id = '0a3f364b-21e6-4c0d-bf6e-67729bf899a2';
            
2023-12-13 20:56:58.487 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
                AND
                permission_id = '55ba3199-c673-49d8-8001-9b5f3b2b33dc';
            
2023-12-13 20:56:58.488 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
                AND
                permission_id = '2065f63f-5e95-432e-9545-eed26715dc49';
            
2023-12-13 20:56:58.490 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
                AND
                permission_id = '58289de8-b6b7-4629-9016-58e5d30e89ee';
            
2023-12-13 20:56:58.491 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
                AND
                permission_id = '55762da2-4d17-418e-b09f-e6249645ec18';
            
2023-12-13 20:56:58.492 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
                AND
                permission_id = 'ee3ed4ae-43d9-4d37-92f9-a4950788d8be';
            
2023-12-13 20:56:58.493 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
                AND
                permission_id = 'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7';
            
2023-12-13 20:56:58.494 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd'
                AND
                permission_id = 'bce2b4a4-0cad-4baa-96dd-671f2d942c7e';
            
2023-12-13 20:56:58.495 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM roles WHERE id = '07839ef3-015a-4cc8-95d9-a56bbd8ea8cd';
        
2023-12-13 20:56:58.497 | INFO     | providers.psql_provider:fetch_one:30 - 
        INSERT INTO roles (type, name)
        VALUES (
            '01',
            '本社管理者'
        )
        RETURNING id;
        
2023-12-13 20:56:58.499 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_org_rels (user_id, org_id, type)
        VALUES (
            '02804013-a550-4ee6-822c-c00a0f7d4985',
            '36944519-1255-490f-a310-b57ed8abe0f2',
            '01'
        )
        
2023-12-13 20:56:58.502 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_role_rels (user_id, role_id)
        VALUES (
            '02804013-a550-4ee6-822c-c00a0f7d4985',
            'd3706898-28de-49e5-ba20-6008ab4ee18d'
        )
        
2023-12-13 20:56:58.503 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO org_role_rels (org_id, role_id)
        VALUES (
            '36944519-1255-490f-a310-b57ed8abe0f2',
            'd3706898-28de-49e5-ba20-6008ab4ee18d'
        )
        
2023-12-13 20:56:58.505 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
            )
            
2023-12-13 20:56:58.507 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '8f63e587-b802-4cfd-8ead-d3423237b054'
            )
            
2023-12-13 20:56:58.512 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '2ca11194-6079-41e8-8b26-275aa42848fa'
            )
            
2023-12-13 20:56:58.513 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
            )
            
2023-12-13 20:56:58.514 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
            )
            
2023-12-13 20:56:58.516 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '2065f63f-5e95-432e-9545-eed26715dc49'
            )
            
2023-12-13 20:56:58.519 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '58289de8-b6b7-4629-9016-58e5d30e89ee'
            )
            
2023-12-13 20:56:58.520 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '55762da2-4d17-418e-b09f-e6249645ec18'
            )
            
2023-12-13 20:56:58.524 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
            )
            
2023-12-13 20:56:58.526 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7'
            )
            
2023-12-13 20:56:58.527 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
            )
            
2023-12-13 20:56:58.528 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58287 - "PUT /org/36944519-1255-490f-a310-b57ed8abe0f2 HTTP/1.1" 200
2023-12-13 20:56:58.687 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 20:56:58.692 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58287 - "GET /orgs HTTP/1.1" 200
2023-12-13 20:56:58.697 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 20:56:58.700 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58295 - "GET /orgs HTTP/1.1" 200
2023-12-13 20:57:01.621 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '36944519-1255-490f-a310-b57ed8abe0f2'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 20:57:01.621 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 20:57:01.622 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 20:57:01.628 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58287 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 20:57:01.629 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58309 - "GET /options/users HTTP/1.1" 200
2023-12-13 20:57:01.629 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2';
    
2023-12-13 20:57:01.632 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 20:57:01.635 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58295 - "GET /org/36944519-1255-490f-a310-b57ed8abe0f2 HTTP/1.1" 200
2023-12-13 20:57:01.638 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58310 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 20:57:01.640 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 20:57:01.641 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 20:57:01.641 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '36944519-1255-490f-a310-b57ed8abe0f2'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 20:57:01.642 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 20:57:01.642 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58315 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 20:57:01.643 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58309 - "GET /options/users HTTP/1.1" 200
2023-12-13 20:57:01.644 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58295 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 20:57:01.647 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2';
    
2023-12-13 20:57:01.649 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58287 - "GET /org/36944519-1255-490f-a310-b57ed8abe0f2 HTTP/1.1" 200
2023-12-13 20:57:17.770 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '36944519-1255-490f-a310-b57ed8abe0f2'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 20:57:17.774 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2';
    
2023-12-13 20:57:17.782 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        id
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2'
        AND
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-13 20:57:17.785 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE orgs
    SET
        p_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c',
        name = '東京（エリア）',
        type = '01'
    WHERE
        orgs.id = '36944519-1255-490f-a310-b57ed8abe0f2';
    
2023-12-13 20:57:17.787 | INFO     | providers.psql_provider:execute:57 - 
        UPDATE roles
        SET
            name = '本社管理者',
            type = '01'
        WHERE
            roles.id = 'd3706898-28de-49e5-ba20-6008ab4ee18d';
        
2023-12-13 20:57:17.791 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '0b25e905-64ae-42d2-98ed-2c8ebd845d66';
            
2023-12-13 20:57:17.793 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '8f63e587-b802-4cfd-8ead-d3423237b054';
            
2023-12-13 20:57:17.795 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '2ca11194-6079-41e8-8b26-275aa42848fa';
            
2023-12-13 20:57:17.796 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '0a3f364b-21e6-4c0d-bf6e-67729bf899a2';
            
2023-12-13 20:57:17.804 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '55ba3199-c673-49d8-8001-9b5f3b2b33dc';
            
2023-12-13 20:57:17.805 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '2065f63f-5e95-432e-9545-eed26715dc49';
            
2023-12-13 20:57:17.806 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '58289de8-b6b7-4629-9016-58e5d30e89ee';
            
2023-12-13 20:57:17.807 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '55762da2-4d17-418e-b09f-e6249645ec18';
            
2023-12-13 20:57:17.812 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = 'ee3ed4ae-43d9-4d37-92f9-a4950788d8be';
            
2023-12-13 20:57:17.813 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = 'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7';
            
2023-12-13 20:57:17.815 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = 'bce2b4a4-0cad-4baa-96dd-671f2d942c7e';
            
2023-12-13 20:57:17.820 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
            )
            
2023-12-13 20:57:17.822 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '8f63e587-b802-4cfd-8ead-d3423237b054'
            )
            
2023-12-13 20:57:17.823 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
            )
            
2023-12-13 20:57:17.829 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                'dd96b563-2476-4904-a880-a2cffe1ea0ac'
            )
            
2023-12-13 20:57:17.830 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '2ca11194-6079-41e8-8b26-275aa42848fa'
            )
            
2023-12-13 20:57:17.836 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
            )
            
2023-12-13 20:57:17.837 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
            )
            
2023-12-13 20:57:17.839 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '2065f63f-5e95-432e-9545-eed26715dc49'
            )
            
2023-12-13 20:57:17.840 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '58289de8-b6b7-4629-9016-58e5d30e89ee'
            )
            
2023-12-13 20:57:17.845 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '55762da2-4d17-418e-b09f-e6249645ec18'
            )
            
2023-12-13 20:57:17.846 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
            )
            
2023-12-13 20:57:17.848 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7'
            )
            
2023-12-13 20:57:17.852 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
            )
            
2023-12-13 20:57:17.854 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58385 - "PUT /org/36944519-1255-490f-a310-b57ed8abe0f2 HTTP/1.1" 200
2023-12-13 20:57:18.004 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 20:57:18.008 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58385 - "GET /orgs HTTP/1.1" 200
2023-12-13 20:57:18.013 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 20:57:18.016 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58389 - "GET /orgs HTTP/1.1" 200
2023-12-13 21:01:45.612 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 21:01:45.612 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '36944519-1255-490f-a310-b57ed8abe0f2'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 21:01:45.616 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59478 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 21:01:45.616 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 21:01:45.617 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 21:01:45.619 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59479 - "GET /options/users HTTP/1.1" 200
2023-12-13 21:01:45.620 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59480 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 21:01:45.623 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2';
    
2023-12-13 21:01:45.625 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 21:01:45.626 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 21:01:45.628 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59485 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 21:01:45.629 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59477 - "GET /org/36944519-1255-490f-a310-b57ed8abe0f2 HTTP/1.1" 200
2023-12-13 21:01:45.629 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 21:01:45.631 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59478 - "GET /options/users HTTP/1.1" 200
2023-12-13 21:01:45.632 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59479 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 21:01:45.634 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '36944519-1255-490f-a310-b57ed8abe0f2'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 21:01:45.636 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2';
    
2023-12-13 21:01:45.639 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59485 - "GET /org/36944519-1255-490f-a310-b57ed8abe0f2 HTTP/1.1" 200
2023-12-13 21:02:09.604 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '36944519-1255-490f-a310-b57ed8abe0f2'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 21:02:09.611 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2';
    
2023-12-13 21:02:09.619 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        id
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2'
        AND
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-13 21:02:09.623 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE orgs
    SET
        p_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c',
        name = '東京（エリア）',
        type = '02'
    WHERE
        orgs.id = '36944519-1255-490f-a310-b57ed8abe0f2';
    
2023-12-13 21:02:09.627 | INFO     | providers.psql_provider:execute:57 - 
        UPDATE roles
        SET
            name = 'エリア管理者',
            type = '02'
        WHERE
            roles.id = 'd3706898-28de-49e5-ba20-6008ab4ee18d';
        
2023-12-13 21:02:09.628 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '0b25e905-64ae-42d2-98ed-2c8ebd845d66';
            
2023-12-13 21:02:09.630 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '8f63e587-b802-4cfd-8ead-d3423237b054';
            
2023-12-13 21:02:09.631 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '7f956b2a-65ce-463e-9ddb-6627f9b42ecf';
            
2023-12-13 21:02:09.632 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = 'dd96b563-2476-4904-a880-a2cffe1ea0ac';
            
2023-12-13 21:02:09.633 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '2ca11194-6079-41e8-8b26-275aa42848fa';
            
2023-12-13 21:02:09.636 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '0a3f364b-21e6-4c0d-bf6e-67729bf899a2';
            
2023-12-13 21:02:09.637 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '55ba3199-c673-49d8-8001-9b5f3b2b33dc';
            
2023-12-13 21:02:09.638 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '2065f63f-5e95-432e-9545-eed26715dc49';
            
2023-12-13 21:02:09.640 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '58289de8-b6b7-4629-9016-58e5d30e89ee';
            
2023-12-13 21:02:09.641 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '55762da2-4d17-418e-b09f-e6249645ec18';
            
2023-12-13 21:02:09.642 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = 'ee3ed4ae-43d9-4d37-92f9-a4950788d8be';
            
2023-12-13 21:02:09.643 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = 'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7';
            
2023-12-13 21:02:09.645 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = 'bce2b4a4-0cad-4baa-96dd-671f2d942c7e';
            
2023-12-13 21:02:09.646 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
            )
            
2023-12-13 21:02:09.648 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '8f63e587-b802-4cfd-8ead-d3423237b054'
            )
            
2023-12-13 21:02:09.650 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
            )
            
2023-12-13 21:02:09.653 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                'dd96b563-2476-4904-a880-a2cffe1ea0ac'
            )
            
2023-12-13 21:02:09.655 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '2ca11194-6079-41e8-8b26-275aa42848fa'
            )
            
2023-12-13 21:02:09.657 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
            )
            
2023-12-13 21:02:09.659 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
            )
            
2023-12-13 21:02:09.663 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '2065f63f-5e95-432e-9545-eed26715dc49'
            )
            
2023-12-13 21:02:09.665 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '58289de8-b6b7-4629-9016-58e5d30e89ee'
            )
            
2023-12-13 21:02:09.669 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '55762da2-4d17-418e-b09f-e6249645ec18'
            )
            
2023-12-13 21:02:09.671 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
            )
            
2023-12-13 21:02:09.673 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7'
            )
            
2023-12-13 21:02:09.674 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
            )
            
2023-12-13 21:02:09.676 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59587 - "PUT /org/36944519-1255-490f-a310-b57ed8abe0f2 HTTP/1.1" 200
2023-12-13 21:02:09.839 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 21:02:09.842 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59587 - "GET /orgs HTTP/1.1" 200
2023-12-13 21:02:09.850 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 21:02:09.852 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59591 - "GET /orgs HTTP/1.1" 200
2023-12-13 21:02:14.720 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 21:02:14.720 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 21:02:14.720 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 21:02:14.722 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59613 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 21:02:14.722 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59591 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 21:02:14.723 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59587 - "GET /options/users HTTP/1.1" 200
2023-12-13 21:02:14.729 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 21:02:14.730 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 21:02:14.732 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59617 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 21:02:14.732 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59618 - "GET /options/users HTTP/1.1" 200
2023-12-13 21:02:14.733 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 21:02:14.735 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59613 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 21:03:04.949 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO orgs (p_id, type, name)
    VALUES (
        '1b33d5f9-6655-492e-9ad0-ca8125f88b2c',
        '02',
        '東京（エリア）2'
    )
    RETURNING id;
    
2023-12-13 21:03:04.953 | INFO     | providers.psql_provider:fetch_one:30 - 
    INSERT INTO roles (type, name)
    VALUES (
        '02',
        'エリア管理者'
    )
    RETURNING id;
    
2023-12-13 21:03:04.956 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_org_rels (user_id, org_id, type)
    VALUES (
        '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a',
        'cd2d8827-c189-4c0e-8716-d081873c6178',
        '02'
    )
    
2023-12-13 21:03:04.961 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO user_role_rels (user_id, role_id)
    VALUES (
        '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a',
        'eed8c4a5-0909-41a1-aa66-ef1cfae870d5'
    )
    
2023-12-13 21:03:04.965 | INFO     | providers.psql_provider:execute:57 - 
    INSERT INTO org_role_rels (org_id, role_id)
    VALUES (
        'cd2d8827-c189-4c0e-8716-d081873c6178',
        'eed8c4a5-0909-41a1-aa66-ef1cfae870d5'
    )
    
2023-12-13 21:03:04.968 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'eed8c4a5-0909-41a1-aa66-ef1cfae870d5',
            '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
        )
        
2023-12-13 21:03:04.971 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'eed8c4a5-0909-41a1-aa66-ef1cfae870d5',
            '2ca11194-6079-41e8-8b26-275aa42848fa'
        )
        
2023-12-13 21:03:04.974 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'eed8c4a5-0909-41a1-aa66-ef1cfae870d5',
            '2065f63f-5e95-432e-9545-eed26715dc49'
        )
        
2023-12-13 21:03:04.975 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO role_permission_rels (role_id, permission_id)
        VALUES (
            'eed8c4a5-0909-41a1-aa66-ef1cfae870d5',
            'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
        )
        
2023-12-13 21:03:04.976 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59829 - "POST /org HTTP/1.1" 200
2023-12-13 21:03:05.158 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 21:03:05.163 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59829 - "GET /orgs HTTP/1.1" 200
2023-12-13 21:03:05.169 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 21:03:05.171 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59829 - "GET /orgs HTTP/1.1" 200
2023-12-13 21:03:08.332 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59829 - "OPTIONS /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-13 21:03:08.334 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59829 - "OPTIONS /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-13 21:03:08.347 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 21:03:08.349 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 21:03:08.350 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 21:03:08.350 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59833 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 21:03:08.354 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 21:03:08.357 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59847 - "GET /options/users HTTP/1.1" 200
2023-12-13 21:03:08.357 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59848 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 21:03:08.362 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 21:03:08.364 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 21:03:08.365 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59829 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 21:03:08.365 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 21:03:08.366 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59833 - "GET /options/users HTTP/1.1" 200
2023-12-13 21:03:08.367 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
    
2023-12-13 21:03:08.367 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59847 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 21:03:08.369 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59849 - "GET /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-13 21:03:08.374 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 21:03:08.383 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
    
2023-12-13 21:03:08.385 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59847 - "GET /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-13 21:03:37.645 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59975 - "OPTIONS /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-13 21:03:37.657 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 21:03:37.662 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
    
2023-12-13 21:03:37.666 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        id
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
        AND
        user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a';
    
2023-12-13 21:03:37.668 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE orgs
    SET
        p_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c',
        name = '東京（エリア）2',
        type = '02'
    WHERE
        orgs.id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
    
2023-12-13 21:03:37.670 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_org_rels
        WHERE
            user_org_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a'
            AND
            user_org_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
        
2023-12-13 21:03:37.671 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_role_rels
        WHERE
            user_role_rels.user_id = '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a'
            AND
            user_role_rels.role_id = 'eed8c4a5-0909-41a1-aa66-ef1cfae870d5';
        
2023-12-13 21:03:37.673 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM org_role_rels
        WHERE
            org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
            AND
            org_role_rels.role_id = 'eed8c4a5-0909-41a1-aa66-ef1cfae870d5';
        
2023-12-13 21:03:37.674 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'eed8c4a5-0909-41a1-aa66-ef1cfae870d5'
                AND
                permission_id = '53dc2e89-791d-4b66-aa73-f51ea9cd4e26';
            
2023-12-13 21:03:37.675 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'eed8c4a5-0909-41a1-aa66-ef1cfae870d5'
                AND
                permission_id = '2ca11194-6079-41e8-8b26-275aa42848fa';
            
2023-12-13 21:03:37.676 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'eed8c4a5-0909-41a1-aa66-ef1cfae870d5'
                AND
                permission_id = '2065f63f-5e95-432e-9545-eed26715dc49';
            
2023-12-13 21:03:37.678 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'eed8c4a5-0909-41a1-aa66-ef1cfae870d5'
                AND
                permission_id = 'bce2b4a4-0cad-4baa-96dd-671f2d942c7e';
            
2023-12-13 21:03:37.681 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM roles WHERE id = 'eed8c4a5-0909-41a1-aa66-ef1cfae870d5';
        
2023-12-13 21:03:37.685 | INFO     | providers.psql_provider:fetch_one:30 - 
        INSERT INTO roles (type, name)
        VALUES (
            '02',
            'エリア管理者'
        )
        RETURNING id;
        
2023-12-13 21:03:37.687 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_org_rels (user_id, org_id, type)
        VALUES (
            '02804013-a550-4ee6-822c-c00a0f7d4985',
            'cd2d8827-c189-4c0e-8716-d081873c6178',
            '02'
        )
        
2023-12-13 21:03:37.689 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_role_rels (user_id, role_id)
        VALUES (
            '02804013-a550-4ee6-822c-c00a0f7d4985',
            '3bdd6b81-8390-45b8-8624-d4c8562b02a1'
        )
        
2023-12-13 21:03:37.690 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO org_role_rels (org_id, role_id)
        VALUES (
            'cd2d8827-c189-4c0e-8716-d081873c6178',
            '3bdd6b81-8390-45b8-8624-d4c8562b02a1'
        )
        
2023-12-13 21:03:37.691 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '3bdd6b81-8390-45b8-8624-d4c8562b02a1',
                '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
            )
            
2023-12-13 21:03:37.692 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '3bdd6b81-8390-45b8-8624-d4c8562b02a1',
                '8f63e587-b802-4cfd-8ead-d3423237b054'
            )
            
2023-12-13 21:03:37.697 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '3bdd6b81-8390-45b8-8624-d4c8562b02a1',
                '2ca11194-6079-41e8-8b26-275aa42848fa'
            )
            
2023-12-13 21:03:37.698 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '3bdd6b81-8390-45b8-8624-d4c8562b02a1',
                '2065f63f-5e95-432e-9545-eed26715dc49'
            )
            
2023-12-13 21:03:37.700 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '3bdd6b81-8390-45b8-8624-d4c8562b02a1',
                'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
            )
            
2023-12-13 21:03:37.701 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59975 - "PUT /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-13 21:03:37.882 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 21:03:37.885 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59975 - "GET /orgs HTTP/1.1" 200
2023-12-13 21:03:37.892 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 21:03:37.895 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59979 - "GET /orgs HTTP/1.1" 200
2023-12-13 21:03:40.308 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 21:03:40.308 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 21:03:40.309 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 21:03:40.311 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 21:03:40.312 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59993 - "GET /options/users HTTP/1.1" 200
2023-12-13 21:03:40.313 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59975 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 21:03:40.314 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59994 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 21:03:40.318 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
    
2023-12-13 21:03:40.318 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 21:03:40.321 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 21:03:40.322 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59999 - "GET /options/users HTTP/1.1" 200
2023-12-13 21:03:40.323 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59979 - "GET /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-13 21:03:40.325 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59993 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 21:03:40.326 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 21:03:40.328 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59975 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 21:03:40.328 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 21:03:40.330 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
    
2023-12-13 21:03:40.332 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:59999 - "GET /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-13 21:04:38.011 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 21:04:38.016 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60234 - "GET /orgs HTTP/1.1" 200
2023-12-13 21:04:38.022 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 21:04:38.026 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60236 - "GET /orgs HTTP/1.1" 200
2023-12-13 21:04:45.513 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 21:04:45.514 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '36944519-1255-490f-a310-b57ed8abe0f2'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 21:04:45.514 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 21:04:45.525 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 21:04:45.526 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60274 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 21:04:45.526 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60275 - "GET /options/users HTTP/1.1" 200
2023-12-13 21:04:45.529 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60276 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 21:04:45.534 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2';
    
2023-12-13 21:04:45.536 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 21:04:45.544 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60273 - "GET /org/36944519-1255-490f-a310-b57ed8abe0f2 HTTP/1.1" 200
2023-12-13 21:04:45.544 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60282 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 21:04:45.545 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 21:04:45.553 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60275 - "GET /options/users HTTP/1.1" 200
2023-12-13 21:04:45.553 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 21:04:45.554 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '36944519-1255-490f-a310-b57ed8abe0f2'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 21:04:45.555 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60274 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 21:04:45.556 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2';
    
2023-12-13 21:04:45.557 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60273 - "GET /org/36944519-1255-490f-a310-b57ed8abe0f2 HTTP/1.1" 200
2023-12-13 21:04:49.514 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '36944519-1255-490f-a310-b57ed8abe0f2'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 21:04:49.545 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2';
    
2023-12-13 21:04:49.548 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        id
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '36944519-1255-490f-a310-b57ed8abe0f2'
        AND
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-13 21:04:49.550 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE orgs
    SET
        p_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c',
        name = '東京（エリア）1',
        type = '02'
    WHERE
        orgs.id = '36944519-1255-490f-a310-b57ed8abe0f2';
    
2023-12-13 21:04:49.551 | INFO     | providers.psql_provider:execute:57 - 
        UPDATE roles
        SET
            name = 'エリア管理者',
            type = '02'
        WHERE
            roles.id = 'd3706898-28de-49e5-ba20-6008ab4ee18d';
        
2023-12-13 21:04:49.553 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '0b25e905-64ae-42d2-98ed-2c8ebd845d66';
            
2023-12-13 21:04:49.554 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '8f63e587-b802-4cfd-8ead-d3423237b054';
            
2023-12-13 21:04:49.555 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '7f956b2a-65ce-463e-9ddb-6627f9b42ecf';
            
2023-12-13 21:04:49.556 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = 'dd96b563-2476-4904-a880-a2cffe1ea0ac';
            
2023-12-13 21:04:49.558 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '2ca11194-6079-41e8-8b26-275aa42848fa';
            
2023-12-13 21:04:49.560 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '0a3f364b-21e6-4c0d-bf6e-67729bf899a2';
            
2023-12-13 21:04:49.561 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '55ba3199-c673-49d8-8001-9b5f3b2b33dc';
            
2023-12-13 21:04:49.562 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '2065f63f-5e95-432e-9545-eed26715dc49';
            
2023-12-13 21:04:49.564 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '58289de8-b6b7-4629-9016-58e5d30e89ee';
            
2023-12-13 21:04:49.565 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = '55762da2-4d17-418e-b09f-e6249645ec18';
            
2023-12-13 21:04:49.566 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = 'ee3ed4ae-43d9-4d37-92f9-a4950788d8be';
            
2023-12-13 21:04:49.567 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = 'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7';
            
2023-12-13 21:04:49.570 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = 'd3706898-28de-49e5-ba20-6008ab4ee18d'
                AND
                permission_id = 'bce2b4a4-0cad-4baa-96dd-671f2d942c7e';
            
2023-12-13 21:04:49.571 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '0b25e905-64ae-42d2-98ed-2c8ebd845d66'
            )
            
2023-12-13 21:04:49.572 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '8f63e587-b802-4cfd-8ead-d3423237b054'
            )
            
2023-12-13 21:04:49.574 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '7f956b2a-65ce-463e-9ddb-6627f9b42ecf'
            )
            
2023-12-13 21:04:49.575 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                'dd96b563-2476-4904-a880-a2cffe1ea0ac'
            )
            
2023-12-13 21:04:49.576 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '2ca11194-6079-41e8-8b26-275aa42848fa'
            )
            
2023-12-13 21:04:49.578 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '0a3f364b-21e6-4c0d-bf6e-67729bf899a2'
            )
            
2023-12-13 21:04:49.580 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '55ba3199-c673-49d8-8001-9b5f3b2b33dc'
            )
            
2023-12-13 21:04:49.581 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '2065f63f-5e95-432e-9545-eed26715dc49'
            )
            
2023-12-13 21:04:49.582 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '58289de8-b6b7-4629-9016-58e5d30e89ee'
            )
            
2023-12-13 21:04:49.583 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                '55762da2-4d17-418e-b09f-e6249645ec18'
            )
            
2023-12-13 21:04:49.586 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                'ee3ed4ae-43d9-4d37-92f9-a4950788d8be'
            )
            
2023-12-13 21:04:49.587 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                'a3d1b21b-c0a4-47bc-885e-3b1ab95904d7'
            )
            
2023-12-13 21:04:49.588 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                'd3706898-28de-49e5-ba20-6008ab4ee18d',
                'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
            )
            
2023-12-13 21:04:49.589 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60273 - "PUT /org/36944519-1255-490f-a310-b57ed8abe0f2 HTTP/1.1" 200
2023-12-13 21:04:49.745 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 21:04:49.748 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60273 - "GET /orgs HTTP/1.1" 200
2023-12-13 21:04:49.756 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 21:04:49.760 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60274 - "GET /orgs HTTP/1.1" 200
2023-12-13 21:04:56.811 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 21:04:56.815 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 21:04:56.817 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 21:04:56.820 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60336 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 21:04:56.820 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 21:04:56.821 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60337 - "GET /options/users HTTP/1.1" 200
2023-12-13 21:04:56.827 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60338 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 21:04:56.829 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
    
2023-12-13 21:04:56.830 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 21:04:56.831 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60344 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 21:04:56.831 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 21:04:56.832 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60335 - "GET /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-13 21:04:56.832 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 21:04:56.834 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60336 - "GET /options/users HTTP/1.1" 200
2023-12-13 21:04:56.835 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60337 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 21:04:56.837 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 21:04:56.838 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
    
2023-12-13 21:04:56.840 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60335 - "GET /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-13 21:05:18.772 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 21:05:18.776 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '02'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
    
2023-12-13 21:05:18.783 | INFO     | providers.psql_provider:fetch_value:48 - 
    SELECT
        id
    FROM
        roles
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
        AND
        user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985';
    
2023-12-13 21:05:18.786 | INFO     | providers.psql_provider:execute:57 - 
    UPDATE orgs
    SET
        p_id = '36944519-1255-490f-a310-b57ed8abe0f2',
        name = '支店01',
        type = '03'
    WHERE
        orgs.id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
    
2023-12-13 21:05:18.795 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_org_rels
        WHERE
            user_org_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985'
            AND
            user_org_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
        
2023-12-13 21:05:18.805 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM user_role_rels
        WHERE
            user_role_rels.user_id = '02804013-a550-4ee6-822c-c00a0f7d4985'
            AND
            user_role_rels.role_id = '3bdd6b81-8390-45b8-8624-d4c8562b02a1';
        
2023-12-13 21:05:18.810 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM org_role_rels
        WHERE
            org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
            AND
            org_role_rels.role_id = '3bdd6b81-8390-45b8-8624-d4c8562b02a1';
        
2023-12-13 21:05:18.812 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '3bdd6b81-8390-45b8-8624-d4c8562b02a1'
                AND
                permission_id = '53dc2e89-791d-4b66-aa73-f51ea9cd4e26';
            
2023-12-13 21:05:18.813 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '3bdd6b81-8390-45b8-8624-d4c8562b02a1'
                AND
                permission_id = '8f63e587-b802-4cfd-8ead-d3423237b054';
            
2023-12-13 21:05:18.813 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '3bdd6b81-8390-45b8-8624-d4c8562b02a1'
                AND
                permission_id = '2ca11194-6079-41e8-8b26-275aa42848fa';
            
2023-12-13 21:05:18.814 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '3bdd6b81-8390-45b8-8624-d4c8562b02a1'
                AND
                permission_id = '2065f63f-5e95-432e-9545-eed26715dc49';
            
2023-12-13 21:05:18.815 | INFO     | providers.psql_provider:execute:57 - 
            DELETE FROM role_permission_rels
            WHERE
                role_id = '3bdd6b81-8390-45b8-8624-d4c8562b02a1'
                AND
                permission_id = 'bce2b4a4-0cad-4baa-96dd-671f2d942c7e';
            
2023-12-13 21:05:18.816 | INFO     | providers.psql_provider:execute:57 - 
        DELETE FROM roles WHERE id = '3bdd6b81-8390-45b8-8624-d4c8562b02a1';
        
2023-12-13 21:05:18.818 | INFO     | providers.psql_provider:fetch_one:30 - 
        INSERT INTO roles (type, name)
        VALUES (
            '03',
            '支店管理者'
        )
        RETURNING id;
        
2023-12-13 21:05:18.820 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_org_rels (user_id, org_id, type)
        VALUES (
            '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a',
            'cd2d8827-c189-4c0e-8716-d081873c6178',
            '03'
        )
        
2023-12-13 21:05:18.822 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO user_role_rels (user_id, role_id)
        VALUES (
            '7cfe8233-7b67-4f0b-a40d-259ef4ecb25a',
            '0a4acbff-ecd1-44d7-9321-14aeb4a4c23c'
        )
        
2023-12-13 21:05:18.825 | INFO     | providers.psql_provider:execute:57 - 
        INSERT INTO org_role_rels (org_id, role_id)
        VALUES (
            'cd2d8827-c189-4c0e-8716-d081873c6178',
            '0a4acbff-ecd1-44d7-9321-14aeb4a4c23c'
        )
        
2023-12-13 21:05:18.826 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '0a4acbff-ecd1-44d7-9321-14aeb4a4c23c',
                '53dc2e89-791d-4b66-aa73-f51ea9cd4e26'
            )
            
2023-12-13 21:05:18.827 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '0a4acbff-ecd1-44d7-9321-14aeb4a4c23c',
                '8f63e587-b802-4cfd-8ead-d3423237b054'
            )
            
2023-12-13 21:05:18.829 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '0a4acbff-ecd1-44d7-9321-14aeb4a4c23c',
                '2ca11194-6079-41e8-8b26-275aa42848fa'
            )
            
2023-12-13 21:05:18.830 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '0a4acbff-ecd1-44d7-9321-14aeb4a4c23c',
                '2065f63f-5e95-432e-9545-eed26715dc49'
            )
            
2023-12-13 21:05:18.830 | INFO     | providers.psql_provider:execute:57 - 
            INSERT INTO role_permission_rels (role_id, permission_id)
            VALUES (
                '0a4acbff-ecd1-44d7-9321-14aeb4a4c23c',
                'bce2b4a4-0cad-4baa-96dd-671f2d942c7e'
            )
            
2023-12-13 21:05:18.832 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60437 - "PUT /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-13 21:05:18.991 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 21:05:18.994 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60437 - "GET /orgs HTTP/1.1" 200
2023-12-13 21:05:19.000 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 21:05:19.002 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60441 - "GET /orgs HTTP/1.1" 200
2023-12-13 21:05:22.448 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 21:05:22.449 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 21:05:22.450 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 21:05:22.450 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 21:05:22.453 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60437 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 21:05:22.453 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
    
2023-12-13 21:05:22.454 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60459 - "GET /options/users HTTP/1.1" 200
2023-12-13 21:05:22.454 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60460 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 21:05:22.459 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60441 - "GET /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-13 21:05:22.462 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 21:05:22.463 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 21:05:22.466 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60437 - "GET /options/users HTTP/1.1" 200
2023-12-13 21:05:22.467 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60465 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 21:05:22.469 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 21:05:22.474 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
    
2023-12-13 21:05:22.478 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 21:05:22.479 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60460 - "GET /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-13 21:05:22.480 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60459 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 21:07:11.340 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60909 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 21:07:11.342 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60909 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 21:07:11.348 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 21:07:11.352 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60910 - "GET /orgs HTTP/1.1" 200
2023-12-13 21:07:11.358 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 21:07:11.361 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60909 - "GET /orgs HTTP/1.1" 200
2023-12-13 21:12:36.108 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62236 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 21:12:36.109 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62237 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 21:12:36.109 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62238 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 21:12:36.109 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62239 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 21:12:36.110 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62240 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 21:12:36.111 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62241 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 21:12:36.123 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 21:12:36.125 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 21:12:36.126 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 21:12:36.127 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62237 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 21:12:36.127 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62236 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 21:12:36.128 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62238 - "GET /options/users HTTP/1.1" 200
2023-12-13 21:12:36.136 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 21:12:36.136 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 21:12:36.139 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 21:12:36.143 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62241 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 21:12:36.143 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62237 - "GET /options/users HTTP/1.1" 200
2023-12-13 21:12:36.143 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:62236 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 21:25:09.783 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65304 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 21:25:09.785 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65305 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 21:25:09.785 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65304 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 21:25:09.786 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65306 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 21:25:09.786 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65305 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 21:25:09.786 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65307 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 21:25:09.795 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65308 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 21:25:09.803 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65309 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 21:25:09.816 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 21:25:09.819 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 21:25:09.820 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 21:25:09.821 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 21:25:09.827 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65307 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 21:25:09.831 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65306 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 21:25:09.834 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65304 - "GET /options/users HTTP/1.1" 200
2023-12-13 21:25:09.839 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 21:25:09.839 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 21:25:09.840 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 21:25:09.841 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65307 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 21:25:09.841 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65309 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 21:25:09.843 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65306 - "GET /options/users HTTP/1.1" 200
2023-12-13 21:25:09.843 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.type,
        orgs.name,
        orgs.remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 21:25:09.845 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 21:25:09.848 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 21:25:09.850 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65305 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 21:25:09.867 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 21:25:09.894 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.type,
        orgs.name,
        orgs.remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 21:25:09.907 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 21:25:09.912 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 21:25:09.917 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65306 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 21:25:57.983 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65514 - "OPTIONS /org/null HTTP/1.1" 200
2023-12-13 21:25:57.985 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65518 - "OPTIONS /org/null HTTP/1.1" 200
2023-12-13 21:25:58.016 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 21:25:58.016 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 21:25:58.020 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'null'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 21:25:58.021 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65517 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 21:25:58.031 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65515 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 21:25:58.038 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 21:25:58.041 | ERROR    | app.endpoints.orgs:get_org:57 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1054499d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1051c7430>
           └ <SpawnProcess name='SpawnProcess-130' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1051baa60>
    └ <SpawnProcess name='SpawnProcess-130' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1054571f0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-130' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-130' parent=92396 started>
    │    └ <function subprocess_started at 0x1078afa60>
    └ <SpawnProcess name='SpawnProcess-130' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x105457310>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1078af040>
           │       │   └ <uvicorn.server.Server object at 0x105457310>
           │       └ <function run at 0x105487820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1078ac2c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1078fd7f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cc58e0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cc58...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1079df430>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1078fd7f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cc58e0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cc58...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cc58e0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cc58...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107b05490>
          └ <fastapi.applications.FastAPI object at 0x1079df430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107e7aee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cc58...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x107b05430>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107b05490>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107e7aee0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cc58...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x107082af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107b05430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x107b05430>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cc58...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107b05400>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107b05430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107eb3040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cc58...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107b053a0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107b05400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107eb3040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cc58...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1079df550>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107b053a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107eb3040>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cc58...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106fd9af0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107eb3040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cc58...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x107afe1f0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x107cc5c70>
                     └ <function get_request_handler.<locals>.app at 0x107afe160>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x106fc7790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1078c0640>, 'org_id': 'null'}
                 │         └ <function get_org at 0x10777d3a0>
                 └ <fastapi.dependencies.models.Dependant object at 0x107af8a30>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ 'null'
                │         │         └ <providers.psql_provider.DB object at 0x1078c0640>
                │         └ <function query_org at 0x10778e0d0>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 109, in query_org
    org_basic = await db.fetch_one(sql)
                      │  │         └ "\n    SELECT\n        orgs.p_id,\n        orgs.name,\n        orgs.remark,\n        orgs.type,\n        user_org_rels.user_i...
                      │  └ <function DB.fetch_one at 0x107489ca0>
                      └ <providers.psql_provider.DB object at 0x1078c0640>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 31, in fetch_one
    result = await con.fetchrow(query)
                   │   │        └ "\n    SELECT\n        orgs.p_id,\n        orgs.name,\n        orgs.remark,\n        orgs.type,\n        user_org_rels.user_i...
                   │   └ <function Connection.fetchrow at 0x1071e2160>
                   └ <PoolConnectionProxy [released] 0x107b05f10>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 749, in fetchrow
    data = await self._execute(
                 │    └ <function Connection._execute at 0x1071cf1f0>
                 └ <asyncpg.connection.Connection object at 0x107eb9a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x107eb9a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1071cf5e0>
                         └ <asyncpg.connection.Connection object at 0x107eb9a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1071cd700>
                 └ <asyncpg.connection.Connection object at 0x107eb9a90>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x107eb9a90>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-13 21:25:58.056 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65514 - "GET /org/null HTTP/1.1" 500
2023-12-13 21:25:58.057 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 21:25:58.063 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65516 - "GET /options/users HTTP/1.1" 200
2023-12-13 21:25:58.069 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 21:25:58.070 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65518 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 21:25:58.077 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'null'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 21:25:58.078 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65517 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 21:25:58.081 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 21:25:58.082 | ERROR    | app.endpoints.orgs:get_org:57 - invalid input syntax for type uuid: "null"Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1054499d0>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1051c7430>
           └ <SpawnProcess name='SpawnProcess-130' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1051baa60>
    └ <SpawnProcess name='SpawnProcess-130' parent=92396 started>

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1054571f0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-130' parent=92396 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-130' parent=92396 started>
    │    └ <function subprocess_started at 0x1078afa60>
    └ <SpawnProcess name='SpawnProcess-130' parent=92396 started>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x105457310>>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1078af040>
           │       │   └ <uvicorn.server.Server object at 0x105457310>
           │       └ <function run at 0x105487820>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/async...

  File "/opt/homebrew/Cellar/python@3.9/3.9.18_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1078ac2c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1078fd7f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cc55b0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cc55...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1079df430>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1078fd7f0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cc55b0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cc55...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cc55b0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cc55...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107b05490>
          └ <fastapi.applications.FastAPI object at 0x1079df430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107e32550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cc55...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x107b05430>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107b05490>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '0.0.0.0:8000', 'connection': 'keep-alive', 'accept': 'application/json, text/plain, */*', 'authorization': ...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107e32550>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cc55...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x107082af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107b05430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x107b05430>>, sen...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cc55...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107b05400>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x107b05430>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107e7a700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cc55...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107b053a0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x107b05400>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107e7a700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cc55...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x1079df550>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x107b053a0>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107e7a700>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cc55...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106fd9af0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x107e7a700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x107cc55...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x107afe1f0>
          └ APIRoute(path='/org/{org_id}', name='get_org', methods=['GET'])
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x107e4c940>
                     └ <function get_request_handler.<locals>.app at 0x107afe160>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x106fc7790>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <providers.psql_provider.DB object at 0x1078c0640>, 'org_id': 'null'}
                 │         └ <function get_org at 0x10777d3a0>
                 └ <fastapi.dependencies.models.Dependant object at 0x107af8a30>

> File "/Users/ryu/loan-ledger-if/app/endpoints/orgs.py", line 51, in get_org
    org = await orgs_crud.query_org(db, org_id)
                │         │         │   └ 'null'
                │         │         └ <providers.psql_provider.DB object at 0x1078c0640>
                │         └ <function query_org at 0x10778e0d0>
                └ <module 'app.crud.orgs_crud' from '/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py'>

  File "/Users/ryu/loan-ledger-if/app/crud/orgs_crud.py", line 109, in query_org
    org_basic = await db.fetch_one(sql)
                      │  │         └ "\n    SELECT\n        orgs.p_id,\n        orgs.name,\n        orgs.remark,\n        orgs.type,\n        user_org_rels.user_i...
                      │  └ <function DB.fetch_one at 0x107489ca0>
                      └ <providers.psql_provider.DB object at 0x1078c0640>

  File "/Users/ryu/loan-ledger-if/providers/psql_provider.py", line 31, in fetch_one
    result = await con.fetchrow(query)
                   │   │        └ "\n    SELECT\n        orgs.p_id,\n        orgs.name,\n        orgs.remark,\n        orgs.type,\n        user_org_rels.user_i...
                   │   └ <function Connection.fetchrow at 0x1071e2160>
                   └ <PoolConnectionProxy [released] 0x107e10e50>

  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 749, in fetchrow
    data = await self._execute(
                 │    └ <function Connection._execute at 0x1071cf1f0>
                 └ <asyncpg.connection.Connection object at 0x107eb9e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1794, in _execute
    result, _ = await self.__execute(
                      └ <asyncpg.connection.Connection object at 0x107eb9e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1892, in __execute
    result, stmt = await self._do_execute(
                         │    └ <function Connection._do_execute at 0x1071cf5e0>
                         └ <asyncpg.connection.Connection object at 0x107eb9e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 1933, in _do_execute
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x1071cd700>
                 └ <asyncpg.connection.Connection object at 0x107eb9e50>
  File "/Users/ryu/.local/share/virtualenvs/loan-ledger-if-EcEPVwdU/lib/python3.9/site-packages/asyncpg/connection.py", line 433, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x107eb9e50>
  File "asyncpg/protocol/protocol.pyx", line 166, in prepare
    return await waiter

asyncpg.exceptions.InvalidTextRepresentationError: invalid input syntax for type uuid: "null"

2023-12-13 21:25:58.089 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65515 - "GET /org/null HTTP/1.1" 500
2023-12-13 21:25:58.093 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:65516 - "GET /options/users HTTP/1.1" 200
2023-12-13 21:26:37.123 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49303 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 21:26:37.126 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49304 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 21:26:37.134 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 21:26:37.137 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49303 - "GET /orgs HTTP/1.1" 200
2023-12-13 21:26:37.142 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 21:26:37.148 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:49304 - "GET /orgs HTTP/1.1" 200
2023-12-13 21:35:59.932 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51619 - "OPTIONS /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-13 21:35:59.933 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51620 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 21:35:59.933 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51621 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 21:35:59.933 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51622 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 21:35:59.934 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51623 - "OPTIONS /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-13 21:35:59.934 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51624 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 21:35:59.936 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51619 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 21:35:59.936 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51622 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 21:35:59.950 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 21:35:59.950 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 21:35:59.952 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 21:35:59.953 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 21:35:59.953 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51621 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 21:35:59.954 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51623 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 21:35:59.955 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51620 - "GET /options/users HTTP/1.1" 200
2023-12-13 21:35:59.960 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 21:35:59.960 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 21:35:59.963 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
    
2023-12-13 21:35:59.963 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51621 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 21:35:59.963 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51622 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 21:35:59.965 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 21:35:59.967 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51623 - "GET /options/users HTTP/1.1" 200
2023-12-13 21:35:59.967 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51624 - "GET /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-13 21:35:59.972 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 21:35:59.973 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
    
2023-12-13 21:35:59.976 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:51623 - "GET /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-13 21:52:48.758 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55717 - "OPTIONS /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-13 21:52:48.761 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55718 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 21:52:48.762 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55719 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 21:52:48.762 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55720 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 21:52:48.762 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55717 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 21:52:48.763 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55718 - "OPTIONS /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-13 21:52:48.764 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55721 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 21:52:48.765 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55719 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 21:52:48.766 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55718 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 21:52:48.767 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55722 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 21:52:48.781 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 21:52:48.782 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 21:52:48.782 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 21:52:48.784 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 21:52:48.785 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 21:52:48.786 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55720 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 21:52:48.786 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55721 - "GET /options/users HTTP/1.1" 200
2023-12-13 21:52:48.788 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55719 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 21:52:48.794 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
    
2023-12-13 21:52:48.801 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55717 - "GET /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-13 21:52:48.801 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.type,
        orgs.name,
        orgs.remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 21:52:48.802 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 21:52:48.804 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55720 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 21:52:48.806 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 21:52:48.807 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 21:52:48.808 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 21:52:48.808 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 21:52:48.809 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55718 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 21:52:48.813 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55721 - "GET /options/users HTTP/1.1" 200
2023-12-13 21:52:48.816 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 21:52:48.817 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
    
2023-12-13 21:52:48.818 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55722 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 21:52:48.820 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55719 - "GET /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-13 21:52:48.836 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 21:52:48.848 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.type,
        orgs.name,
        orgs.remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 21:52:48.851 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 21:52:48.853 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 21:52:48.855 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55722 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 22:13:41.242 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60819 - "OPTIONS /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-13 22:13:41.243 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60820 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 22:13:41.244 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60821 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 22:13:41.245 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60822 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 22:13:41.245 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60819 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 22:13:41.245 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60820 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 22:13:41.245 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60823 - "OPTIONS /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-13 22:13:41.245 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60824 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 22:13:41.255 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 22:13:41.256 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 22:13:41.256 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 22:13:41.259 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 22:13:41.259 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60819 - "GET /options/users HTTP/1.1" 200
2023-12-13 22:13:41.259 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60822 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 22:13:41.264 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60824 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 22:13:41.267 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 22:13:41.268 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
    
2023-12-13 22:13:41.272 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 22:13:41.275 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 22:13:41.275 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60822 - "GET /options/users HTTP/1.1" 200
2023-12-13 22:13:41.276 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60821 - "GET /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-13 22:13:41.276 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60819 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 22:13:41.277 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60823 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 22:13:41.284 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = 'cd2d8827-c189-4c0e-8716-d081873c6178'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 22:13:41.286 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '03'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = 'cd2d8827-c189-4c0e-8716-d081873c6178';
    
2023-12-13 22:13:41.289 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60820 - "GET /org/cd2d8827-c189-4c0e-8716-d081873c6178 HTTP/1.1" 200
2023-12-13 22:25:03.522 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63609 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 22:25:03.523 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63610 - "OPTIONS /orgs HTTP/1.1" 200
2023-12-13 22:25:03.528 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 22:25:03.534 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63609 - "GET /orgs HTTP/1.1" 200
2023-12-13 22:25:03.541 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        users.last_name,
        users.first_name
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    JOIN
        users
        ON
        users.id = user_org_rels.user_id;
    
2023-12-13 22:25:03.544 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63610 - "GET /orgs HTTP/1.1" 200
2023-12-13 22:26:18.394 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63911 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-13 22:26:18.395 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63912 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 22:26:18.395 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63913 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 22:26:18.395 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63914 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 22:26:18.400 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63915 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-13 22:26:18.400 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63911 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 22:26:18.401 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63912 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 22:26:18.403 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63916 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 22:26:18.415 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 22:26:18.417 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 22:26:18.419 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63914 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 22:26:18.420 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 22:26:18.421 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63915 - "GET /options/users HTTP/1.1" 200
2023-12-13 22:26:18.425 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 22:26:18.428 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63916 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 22:26:18.432 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 22:26:18.432 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 22:26:18.435 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63914 - "GET /options/users HTTP/1.1" 200
2023-12-13 22:26:18.436 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 22:26:18.438 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-13 22:26:18.439 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63912 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 22:26:18.442 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63915 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 22:26:18.445 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63913 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-13 22:26:18.449 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 22:26:18.451 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-13 22:26:18.453 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:63915 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-13 23:04:45.557 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56964 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-13 23:04:45.558 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56965 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 23:04:45.559 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56966 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 23:04:45.560 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56964 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-13 23:04:45.561 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56965 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-13 23:04:45.561 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56967 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 23:04:45.562 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56966 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-13 23:04:45.562 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56968 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 23:04:45.562 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56965 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 23:04:45.562 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56969 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-13 23:04:45.578 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 23:04:45.580 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 23:04:45.581 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 23:04:45.584 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 23:04:45.592 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56966 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 23:04:45.596 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56968 - "GET /options/users HTTP/1.1" 200
2023-12-13 23:04:45.601 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56967 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 23:04:45.603 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 23:04:45.609 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 23:04:45.609 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 23:04:45.610 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-13 23:04:45.611 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56969 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 23:04:45.611 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.type,
        orgs.name,
        orgs.remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 23:04:45.611 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56966 - "GET /options/users HTTP/1.1" 200
2023-12-13 23:04:45.613 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 23:04:45.614 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56964 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-13 23:04:45.615 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56968 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 23:04:45.619 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 23:04:45.619 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 23:04:45.637 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-13 23:04:45.646 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56966 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-13 23:04:45.647 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 23:04:45.650 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56965 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 23:04:45.664 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 23:04:45.673 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.type,
        orgs.name,
        orgs.remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 23:04:45.678 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 23:04:45.684 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 23:04:45.691 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:56966 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 23:12:06.357 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 23:12:06.362 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 23:12:06.365 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 23:12:06.366 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 23:12:06.372 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58794 - "GET /options/users HTTP/1.1" 200
2023-12-13 23:12:06.379 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 23:12:06.380 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58795 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 23:12:06.385 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58793 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 23:12:06.386 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-13 23:12:06.387 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-13 23:12:06.390 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58803 - "GET /options/users HTTP/1.1" 200
2023-12-13 23:12:06.392 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-13 23:12:06.392 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58792 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-13 23:12:06.393 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.type,
        orgs.name,
        orgs.remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 23:12:06.394 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-13 23:12:06.395 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58794 - "GET /options/permissions HTTP/1.1" 200
2023-12-13 23:12:06.397 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58795 - "GET /options/orgs HTTP/1.1" 200
2023-12-13 23:12:06.399 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-13 23:12:06.411 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 23:12:06.412 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-13 23:12:06.417 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58803 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-13 23:12:06.417 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 23:12:06.420 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58796 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-13 23:12:06.424 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 23:12:06.426 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.type,
        orgs.name,
        orgs.remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 23:12:06.427 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 23:12:06.429 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-13 23:12:06.432 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:58803 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-14 00:13:44.675 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60719 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-14 00:13:44.676 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60721 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-14 00:13:44.683 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 00:13:44.685 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.type,
        orgs.name,
        orgs.remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 00:13:44.686 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 00:13:44.691 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 00:13:44.694 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60719 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-14 00:13:44.699 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 00:13:44.701 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.type,
        orgs.name,
        orgs.remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 00:13:44.702 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 00:13:44.706 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 00:13:44.708 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60721 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-14 00:13:48.383 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60721 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-14 00:13:48.383 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60719 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-14 00:13:48.384 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60741 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-14 00:13:48.384 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60742 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-14 00:13:48.385 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60721 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-14 00:13:48.385 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60719 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-14 00:13:48.387 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60741 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-14 00:13:48.388 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60744 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-14 00:13:48.401 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 00:13:48.409 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.type,
        orgs.name,
        orgs.remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 00:13:48.410 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-14 00:13:48.413 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-14 00:13:48.416 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-14 00:13:48.417 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-14 00:13:48.418 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60721 - "GET /options/orgs HTTP/1.1" 200
2023-12-14 00:13:48.421 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 00:13:48.422 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60741 - "GET /options/permissions HTTP/1.1" 200
2023-12-14 00:13:48.422 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60719 - "GET /options/users HTTP/1.1" 200
2023-12-14 00:13:48.423 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-14 00:13:48.427 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-14 00:13:48.429 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60742 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-14 00:13:48.430 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-14 00:13:48.430 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-14 00:13:48.430 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60744 - "GET /options/orgs HTTP/1.1" 200
2023-12-14 00:13:48.436 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60741 - "GET /options/permissions HTTP/1.1" 200
2023-12-14 00:13:48.436 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60719 - "GET /options/users HTTP/1.1" 200
2023-12-14 00:13:48.436 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 00:13:48.438 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-14 00:13:48.439 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-14 00:13:48.440 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60743 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-14 00:13:48.445 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60742 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-14 00:13:48.448 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 00:13:48.449 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.type,
        orgs.name,
        orgs.remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 00:13:48.451 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 00:13:48.454 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 00:13:48.473 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:60741 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-14 00:27:23.462 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64085 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-14 00:27:23.464 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64086 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-14 00:27:23.465 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64085 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-14 00:27:23.466 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64087 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-14 00:27:23.470 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64086 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-14 00:27:23.471 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64088 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-14 00:27:23.472 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64087 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-14 00:27:23.473 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64085 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-14 00:27:23.473 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64089 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-14 00:27:23.475 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64090 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-14 00:27:23.483 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-14 00:27:23.484 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-14 00:27:23.486 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-14 00:27:23.493 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64088 - "GET /options/orgs HTTP/1.1" 200
2023-12-14 00:27:23.494 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64087 - "GET /options/users HTTP/1.1" 200
2023-12-14 00:27:23.497 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-14 00:27:23.501 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 00:27:23.504 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64089 - "GET /options/permissions HTTP/1.1" 200
2023-12-14 00:27:23.504 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.type,
        orgs.name,
        orgs.remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 00:27:23.507 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-14 00:27:23.508 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-14 00:27:23.514 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-14 00:27:23.514 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-14 00:27:23.516 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64090 - "GET /options/orgs HTTP/1.1" 200
2023-12-14 00:27:23.516 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64088 - "GET /options/users HTTP/1.1" 200
2023-12-14 00:27:23.516 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 00:27:23.518 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64086 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-14 00:27:23.519 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64087 - "GET /options/permissions HTTP/1.1" 200
2023-12-14 00:27:23.524 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-14 00:27:23.527 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-14 00:27:23.528 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 00:27:23.530 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64086 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-14 00:27:23.531 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64085 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-14 00:27:23.536 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 00:27:23.538 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.type,
        orgs.name,
        orgs.remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 00:27:23.539 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 00:27:23.543 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 00:27:23.546 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:64086 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-14 09:47:04.851 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55559 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-14 09:47:04.852 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55560 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-14 09:47:04.853 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55561 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-14 09:47:04.853 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55562 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-14 09:47:04.853 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55559 - "OPTIONS /options/orgs HTTP/1.1" 200
2023-12-14 09:47:04.853 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55563 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-14 09:47:04.853 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55564 - "OPTIONS /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-14 09:47:04.854 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55560 - "OPTIONS /options/users HTTP/1.1" 200
2023-12-14 09:47:04.854 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55561 - "OPTIONS /options/permissions HTTP/1.1" 200
2023-12-14 09:47:04.854 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55562 - "OPTIONS /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-14 09:47:04.867 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-14 09:47:04.870 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-14 09:47:04.872 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-14 09:47:04.874 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-14 09:47:04.875 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55559 - "GET /options/orgs HTTP/1.1" 200
2023-12-14 09:47:04.876 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55562 - "GET /options/users HTTP/1.1" 200
2023-12-14 09:47:04.880 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55561 - "GET /options/permissions HTTP/1.1" 200
2023-12-14 09:47:04.881 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 09:47:04.884 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-14 09:47:04.889 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.type,
        orgs.name,
        orgs.remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 09:47:04.891 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        last_name,
        first_name
    FROM
        users
    WHERE
        users.is_super != true;
    
2023-12-14 09:47:04.892 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        p_id,
        name,
        remark,
        type
    FROM
        orgs;
    
2023-12-14 09:47:04.896 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55563 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-14 09:47:04.897 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55559 - "GET /options/users HTTP/1.1" 200
2023-12-14 09:47:04.899 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        id,
        name
    FROM
        permissions;
    
2023-12-14 09:47:04.899 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55564 - "GET /options/orgs HTTP/1.1" 200
2023-12-14 09:47:04.901 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55562 - "GET /options/permissions HTTP/1.1" 200
2023-12-14 09:47:04.903 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        orgs.p_id,
        orgs.name,
        orgs.remark,
        orgs.type,
        user_org_rels.user_id
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        orgs.id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c'
        AND
        user_org_rels.type LIKE '0%';
    
2023-12-14 09:47:04.903 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 09:47:04.905 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        permissions.id,
        permissions.name
    FROM
        permissions
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
        AND
        roles.type = '01'
    JOIN
        org_role_rels
        ON
        org_role_rels.role_id = roles.id
    WHERE
        org_role_rels.org_id = '1b33d5f9-6655-492e-9ad0-ca8125f88b2c';
    
2023-12-14 09:47:04.908 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 09:47:04.908 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55561 - "GET /org/1b33d5f9-6655-492e-9ad0-ca8125f88b2c HTTP/1.1" 200
2023-12-14 09:47:04.911 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55560 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-14 09:47:04.916 | INFO     | providers.psql_provider:fetch_one:30 - 
    SELECT
        id,
        email,
        last_name,
        first_name,
        is_super
    FROM
        users
    WHERE
        users.id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 09:47:04.936 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        orgs.id,
        orgs.p_id,
        orgs.type,
        orgs.name,
        orgs.remark
    FROM
        orgs
    JOIN
        user_org_rels
        ON
        user_org_rels.org_id = orgs.id
    WHERE
        user_org_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 09:47:04.948 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        role_permission_rels
        ON
        role_permission_rels.permission_id = permissions.id
    JOIN
        roles
        ON
        roles.id = role_permission_rels.role_id
    JOIN
        user_role_rels
        ON
        user_role_rels.role_id = roles.id
    WHERE
        user_role_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 09:47:04.952 | INFO     | providers.psql_provider:fetch_all:39 - 
    SELECT
        menus.code,
        menus.name
    FROM
        menus
    JOIN
        permission_menu_rels
        ON
        permission_menu_rels.menu_code = menus.code
    JOIN
        permissions
        ON
        permissions.id = permission_menu_rels.permission_id
    JOIN
        user_permission_rels
        ON
        user_permission_rels.permission_id = permissions.id
    WHERE
        user_permission_rels.user_id = 'd6c9c874-dce6-41f3-b818-b2b812aaec8b';
    
2023-12-14 09:47:04.957 | INFO     | uvicorn.protocols.http.httptools_impl:send:496 - 127.0.0.1:55561 - "GET /token?id=d6c9c874-dce6-41f3-b818-b2b812aaec8b HTTP/1.1" 200
2023-12-14 09:53:09.453 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2023-12-14 09:53:09.554 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2023-12-14 09:53:09.554 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2023-12-14 09:53:09.555 | INFO     | uvicorn.server:serve:86 - Finished server process [2071]
